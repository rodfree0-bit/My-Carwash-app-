import{u as v,j as e,S as j}from"./index-CiRwLPeh-1769119750716.js";import{r as i}from"./charts-C6jPuoY4-1769119750716.js";import"./vendor-COd4auuD-1769119750716.js";import"./firebase-Dp89RMPZ-1769119750716.js";const T=({navigate:r})=>{const{showToast:s}=v(),[d,n]=i.useState("Esperando ubicación..."),[c,m]=i.useState("Esperando token FCM..."),[b,x]=i.useState("Esperando acción..."),[l,u]=i.useState(null);i.useEffect(()=>{window.onLocationReceived=(o,a)=>{console.log("Native Location Received:",o,a),n(`Ubicación recibida: Lat: ${o}, Lon: ${a}`),s(`Ubicación recibida: ${o.toFixed(4)}, ${a.toFixed(4)}`,"success")};const t=window.onFCMTokenReceived;return window.onFCMTokenReceived=o=>{console.log("Test UI received FCM:",o),m(o),s("Token FCM Recibido","success"),t&&t(o)},window.onDialogResult=o=>{console.log("Dialog Result:",o),x(o?"Acción confirmada. ✅":"Acción cancelada. ❌"),s(o?"Confirmado":"Cancelado","info")},()=>{window.onLocationReceived=void 0,window.onDialogResult=void 0,window.onFCMTokenReceived=t}},[s]);const w=()=>{const t="Estoy usando la mejor app de carwash. ¡Descárgala aquí: https://my-carwashapp-e6aba.web.app/",o="Compartir Carwash App";window.Android&&window.Android.shareText?window.Android.shareText(t,o):navigator.share?navigator.share({title:o,text:t,url:"https://my-carwashapp-e6aba.web.app/"}).catch(console.error):(navigator.clipboard.writeText(t),s("Link copiado al portapapeles (Simulado)","info"))},h=()=>{const t="Confirmar Borrado",o="¿Estás seguro de que quieres borrar este elemento? Esta acción es permanente.";if(window.Android&&window.Android.showConfirmationDialog)window.Android.showConfirmationDialog(t,o,"onDialogResult");else{const a=window.confirm(o);window.onDialogResult&&window.onDialogResult(a)}},p=()=>{n("Solicitando GPS..."),window.Android&&window.Android.requestLocation?window.Android.requestLocation():navigator.geolocation.getCurrentPosition(t=>{window.onLocationReceived&&window.onLocationReceived(t.coords.latitude,t.coords.longitude)},t=>{n(`Error: ${t.message}`),s("Error obteniendo ubicación web","error")})},f=()=>{const t="¡Operación realizada con éxito!";window.Android&&window.Android.showToast?window.Android.showToast(t):s(t,"success")},g=t=>{var a;const o=(a=t.target.files)==null?void 0:a[0];o&&(u(URL.createObjectURL(o)),s("Imagen seleccionada","success"))};return e.jsx("div",{className:"min-h-screen bg-slate-50 text-slate-900 p-4 pb-20 overflow-y-auto",children:e.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Test Nativo Android"}),e.jsx("button",{onClick:()=>r(j.ADMIN_DASHBOARD),className:"text-sm text-blue-600 font-medium",children:"Volver"})]}),e.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-slate-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-blue-600 border-b border-blue-100 pb-2 mb-3",children:"1. Cámara / Galería"}),e.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Selector nativo de archivos."}),e.jsx("input",{type:"file",accept:"image/*",onChange:g,className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),l&&e.jsx("img",{src:l,alt:"Preview",className:"mt-4 rounded-lg w-full h-48 object-cover border border-slate-200"})]}),e.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-slate-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-blue-600 border-b border-blue-100 pb-2 mb-3",children:"2. Compartir"}),e.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Intent de compartir nativo."}),e.jsx("button",{onClick:w,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium active:scale-95 transition-transform",children:"¡Comparte esta App!"})]}),e.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-slate-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-blue-600 border-b border-blue-100 pb-2 mb-3",children:"3. Diálogo Nativo"}),e.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Alerta de confirmación del sistema."}),e.jsx("button",{onClick:h,className:"w-full bg-red-500 text-white py-3 rounded-lg font-medium active:scale-95 transition-transform mb-3",children:"Borrar Elemento"}),e.jsx("p",{className:"bg-slate-100 p-3 rounded font-mono text-xs text-slate-700",children:b})]}),e.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-slate-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-blue-600 border-b border-blue-100 pb-2 mb-3",children:"4. Geolocalización"}),e.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Obtener lat/lng del GPS real."}),e.jsx("button",{onClick:p,className:"w-full bg-green-600 text-white py-3 rounded-lg font-medium active:scale-95 transition-transform mb-3",children:"Obtener Coordenadas"}),e.jsx("p",{className:"bg-slate-100 p-3 rounded font-mono text-xs text-slate-700",children:d})]}),e.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-slate-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-blue-600 border-b border-blue-100 pb-2 mb-3",children:"5. Toast Nativo"}),e.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Mensaje flotante nativo Android."}),e.jsx("button",{onClick:f,className:"w-full bg-slate-800 text-white py-3 rounded-lg font-medium active:scale-95 transition-transform",children:"Mostrar Toast"})]}),e.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-slate-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-blue-600 border-b border-blue-100 pb-2 mb-3",children:"6. Token FCM"}),e.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Recepción pasiva del token."}),e.jsx("p",{className:"bg-slate-100 p-3 rounded font-mono text-xs text-slate-700 break-all",children:c})]})]})})};export{T as NativeTest};
