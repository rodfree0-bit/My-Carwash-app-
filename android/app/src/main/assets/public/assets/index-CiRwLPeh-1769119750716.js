const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/web-CC9HZOJd-1769119750716.js","assets/charts-C6jPuoY4-1769119750716.js","assets/vendor-COd4auuD-1769119750716.js","assets/firebase-Dp89RMPZ-1769119750716.js","assets/index-1bqWgyMR-1769119750716.js","assets/web-CJt9qvOY-1769119750716.js","assets/Client-CsgBpAQx-1769119750716.js","assets/LoyaltyProgram-C9XIFcjK-1769119750716.js","assets/native-B9ZlNmpp-1769119750716.js","assets/location-C_GypjLJ-1769119750716.js","assets/Washer-BCQgBh0o-1769119750716.js","assets/dateUtils-BfUzTcZq-1769119750716.js","assets/AdminPanel-CJFLs9U7-1769119750716.js","assets/NotificationService-zFEosYM1-1769119750716.js","assets/NativeTest-Buq7TnYY-1769119750716.js"])))=>i.map(i=>d[i]);
import{r as h,a as Zs,R as Xn}from"./charts-C6jPuoY4-1769119750716.js";import{r as Bw,a as Hw,g as Gw}from"./vendor-COd4auuD-1769119750716.js";import{L as Vw,m as ay,n as qw,p as Yw,_ as eo,C as to,r as Vs,t as Zw,S as Ks,E as ic,v as An,x as Pt,y as fn,z as Kw,A as sy,F as ac,B as Fw,D as oo,G as lo,H as Yd,I as sc,J as Ww,K as jd,M as ry,N as oy,O as Xw,P as Qw,Q as Wr,R as Xr,T as Jw,U as ly,V as md,W as $w,X as eS,Y as tS,Z as nS,$ as iS,a0 as aS,a1 as sS,a2 as rS,a3 as cy,a4 as oS,a5 as lS,d as Se,g as qa,i as Fn,k as Tt,o as Ct,c as lt,q as Zt,l as Cn,w as In,e as vd,a6 as Ha,u as Tn,a as yd,a7 as Ol,a8 as cS,a9 as uS,aa as dS,ab as fS}from"./firebase-Dp89RMPZ-1769119750716.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function s(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(c){if(c.ep)return;c.ep=!0;const d=s(c);fetch(c.href,d)}})();var bd={exports:{}},Vr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jg;function hS(){if(Jg)return Vr;Jg=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(r,c,d){var f=null;if(d!==void 0&&(f=""+d),c.key!==void 0&&(f=""+c.key),"key"in c){d={};for(var g in c)g!=="key"&&(d[g]=c[g])}else d=c;return c=d.ref,{$$typeof:a,type:r,key:f,ref:c!==void 0?c:null,props:d}}return Vr.Fragment=t,Vr.jsx=s,Vr.jsxs=s,Vr}var $g;function pS(){return $g||($g=1,bd.exports=hS()),bd.exports}var E=pS(),Ed={exports:{}},qr={},wd={exports:{}},Sd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em;function gS(){return em||(em=1,(function(a){function t(D,$){var se=D.length;D.push($);e:for(;0<se;){var fe=se-1>>>1,ge=D[fe];if(0<c(ge,$))D[fe]=$,D[se]=ge,se=fe;else break e}}function s(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var $=D[0],se=D.pop();if(se!==$){D[0]=se;e:for(var fe=0,ge=D.length,_e=ge>>>1;fe<_e;){var ye=2*(fe+1)-1,oe=D[ye],x=ye+1,S=D[x];if(0>c(oe,se))x<ge&&0>c(S,oe)?(D[fe]=S,D[x]=se,fe=x):(D[fe]=oe,D[ye]=se,fe=ye);else if(x<ge&&0>c(S,se))D[fe]=S,D[x]=se,fe=x;else break e}}return $}function c(D,$){var se=D.sortIndex-$.sortIndex;return se!==0?se:D.id-$.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;a.unstable_now=function(){return d.now()}}else{var f=Date,g=f.now();a.unstable_now=function(){return f.now()-g}}var m=[],y=[],v=1,w=null,L=3,A=!1,C=!1,M=!1,R=!1,K=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function j(D){for(var $=s(y);$!==null;){if($.callback===null)r(y);else if($.startTime<=D)r(y),$.sortIndex=$.expirationTime,t(m,$);else break;$=s(y)}}function I(D){if(M=!1,j(D),!C)if(s(m)!==null)C=!0,B||(B=!0,te());else{var $=s(y);$!==null&&ve(I,$.startTime-D)}}var B=!1,F=-1,ne=5,H=-1;function ce(){return R?!0:!(a.unstable_now()-H<ne)}function ue(){if(R=!1,B){var D=a.unstable_now();H=D;var $=!0;try{e:{C=!1,M&&(M=!1,Y(F),F=-1),A=!0;var se=L;try{t:{for(j(D),w=s(m);w!==null&&!(w.expirationTime>D&&ce());){var fe=w.callback;if(typeof fe=="function"){w.callback=null,L=w.priorityLevel;var ge=fe(w.expirationTime<=D);if(D=a.unstable_now(),typeof ge=="function"){w.callback=ge,j(D),$=!0;break t}w===s(m)&&r(m),j(D)}else r(m);w=s(m)}if(w!==null)$=!0;else{var _e=s(y);_e!==null&&ve(I,_e.startTime-D),$=!1}}break e}finally{w=null,L=se,A=!1}$=void 0}}finally{$?te():B=!1}}}var te;if(typeof X=="function")te=function(){X(ue)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,pe=de.port2;de.port1.onmessage=ue,te=function(){pe.postMessage(null)}}else te=function(){K(ue,0)};function ve(D,$){F=K(function(){D(a.unstable_now())},$)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(D){D.callback=null},a.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<D?Math.floor(1e3/D):5},a.unstable_getCurrentPriorityLevel=function(){return L},a.unstable_next=function(D){switch(L){case 1:case 2:case 3:var $=3;break;default:$=L}var se=L;L=$;try{return D()}finally{L=se}},a.unstable_requestPaint=function(){R=!0},a.unstable_runWithPriority=function(D,$){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var se=L;L=D;try{return $()}finally{L=se}},a.unstable_scheduleCallback=function(D,$,se){var fe=a.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?fe+se:fe):se=fe,D){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=se+ge,D={id:v++,callback:$,priorityLevel:D,startTime:se,expirationTime:ge,sortIndex:-1},se>fe?(D.sortIndex=se,t(y,D),s(m)===null&&D===s(y)&&(M?(Y(F),F=-1):M=!0,ve(I,se-fe))):(D.sortIndex=ge,t(m,D),C||A||(C=!0,B||(B=!0,te()))),D},a.unstable_shouldYield=ce,a.unstable_wrapCallback=function(D){var $=L;return function(){var se=L;L=$;try{return D.apply(this,arguments)}finally{L=se}}}})(Sd)),Sd}var tm;function mS(){return tm||(tm=1,wd.exports=gS()),wd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm;function vS(){if(nm)return qr;nm=1;var a=mS(),t=Bw(),s=Hw();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(d(e)!==e)throw Error(r(188))}function y(e){var n=e.alternate;if(!n){if(n=d(e),n===null)throw Error(r(188));return n!==e?null:e}for(var i=e,o=n;;){var l=i.return;if(l===null)break;var u=l.alternate;if(u===null){if(o=l.return,o!==null){i=o;continue}break}if(l.child===u.child){for(u=l.child;u;){if(u===i)return m(l),e;if(u===o)return m(l),n;u=u.sibling}throw Error(r(188))}if(i.return!==o.return)i=l,o=u;else{for(var p=!1,b=l.child;b;){if(b===i){p=!0,i=l,o=u;break}if(b===o){p=!0,o=l,i=u;break}b=b.sibling}if(!p){for(b=u.child;b;){if(b===i){p=!0,i=u,o=l;break}if(b===o){p=!0,o=u,i=l;break}b=b.sibling}if(!p)throw Error(r(189))}}if(i.alternate!==o)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,L=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),X=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),ce=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function te(e){return e===null||typeof e!="object"?null:(e=ue&&e[ue]||e["@@iterator"],typeof e=="function"?e:null)}var de=Symbol.for("react.client.reference");function pe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===de?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case M:return"Fragment";case K:return"Profiler";case R:return"StrictMode";case I:return"Suspense";case B:return"SuspenseList";case H:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case C:return"Portal";case X:return e.displayName||"Context";case Y:return(e._context.displayName||"Context")+".Consumer";case j:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case F:return n=e.displayName||null,n!==null?n:pe(e.type)||"Memo";case ne:n=e._payload,e=e._init;try{return pe(e(n))}catch{}}return null}var ve=Array.isArray,D=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},fe=[],ge=-1;function _e(e){return{current:e}}function ye(e){0>ge||(e.current=fe[ge],fe[ge]=null,ge--)}function oe(e,n){ge++,fe[ge]=e.current,e.current=n}var x=_e(null),S=_e(null),P=_e(null),ae=_e(null);function V(e,n){switch(oe(P,n),oe(S,e),oe(x,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?wg(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=wg(n),e=Sg(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ye(x),oe(x,e)}function ee(){ye(x),ye(S),ye(P)}function J(e){e.memoizedState!==null&&oe(ae,e);var n=x.current,i=Sg(n,e.type);n!==i&&(oe(S,e),oe(x,i))}function le(e){S.current===e&&(ye(x),ye(S)),ae.current===e&&(ye(ae),zr._currentValue=se)}var we,Re;function ke(e){if(we===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);we=n&&n[1]||"",Re=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+we+e+Re}var be=!1;function et(e,n){if(!e||be)return"";be=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(z){var U=z}Reflect.construct(e,[],W)}else{try{W.call()}catch(z){U=z}e.call(W.prototype)}}else{try{throw Error()}catch(z){U=z}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(z){if(z&&U&&typeof z.stack=="string")return[z.stack,U.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=o.DetermineComponentFrameRoot(),p=u[0],b=u[1];if(p&&b){var _=p.split(`
`),N=b.split(`
`);for(l=o=0;o<_.length&&!_[o].includes("DetermineComponentFrameRoot");)o++;for(;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;if(o===_.length||l===N.length)for(o=_.length-1,l=N.length-1;1<=o&&0<=l&&_[o]!==N[l];)l--;for(;1<=o&&0<=l;o--,l--)if(_[o]!==N[l]){if(o!==1||l!==1)do if(o--,l--,0>l||_[o]!==N[l]){var q=`
`+_[o].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=o&&0<=l);break}}}finally{be=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?ke(i):""}function qe(e,n){switch(e.tag){case 26:case 27:case 5:return ke(e.type);case 16:return ke("Lazy");case 13:return e.child!==n&&n!==null?ke("Suspense Fallback"):ke("Suspense");case 19:return ke("SuspenseList");case 0:case 15:return et(e.type,!1);case 11:return et(e.type.render,!1);case 1:return et(e.type,!0);case 31:return ke("Activity");default:return""}}function Ce(e){try{var n="",i=null;do n+=qe(e,i),i=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var zt=Object.prototype.hasOwnProperty,Ye=a.unstable_scheduleCallback,Bt=a.unstable_cancelCallback,Ri=a.unstable_shouldYield,Lt=a.unstable_requestPaint,At=a.unstable_now,Bn=a.unstable_getCurrentPriorityLevel,ba=a.unstable_ImmediatePriority,hn=a.unstable_UserBlockingPriority,ei=a.unstable_NormalPriority,On=a.unstable_LowPriority,Ea=a.unstable_IdlePriority,ti=a.log,Ja=a.unstable_setDisableYieldValue,tn=null,Ot=null;function Gt(e){if(typeof ti=="function"&&Ja(e),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(tn,e)}catch{}}var Mt=Math.clz32?Math.clz32:ni,ki=Math.log,$a=Math.LN2;function ni(e){return e>>>=0,e===0?32:31-(ki(e)/$a|0)|0}var ii=256,ai=262144,si=4194304;function Vt(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ri(e,n,i){var o=e.pendingLanes;if(o===0)return 0;var l=0,u=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var b=o&134217727;return b!==0?(o=b&~u,o!==0?l=Vt(o):(p&=b,p!==0?l=Vt(p):i||(i=b&~e,i!==0&&(l=Vt(i))))):(b=o&~u,b!==0?l=Vt(b):p!==0?l=Vt(p):i||(i=o&~e,i!==0&&(l=Vt(i)))),l===0?0:n!==0&&n!==l&&(n&u)===0&&(u=l&-l,i=n&-n,u>=i||u===32&&(i&4194048)!==0)?n:l}function pn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function es(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hn(){var e=si;return si<<=1,(si&62914560)===0&&(si=4194304),e}function Ni(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Gn(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function oi(e,n,i,o,l,u){var p=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var b=e.entanglements,_=e.expirationTimes,N=e.hiddenUpdates;for(i=p&~i;0<i;){var q=31-Mt(i),W=1<<q;b[q]=0,_[q]=-1;var U=N[q];if(U!==null)for(N[q]=null,q=0;q<U.length;q++){var z=U[q];z!==null&&(z.lane&=-536870913)}i&=~W}o!==0&&Me(e,o,0),u!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=u&~(p&~n))}function Me(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Mt(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|i&261930}function po(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var o=31-Mt(i),l=1<<o;l&n|e[o]&n&&(e[o]|=n),i&=~l}}function go(e,n){var i=n&-n;return i=(i&42)!==0?1:ts(i),(i&(e.suspendedLanes|n))!==0?0:i}function ts(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function mo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Qs(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:Yg(e.type))}function Js(e,n){var i=$.p;try{return $.p=e,n()}finally{$.p=i}}var Mn=Math.random().toString(36).slice(2),pt="__reactFiber$"+Mn,Ht="__reactProps$"+Mn,Di="__reactContainer$"+Mn,$s="__reactEvents$"+Mn,er="__reactListeners$"+Mn,cc="__reactHandles$"+Mn,vo="__reactResources$"+Mn,wa="__reactMarker$"+Mn;function tr(e){delete e[pt],delete e[Ht],delete e[$s],delete e[er],delete e[cc]}function Ii(e){var n=e[pt];if(n)return n;for(var i=e.parentNode;i;){if(n=i[Di]||i[pt]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=Og(e);e!==null;){if(i=e[pt])return i;e=Og(e)}return n}e=i,i=e.parentNode}return null}function Ui(e){if(e=e[pt]||e[Di]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Sa(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function ji(e){var n=e[vo];return n||(n=e[vo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function vt(e){e[wa]=!0}var yo=new Set,bo={};function Vn(e,n){Q(e,n),Q(e+"Capture",n)}function Q(e,n){for(bo[e]=n,e=0;e<n.length;e++)yo.add(n[e])}var ie=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),he={},xe={};function Ze(e){return zt.call(xe,e)?!0:zt.call(he,e)?!1:ie.test(e)?xe[e]=!0:(he[e]=!0,!1)}function De(e,n,i){if(Ze(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function yt(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function Qe(e,n,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+o)}}function at(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kt(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Rn(e,n,i){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var l=o.get,u=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return l.call(this)},set:function(p){i=""+p,u.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return i},setValue:function(p){i=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ft(e){if(!e._valueTracker){var n=kt(e)?"checked":"value";e._valueTracker=Rn(e,n,""+e[n])}}function gn(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),o="";return e&&(o=kt(e)?e.checked?"true":"false":e.value),e=o,e!==i?(n.setValue(e),!0):!1}function ns(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Db=/[\n"\\]/g;function mn(e){return e.replace(Db,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function uc(e,n,i,o,l,u,p,b){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+at(n)):e.value!==""+at(n)&&(e.value=""+at(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?dc(e,p,at(n)):i!=null?dc(e,p,at(i)):o!=null&&e.removeAttribute("value"),l==null&&u!=null&&(e.defaultChecked=!!u),l!=null&&(e.checked=l&&typeof l!="function"&&typeof l!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+at(b):e.removeAttribute("name")}function gf(e,n,i,o,l,u,p,b){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),n!=null||i!=null){if(!(u!=="submit"&&u!=="reset"||n!=null)){Ft(e);return}i=i!=null?""+at(i):"",n=n!=null?""+at(n):i,b||n===e.value||(e.value=n),e.defaultValue=n}o=o??l,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=b?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Ft(e)}function dc(e,n,i){n==="number"&&ns(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function is(e,n,i,o){if(e=e.options,n){n={};for(var l=0;l<i.length;l++)n["$"+i[l]]=!0;for(i=0;i<e.length;i++)l=n.hasOwnProperty("$"+e[i].value),e[i].selected!==l&&(e[i].selected=l),l&&o&&(e[i].defaultSelected=!0)}else{for(i=""+at(i),n=null,l=0;l<e.length;l++){if(e[l].value===i){e[l].selected=!0,o&&(e[l].defaultSelected=!0);return}n!==null||e[l].disabled||(n=e[l])}n!==null&&(n.selected=!0)}}function mf(e,n,i){if(n!=null&&(n=""+at(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+at(i):""}function vf(e,n,i,o){if(n==null){if(o!=null){if(i!=null)throw Error(r(92));if(ve(o)){if(1<o.length)throw Error(r(93));o=o[0]}i=o}i==null&&(i=""),n=i}i=at(n),e.defaultValue=i,o=e.textContent,o===i&&o!==""&&o!==null&&(e.value=o),Ft(e)}function as(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var Ib=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yf(e,n,i){var o=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,i):typeof i!="number"||i===0||Ib.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function bf(e,n,i){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var l in n)o=n[l],n.hasOwnProperty(l)&&i[l]!==o&&yf(e,l,o)}else for(var u in n)n.hasOwnProperty(u)&&yf(e,u,n[u])}function fc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ub=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Eo(e){return jb.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function li(){}var hc=null;function pc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ss=null,rs=null;function Ef(e){var n=Ui(e);if(n&&(e=n.stateNode)){var i=e[Ht]||null;e:switch(e=n.stateNode,n.type){case"input":if(uc(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+mn(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var o=i[n];if(o!==e&&o.form===e.form){var l=o[Ht]||null;if(!l)throw Error(r(90));uc(o,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(n=0;n<i.length;n++)o=i[n],o.form===e.form&&gn(o)}break e;case"textarea":mf(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&is(e,!!i.multiple,n,!1)}}}var gc=!1;function wf(e,n,i){if(gc)return e(n,i);gc=!0;try{var o=e(n);return o}finally{if(gc=!1,(ss!==null||rs!==null)&&(ol(),ss&&(n=ss,e=rs,rs=ss=null,Ef(n),e)))for(n=0;n<e.length;n++)Ef(e[n])}}function nr(e,n){var i=e.stateNode;if(i===null)return null;var o=i[Ht]||null;if(o===null)return null;i=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,n,typeof i));return i}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mc=!1;if(ci)try{var ir={};Object.defineProperty(ir,"passive",{get:function(){mc=!0}}),window.addEventListener("test",ir,ir),window.removeEventListener("test",ir,ir)}catch{mc=!1}var Pi=null,vc=null,wo=null;function Sf(){if(wo)return wo;var e,n=vc,i=n.length,o,l="value"in Pi?Pi.value:Pi.textContent,u=l.length;for(e=0;e<i&&n[e]===l[e];e++);var p=i-e;for(o=1;o<=p&&n[i-o]===l[u-o];o++);return wo=l.slice(e,1<o?1-o:void 0)}function So(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Lo(){return!0}function Lf(){return!1}function Wt(e){function n(i,o,l,u,p){this._reactName=i,this._targetInst=l,this.type=o,this.nativeEvent=u,this.target=p,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(i=e[b],this[b]=i?i(u):u[b]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Lo:Lf,this.isPropagationStopped=Lf,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Lo)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Lo)},persist:function(){},isPersistent:Lo}),n}var La={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_o=Wt(La),ar=w({},La,{view:0,detail:0}),Pb=Wt(ar),yc,bc,sr,Co=w({},ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sr&&(sr&&e.type==="mousemove"?(yc=e.screenX-sr.screenX,bc=e.screenY-sr.screenY):bc=yc=0,sr=e),yc)},movementY:function(e){return"movementY"in e?e.movementY:bc}}),_f=Wt(Co),zb=w({},Co,{dataTransfer:0}),Bb=Wt(zb),Hb=w({},ar,{relatedTarget:0}),Ec=Wt(Hb),Gb=w({},La,{animationName:0,elapsedTime:0,pseudoElement:0}),Vb=Wt(Gb),qb=w({},La,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yb=Wt(qb),Zb=w({},La,{data:0}),Cf=Wt(Zb),Kb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xb(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Wb[e])?!!n[e]:!1}function wc(){return Xb}var Qb=w({},ar,{key:function(e){if(e.key){var n=Kb[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=So(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Fb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wc,charCode:function(e){return e.type==="keypress"?So(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?So(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jb=Wt(Qb),$b=w({},Co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tf=Wt($b),eE=w({},ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wc}),tE=Wt(eE),nE=w({},La,{propertyName:0,elapsedTime:0,pseudoElement:0}),iE=Wt(nE),aE=w({},Co,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sE=Wt(aE),rE=w({},La,{newState:0,oldState:0}),oE=Wt(rE),lE=[9,13,27,32],Sc=ci&&"CompositionEvent"in window,rr=null;ci&&"documentMode"in document&&(rr=document.documentMode);var cE=ci&&"TextEvent"in window&&!rr,xf=ci&&(!Sc||rr&&8<rr&&11>=rr),Af=" ",Of=!1;function Mf(e,n){switch(e){case"keyup":return lE.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var os=!1;function uE(e,n){switch(e){case"compositionend":return Rf(n);case"keypress":return n.which!==32?null:(Of=!0,Af);case"textInput":return e=n.data,e===Af&&Of?null:e;default:return null}}function dE(e,n){if(os)return e==="compositionend"||!Sc&&Mf(e,n)?(e=Sf(),wo=vc=Pi=null,os=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return xf&&n.locale!=="ko"?null:n.data;default:return null}}var fE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!fE[e.type]:n==="textarea"}function Nf(e,n,i,o){ss?rs?rs.push(o):rs=[o]:ss=o,n=pl(n,"onChange"),0<n.length&&(i=new _o("onChange","change",null,i,o),e.push({event:i,listeners:n}))}var or=null,lr=null;function hE(e){gg(e,0)}function To(e){var n=Sa(e);if(gn(n))return e}function Df(e,n){if(e==="change")return n}var If=!1;if(ci){var Lc;if(ci){var _c="oninput"in document;if(!_c){var Uf=document.createElement("div");Uf.setAttribute("oninput","return;"),_c=typeof Uf.oninput=="function"}Lc=_c}else Lc=!1;If=Lc&&(!document.documentMode||9<document.documentMode)}function jf(){or&&(or.detachEvent("onpropertychange",Pf),lr=or=null)}function Pf(e){if(e.propertyName==="value"&&To(lr)){var n=[];Nf(n,lr,e,pc(e)),wf(hE,n)}}function pE(e,n,i){e==="focusin"?(jf(),or=n,lr=i,or.attachEvent("onpropertychange",Pf)):e==="focusout"&&jf()}function gE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return To(lr)}function mE(e,n){if(e==="click")return To(n)}function vE(e,n){if(e==="input"||e==="change")return To(n)}function yE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var nn=typeof Object.is=="function"?Object.is:yE;function cr(e,n){if(nn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),o=Object.keys(n);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var l=i[o];if(!zt.call(n,l)||!nn(e[l],n[l]))return!1}return!0}function zf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bf(e,n){var i=zf(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=n&&o>=n)return{node:i,offset:n-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=zf(i)}}function Hf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Hf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Gf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ns(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=ns(e.document)}return n}function Cc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var bE=ci&&"documentMode"in document&&11>=document.documentMode,ls=null,Tc=null,ur=null,xc=!1;function Vf(e,n,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;xc||ls==null||ls!==ns(o)||(o=ls,"selectionStart"in o&&Cc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ur&&cr(ur,o)||(ur=o,o=pl(Tc,"onSelect"),0<o.length&&(n=new _o("onSelect","select",null,n,i),e.push({event:n,listeners:o}),n.target=ls)))}function _a(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var cs={animationend:_a("Animation","AnimationEnd"),animationiteration:_a("Animation","AnimationIteration"),animationstart:_a("Animation","AnimationStart"),transitionrun:_a("Transition","TransitionRun"),transitionstart:_a("Transition","TransitionStart"),transitioncancel:_a("Transition","TransitionCancel"),transitionend:_a("Transition","TransitionEnd")},Ac={},qf={};ci&&(qf=document.createElement("div").style,"AnimationEvent"in window||(delete cs.animationend.animation,delete cs.animationiteration.animation,delete cs.animationstart.animation),"TransitionEvent"in window||delete cs.transitionend.transition);function Ca(e){if(Ac[e])return Ac[e];if(!cs[e])return e;var n=cs[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in qf)return Ac[e]=n[i];return e}var Yf=Ca("animationend"),Zf=Ca("animationiteration"),Kf=Ca("animationstart"),EE=Ca("transitionrun"),wE=Ca("transitionstart"),SE=Ca("transitioncancel"),Ff=Ca("transitionend"),Wf=new Map,Oc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oc.push("scrollEnd");function kn(e,n){Wf.set(e,n),Vn(n,[e])}var xo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},vn=[],us=0,Mc=0;function Ao(){for(var e=us,n=Mc=us=0;n<e;){var i=vn[n];vn[n++]=null;var o=vn[n];vn[n++]=null;var l=vn[n];vn[n++]=null;var u=vn[n];if(vn[n++]=null,o!==null&&l!==null){var p=o.pending;p===null?l.next=l:(l.next=p.next,p.next=l),o.pending=l}u!==0&&Xf(i,l,u)}}function Oo(e,n,i,o){vn[us++]=e,vn[us++]=n,vn[us++]=i,vn[us++]=o,Mc|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Rc(e,n,i,o){return Oo(e,n,i,o),Mo(e)}function Ta(e,n){return Oo(e,null,null,n),Mo(e)}function Xf(e,n,i){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i);for(var l=!1,u=e.return;u!==null;)u.childLanes|=i,o=u.alternate,o!==null&&(o.childLanes|=i),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(l=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,l&&n!==null&&(l=31-Mt(i),e=u.hiddenUpdates,o=e[l],o===null?e[l]=[n]:o.push(n),n.lane=i|536870912),u):null}function Mo(e){if(50<kr)throw kr=0,Bu=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ds={};function LE(e,n,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(e,n,i,o){return new LE(e,n,i,o)}function kc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ui(e,n){var i=e.alternate;return i===null?(i=an(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Qf(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ro(e,n,i,o,l,u){var p=0;if(o=e,typeof e=="function")kc(e)&&(p=1);else if(typeof e=="string")p=Aw(e,i,x.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case H:return e=an(31,i,n,l),e.elementType=H,e.lanes=u,e;case M:return xa(i.children,l,u,n);case R:p=8,l|=24;break;case K:return e=an(12,i,n,l|2),e.elementType=K,e.lanes=u,e;case I:return e=an(13,i,n,l),e.elementType=I,e.lanes=u,e;case B:return e=an(19,i,n,l),e.elementType=B,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case X:p=10;break e;case Y:p=9;break e;case j:p=11;break e;case F:p=14;break e;case ne:p=16,o=null;break e}p=29,i=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=an(p,i,n,l),n.elementType=e,n.type=o,n.lanes=u,n}function xa(e,n,i,o){return e=an(7,e,o,n),e.lanes=i,e}function Nc(e,n,i){return e=an(6,e,null,n),e.lanes=i,e}function Jf(e){var n=an(18,null,null,0);return n.stateNode=e,n}function Dc(e,n,i){return n=an(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var $f=new WeakMap;function yn(e,n){if(typeof e=="object"&&e!==null){var i=$f.get(e);return i!==void 0?i:(n={value:e,source:n,stack:Ce(n)},$f.set(e,n),n)}return{value:e,source:n,stack:Ce(n)}}var fs=[],hs=0,ko=null,dr=0,bn=[],En=0,zi=null,qn=1,Yn="";function di(e,n){fs[hs++]=dr,fs[hs++]=ko,ko=e,dr=n}function eh(e,n,i){bn[En++]=qn,bn[En++]=Yn,bn[En++]=zi,zi=e;var o=qn;e=Yn;var l=32-Mt(o)-1;o&=~(1<<l),i+=1;var u=32-Mt(n)+l;if(30<u){var p=l-l%5;u=(o&(1<<p)-1).toString(32),o>>=p,l-=p,qn=1<<32-Mt(n)+l|i<<l|o,Yn=u+e}else qn=1<<u|i<<l|o,Yn=e}function Ic(e){e.return!==null&&(di(e,1),eh(e,1,0))}function Uc(e){for(;e===ko;)ko=fs[--hs],fs[hs]=null,dr=fs[--hs],fs[hs]=null;for(;e===zi;)zi=bn[--En],bn[En]=null,Yn=bn[--En],bn[En]=null,qn=bn[--En],bn[En]=null}function th(e,n){bn[En++]=qn,bn[En++]=Yn,bn[En++]=zi,qn=n.id,Yn=n.overflow,zi=e}var Nt=null,rt=null,Ve=!1,Bi=null,wn=!1,jc=Error(r(519));function Hi(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fr(yn(n,e)),jc}function nh(e){var n=e.stateNode,i=e.type,o=e.memoizedProps;switch(n[pt]=e,n[Ht]=o,i){case"dialog":ze("cancel",n),ze("close",n);break;case"iframe":case"object":case"embed":ze("load",n);break;case"video":case"audio":for(i=0;i<Dr.length;i++)ze(Dr[i],n);break;case"source":ze("error",n);break;case"img":case"image":case"link":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"input":ze("invalid",n),gf(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":ze("invalid",n);break;case"textarea":ze("invalid",n),vf(n,o.value,o.defaultValue,o.children)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||o.suppressHydrationWarning===!0||bg(n.textContent,i)?(o.popover!=null&&(ze("beforetoggle",n),ze("toggle",n)),o.onScroll!=null&&ze("scroll",n),o.onScrollEnd!=null&&ze("scrollend",n),o.onClick!=null&&(n.onclick=li),n=!0):n=!1,n||Hi(e,!0)}function ih(e){for(Nt=e.return;Nt;)switch(Nt.tag){case 5:case 31:case 13:wn=!1;return;case 27:case 3:wn=!0;return;default:Nt=Nt.return}}function ps(e){if(e!==Nt)return!1;if(!Ve)return ih(e),Ve=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||td(e.type,e.memoizedProps)),i=!i),i&&rt&&Hi(e),ih(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));rt=Ag(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));rt=Ag(e)}else n===27?(n=rt,ta(e.type)?(e=rd,rd=null,rt=e):rt=n):rt=Nt?Ln(e.stateNode.nextSibling):null;return!0}function Aa(){rt=Nt=null,Ve=!1}function Pc(){var e=Bi;return e!==null&&($t===null?$t=e:$t.push.apply($t,e),Bi=null),e}function fr(e){Bi===null?Bi=[e]:Bi.push(e)}var zc=_e(null),Oa=null,fi=null;function Gi(e,n,i){oe(zc,n._currentValue),n._currentValue=i}function hi(e){e._currentValue=zc.current,ye(zc)}function Bc(e,n,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===i)break;e=e.return}}function Hc(e,n,i,o){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var u=l.dependencies;if(u!==null){var p=l.child;u=u.firstContext;e:for(;u!==null;){var b=u;u=l;for(var _=0;_<n.length;_++)if(b.context===n[_]){u.lanes|=i,b=u.alternate,b!==null&&(b.lanes|=i),Bc(u.return,i,e),o||(p=null);break e}u=b.next}}else if(l.tag===18){if(p=l.return,p===null)throw Error(r(341));p.lanes|=i,u=p.alternate,u!==null&&(u.lanes|=i),Bc(p,i,e),p=null}else p=l.child;if(p!==null)p.return=l;else for(p=l;p!==null;){if(p===e){p=null;break}if(l=p.sibling,l!==null){l.return=p.return,p=l;break}p=p.return}l=p}}function gs(e,n,i,o){e=null;for(var l=n,u=!1;l!==null;){if(!u){if((l.flags&524288)!==0)u=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var p=l.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var b=l.type;nn(l.pendingProps.value,p.value)||(e!==null?e.push(b):e=[b])}}else if(l===ae.current){if(p=l.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(zr):e=[zr])}l=l.return}e!==null&&Hc(n,e,i,o),n.flags|=262144}function No(e){for(e=e.firstContext;e!==null;){if(!nn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ma(e){Oa=e,fi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Dt(e){return ah(Oa,e)}function Do(e,n){return Oa===null&&Ma(e),ah(e,n)}function ah(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},fi===null){if(e===null)throw Error(r(308));fi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else fi=fi.next=n;return i}var _E=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},CE=a.unstable_scheduleCallback,TE=a.unstable_NormalPriority,bt={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gc(){return{controller:new _E,data:new Map,refCount:0}}function hr(e){e.refCount--,e.refCount===0&&CE(TE,function(){e.controller.abort()})}var pr=null,Vc=0,ms=0,vs=null;function xE(e,n){if(pr===null){var i=pr=[];Vc=0,ms=Zu(),vs={status:"pending",value:void 0,then:function(o){i.push(o)}}}return Vc++,n.then(sh,sh),n}function sh(){if(--Vc===0&&pr!==null){vs!==null&&(vs.status="fulfilled");var e=pr;pr=null,ms=0,vs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function AE(e,n){var i=[],o={status:"pending",value:null,reason:null,then:function(l){i.push(l)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var l=0;l<i.length;l++)(0,i[l])(n)},function(l){for(o.status="rejected",o.reason=l,l=0;l<i.length;l++)(0,i[l])(void 0)}),o}var rh=D.S;D.S=function(e,n){Vp=At(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&xE(e,n),rh!==null&&rh(e,n)};var Ra=_e(null);function qc(){var e=Ra.current;return e!==null?e:st.pooledCache}function Io(e,n){n===null?oe(Ra,Ra.current):oe(Ra,n.pool)}function oh(){var e=qc();return e===null?null:{parent:bt._currentValue,pool:e}}var ys=Error(r(460)),Yc=Error(r(474)),Uo=Error(r(542)),jo={then:function(){}};function lh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ch(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(li,li),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,dh(e),e;default:if(typeof n.status=="string")n.then(li,li);else{if(e=st,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var l=n;l.status="fulfilled",l.value=o}},function(o){if(n.status==="pending"){var l=n;l.status="rejected",l.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,dh(e),e}throw Na=n,ys}}function ka(e){try{var n=e._init;return n(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Na=i,ys):i}}var Na=null;function uh(){if(Na===null)throw Error(r(459));var e=Na;return Na=null,e}function dh(e){if(e===ys||e===Uo)throw Error(r(483))}var bs=null,gr=0;function Po(e){var n=gr;return gr+=1,bs===null&&(bs=[]),ch(bs,e,n)}function mr(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function zo(e,n){throw n.$$typeof===L?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function fh(e){function n(O,T){if(e){var k=O.deletions;k===null?(O.deletions=[T],O.flags|=16):k.push(T)}}function i(O,T){if(!e)return null;for(;T!==null;)n(O,T),T=T.sibling;return null}function o(O){for(var T=new Map;O!==null;)O.key!==null?T.set(O.key,O):T.set(O.index,O),O=O.sibling;return T}function l(O,T){return O=ui(O,T),O.index=0,O.sibling=null,O}function u(O,T,k){return O.index=k,e?(k=O.alternate,k!==null?(k=k.index,k<T?(O.flags|=67108866,T):k):(O.flags|=67108866,T)):(O.flags|=1048576,T)}function p(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function b(O,T,k,Z){return T===null||T.tag!==6?(T=Nc(k,O.mode,Z),T.return=O,T):(T=l(T,k),T.return=O,T)}function _(O,T,k,Z){var Le=k.type;return Le===M?q(O,T,k.props.children,Z,k.key):T!==null&&(T.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===ne&&ka(Le)===T.type)?(T=l(T,k.props),mr(T,k),T.return=O,T):(T=Ro(k.type,k.key,k.props,null,O.mode,Z),mr(T,k),T.return=O,T)}function N(O,T,k,Z){return T===null||T.tag!==4||T.stateNode.containerInfo!==k.containerInfo||T.stateNode.implementation!==k.implementation?(T=Dc(k,O.mode,Z),T.return=O,T):(T=l(T,k.children||[]),T.return=O,T)}function q(O,T,k,Z,Le){return T===null||T.tag!==7?(T=xa(k,O.mode,Z,Le),T.return=O,T):(T=l(T,k),T.return=O,T)}function W(O,T,k){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=Nc(""+T,O.mode,k),T.return=O,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case A:return k=Ro(T.type,T.key,T.props,null,O.mode,k),mr(k,T),k.return=O,k;case C:return T=Dc(T,O.mode,k),T.return=O,T;case ne:return T=ka(T),W(O,T,k)}if(ve(T)||te(T))return T=xa(T,O.mode,k,null),T.return=O,T;if(typeof T.then=="function")return W(O,Po(T),k);if(T.$$typeof===X)return W(O,Do(O,T),k);zo(O,T)}return null}function U(O,T,k,Z){var Le=T!==null?T.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return Le!==null?null:b(O,T,""+k,Z);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case A:return k.key===Le?_(O,T,k,Z):null;case C:return k.key===Le?N(O,T,k,Z):null;case ne:return k=ka(k),U(O,T,k,Z)}if(ve(k)||te(k))return Le!==null?null:q(O,T,k,Z,null);if(typeof k.then=="function")return U(O,T,Po(k),Z);if(k.$$typeof===X)return U(O,T,Do(O,k),Z);zo(O,k)}return null}function z(O,T,k,Z,Le){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return O=O.get(k)||null,b(T,O,""+Z,Le);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case A:return O=O.get(Z.key===null?k:Z.key)||null,_(T,O,Z,Le);case C:return O=O.get(Z.key===null?k:Z.key)||null,N(T,O,Z,Le);case ne:return Z=ka(Z),z(O,T,k,Z,Le)}if(ve(Z)||te(Z))return O=O.get(k)||null,q(T,O,Z,Le,null);if(typeof Z.then=="function")return z(O,T,k,Po(Z),Le);if(Z.$$typeof===X)return z(O,T,k,Do(T,Z),Le);zo(T,Z)}return null}function me(O,T,k,Z){for(var Le=null,Ke=null,Ee=T,Ie=T=0,Ge=null;Ee!==null&&Ie<k.length;Ie++){Ee.index>Ie?(Ge=Ee,Ee=null):Ge=Ee.sibling;var Fe=U(O,Ee,k[Ie],Z);if(Fe===null){Ee===null&&(Ee=Ge);break}e&&Ee&&Fe.alternate===null&&n(O,Ee),T=u(Fe,T,Ie),Ke===null?Le=Fe:Ke.sibling=Fe,Ke=Fe,Ee=Ge}if(Ie===k.length)return i(O,Ee),Ve&&di(O,Ie),Le;if(Ee===null){for(;Ie<k.length;Ie++)Ee=W(O,k[Ie],Z),Ee!==null&&(T=u(Ee,T,Ie),Ke===null?Le=Ee:Ke.sibling=Ee,Ke=Ee);return Ve&&di(O,Ie),Le}for(Ee=o(Ee);Ie<k.length;Ie++)Ge=z(Ee,O,Ie,k[Ie],Z),Ge!==null&&(e&&Ge.alternate!==null&&Ee.delete(Ge.key===null?Ie:Ge.key),T=u(Ge,T,Ie),Ke===null?Le=Ge:Ke.sibling=Ge,Ke=Ge);return e&&Ee.forEach(function(ra){return n(O,ra)}),Ve&&di(O,Ie),Le}function Te(O,T,k,Z){if(k==null)throw Error(r(151));for(var Le=null,Ke=null,Ee=T,Ie=T=0,Ge=null,Fe=k.next();Ee!==null&&!Fe.done;Ie++,Fe=k.next()){Ee.index>Ie?(Ge=Ee,Ee=null):Ge=Ee.sibling;var ra=U(O,Ee,Fe.value,Z);if(ra===null){Ee===null&&(Ee=Ge);break}e&&Ee&&ra.alternate===null&&n(O,Ee),T=u(ra,T,Ie),Ke===null?Le=ra:Ke.sibling=ra,Ke=ra,Ee=Ge}if(Fe.done)return i(O,Ee),Ve&&di(O,Ie),Le;if(Ee===null){for(;!Fe.done;Ie++,Fe=k.next())Fe=W(O,Fe.value,Z),Fe!==null&&(T=u(Fe,T,Ie),Ke===null?Le=Fe:Ke.sibling=Fe,Ke=Fe);return Ve&&di(O,Ie),Le}for(Ee=o(Ee);!Fe.done;Ie++,Fe=k.next())Fe=z(Ee,O,Ie,Fe.value,Z),Fe!==null&&(e&&Fe.alternate!==null&&Ee.delete(Fe.key===null?Ie:Fe.key),T=u(Fe,T,Ie),Ke===null?Le=Fe:Ke.sibling=Fe,Ke=Fe);return e&&Ee.forEach(function(zw){return n(O,zw)}),Ve&&di(O,Ie),Le}function it(O,T,k,Z){if(typeof k=="object"&&k!==null&&k.type===M&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case A:e:{for(var Le=k.key;T!==null;){if(T.key===Le){if(Le=k.type,Le===M){if(T.tag===7){i(O,T.sibling),Z=l(T,k.props.children),Z.return=O,O=Z;break e}}else if(T.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===ne&&ka(Le)===T.type){i(O,T.sibling),Z=l(T,k.props),mr(Z,k),Z.return=O,O=Z;break e}i(O,T);break}else n(O,T);T=T.sibling}k.type===M?(Z=xa(k.props.children,O.mode,Z,k.key),Z.return=O,O=Z):(Z=Ro(k.type,k.key,k.props,null,O.mode,Z),mr(Z,k),Z.return=O,O=Z)}return p(O);case C:e:{for(Le=k.key;T!==null;){if(T.key===Le)if(T.tag===4&&T.stateNode.containerInfo===k.containerInfo&&T.stateNode.implementation===k.implementation){i(O,T.sibling),Z=l(T,k.children||[]),Z.return=O,O=Z;break e}else{i(O,T);break}else n(O,T);T=T.sibling}Z=Dc(k,O.mode,Z),Z.return=O,O=Z}return p(O);case ne:return k=ka(k),it(O,T,k,Z)}if(ve(k))return me(O,T,k,Z);if(te(k)){if(Le=te(k),typeof Le!="function")throw Error(r(150));return k=Le.call(k),Te(O,T,k,Z)}if(typeof k.then=="function")return it(O,T,Po(k),Z);if(k.$$typeof===X)return it(O,T,Do(O,k),Z);zo(O,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,T!==null&&T.tag===6?(i(O,T.sibling),Z=l(T,k),Z.return=O,O=Z):(i(O,T),Z=Nc(k,O.mode,Z),Z.return=O,O=Z),p(O)):i(O,T)}return function(O,T,k,Z){try{gr=0;var Le=it(O,T,k,Z);return bs=null,Le}catch(Ee){if(Ee===ys||Ee===Uo)throw Ee;var Ke=an(29,Ee,null,O.mode);return Ke.lanes=Z,Ke.return=O,Ke}finally{}}}var Da=fh(!0),hh=fh(!1),Vi=!1;function Zc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function qi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Yi(e,n,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Xe&2)!==0){var l=o.pending;return l===null?n.next=n:(n.next=l.next,l.next=n),o.pending=n,n=Mo(e),Xf(e,null,i),n}return Oo(e,o,n,i),Mo(e)}function vr(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,po(e,i)}}function Fc(e,n){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var l=null,u=null;if(i=i.firstBaseUpdate,i!==null){do{var p={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};u===null?l=u=p:u=u.next=p,i=i.next}while(i!==null);u===null?l=u=n:u=u.next=n}else l=u=n;i={baseState:o.baseState,firstBaseUpdate:l,lastBaseUpdate:u,shared:o.shared,callbacks:o.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var Wc=!1;function yr(){if(Wc){var e=vs;if(e!==null)throw e}}function br(e,n,i,o){Wc=!1;var l=e.updateQueue;Vi=!1;var u=l.firstBaseUpdate,p=l.lastBaseUpdate,b=l.shared.pending;if(b!==null){l.shared.pending=null;var _=b,N=_.next;_.next=null,p===null?u=N:p.next=N,p=_;var q=e.alternate;q!==null&&(q=q.updateQueue,b=q.lastBaseUpdate,b!==p&&(b===null?q.firstBaseUpdate=N:b.next=N,q.lastBaseUpdate=_))}if(u!==null){var W=l.baseState;p=0,q=N=_=null,b=u;do{var U=b.lane&-536870913,z=U!==b.lane;if(z?(He&U)===U:(o&U)===U){U!==0&&U===ms&&(Wc=!0),q!==null&&(q=q.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var me=e,Te=b;U=n;var it=i;switch(Te.tag){case 1:if(me=Te.payload,typeof me=="function"){W=me.call(it,W,U);break e}W=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Te.payload,U=typeof me=="function"?me.call(it,W,U):me,U==null)break e;W=w({},W,U);break e;case 2:Vi=!0}}U=b.callback,U!==null&&(e.flags|=64,z&&(e.flags|=8192),z=l.callbacks,z===null?l.callbacks=[U]:z.push(U))}else z={lane:U,tag:b.tag,payload:b.payload,callback:b.callback,next:null},q===null?(N=q=z,_=W):q=q.next=z,p|=U;if(b=b.next,b===null){if(b=l.shared.pending,b===null)break;z=b,b=z.next,z.next=null,l.lastBaseUpdate=z,l.shared.pending=null}}while(!0);q===null&&(_=W),l.baseState=_,l.firstBaseUpdate=N,l.lastBaseUpdate=q,u===null&&(l.shared.lanes=0),Xi|=p,e.lanes=p,e.memoizedState=W}}function ph(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function gh(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)ph(i[e],n)}var Es=_e(null),Bo=_e(0);function mh(e,n){e=Si,oe(Bo,e),oe(Es,n),Si=e|n.baseLanes}function Xc(){oe(Bo,Si),oe(Es,Es.current)}function Qc(){Si=Bo.current,ye(Es),ye(Bo)}var sn=_e(null),Sn=null;function Zi(e){var n=e.alternate;oe(gt,gt.current&1),oe(sn,e),Sn===null&&(n===null||Es.current!==null||n.memoizedState!==null)&&(Sn=e)}function Jc(e){oe(gt,gt.current),oe(sn,e),Sn===null&&(Sn=e)}function vh(e){e.tag===22?(oe(gt,gt.current),oe(sn,e),Sn===null&&(Sn=e)):Ki()}function Ki(){oe(gt,gt.current),oe(sn,sn.current)}function rn(e){ye(sn),Sn===e&&(Sn=null),ye(gt)}var gt=_e(0);function Ho(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||ad(i)||sd(i)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var pi=0,Ne=null,tt=null,Et=null,Go=!1,ws=!1,Ia=!1,Vo=0,Er=0,Ss=null,OE=0;function ut(){throw Error(r(321))}function $c(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!nn(e[i],n[i]))return!1;return!0}function eu(e,n,i,o,l,u){return pi=u,Ne=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,D.H=e===null||e.memoizedState===null?ep:gu,Ia=!1,u=i(o,l),Ia=!1,ws&&(u=bh(n,i,o,l)),yh(e),u}function yh(e){D.H=Lr;var n=tt!==null&&tt.next!==null;if(pi=0,Et=tt=Ne=null,Go=!1,Er=0,Ss=null,n)throw Error(r(300));e===null||wt||(e=e.dependencies,e!==null&&No(e)&&(wt=!0))}function bh(e,n,i,o){Ne=e;var l=0;do{if(ws&&(Ss=null),Er=0,ws=!1,25<=l)throw Error(r(301));if(l+=1,Et=tt=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}D.H=tp,u=n(i,o)}while(ws);return u}function ME(){var e=D.H,n=e.useState()[0];return n=typeof n.then=="function"?wr(n):n,e=e.useState()[0],(tt!==null?tt.memoizedState:null)!==e&&(Ne.flags|=1024),n}function tu(){var e=Vo!==0;return Vo=0,e}function nu(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function iu(e){if(Go){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Go=!1}pi=0,Et=tt=Ne=null,ws=!1,Er=Vo=0,Ss=null}function qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Ne.memoizedState=Et=e:Et=Et.next=e,Et}function mt(){if(tt===null){var e=Ne.alternate;e=e!==null?e.memoizedState:null}else e=tt.next;var n=Et===null?Ne.memoizedState:Et.next;if(n!==null)Et=n,tt=e;else{if(e===null)throw Ne.alternate===null?Error(r(467)):Error(r(310));tt=e,e={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Et===null?Ne.memoizedState=Et=e:Et=Et.next=e}return Et}function qo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wr(e){var n=Er;return Er+=1,Ss===null&&(Ss=[]),e=ch(Ss,e,n),n=Ne,(Et===null?n.memoizedState:Et.next)===null&&(n=n.alternate,D.H=n===null||n.memoizedState===null?ep:gu),e}function Yo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return wr(e);if(e.$$typeof===X)return Dt(e)}throw Error(r(438,String(e)))}function au(e){var n=null,i=Ne.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var o=Ne.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(l){return l.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=qo(),Ne.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),o=0;o<e;o++)i[o]=ce;return n.index++,i}function gi(e,n){return typeof n=="function"?n(e):n}function Zo(e){var n=mt();return su(n,tt,e)}function su(e,n,i){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var l=e.baseQueue,u=o.pending;if(u!==null){if(l!==null){var p=l.next;l.next=u.next,u.next=p}n.baseQueue=l=u,o.pending=null}if(u=e.baseState,l===null)e.memoizedState=u;else{n=l.next;var b=p=null,_=null,N=n,q=!1;do{var W=N.lane&-536870913;if(W!==N.lane?(He&W)===W:(pi&W)===W){var U=N.revertLane;if(U===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),W===ms&&(q=!0);else if((pi&U)===U){N=N.next,U===ms&&(q=!0);continue}else W={lane:0,revertLane:N.revertLane,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},_===null?(b=_=W,p=u):_=_.next=W,Ne.lanes|=U,Xi|=U;W=N.action,Ia&&i(u,W),u=N.hasEagerState?N.eagerState:i(u,W)}else U={lane:W,revertLane:N.revertLane,gesture:N.gesture,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},_===null?(b=_=U,p=u):_=_.next=U,Ne.lanes|=W,Xi|=W;N=N.next}while(N!==null&&N!==n);if(_===null?p=u:_.next=b,!nn(u,e.memoizedState)&&(wt=!0,q&&(i=vs,i!==null)))throw i;e.memoizedState=u,e.baseState=p,e.baseQueue=_,o.lastRenderedState=u}return l===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function ru(e){var n=mt(),i=n.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var o=i.dispatch,l=i.pending,u=n.memoizedState;if(l!==null){i.pending=null;var p=l=l.next;do u=e(u,p.action),p=p.next;while(p!==l);nn(u,n.memoizedState)||(wt=!0),n.memoizedState=u,n.baseQueue===null&&(n.baseState=u),i.lastRenderedState=u}return[u,o]}function Eh(e,n,i){var o=Ne,l=mt(),u=Ve;if(u){if(i===void 0)throw Error(r(407));i=i()}else i=n();var p=!nn((tt||l).memoizedState,i);if(p&&(l.memoizedState=i,wt=!0),l=l.queue,cu(Lh.bind(null,o,l,e),[e]),l.getSnapshot!==n||p||Et!==null&&Et.memoizedState.tag&1){if(o.flags|=2048,Ls(9,{destroy:void 0},Sh.bind(null,o,l,i,n),null),st===null)throw Error(r(349));u||(pi&127)!==0||wh(o,n,i)}return i}function wh(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=Ne.updateQueue,n===null?(n=qo(),Ne.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function Sh(e,n,i,o){n.value=i,n.getSnapshot=o,_h(n)&&Ch(e)}function Lh(e,n,i){return i(function(){_h(n)&&Ch(e)})}function _h(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!nn(e,i)}catch{return!0}}function Ch(e){var n=Ta(e,2);n!==null&&en(n,e,2)}function ou(e){var n=qt();if(typeof e=="function"){var i=e;if(e=i(),Ia){Gt(!0);try{i()}finally{Gt(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:e},n}function Th(e,n,i,o){return e.baseState=i,su(e,tt,typeof o=="function"?o:gi)}function RE(e,n,i,o,l){if(Wo(e))throw Error(r(485));if(e=n.action,e!==null){var u={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){u.listeners.push(p)}};D.T!==null?i(!0):u.isTransition=!1,o(u),i=n.pending,i===null?(u.next=n.pending=u,xh(n,u)):(u.next=i.next,n.pending=i.next=u)}}function xh(e,n){var i=n.action,o=n.payload,l=e.state;if(n.isTransition){var u=D.T,p={};D.T=p;try{var b=i(l,o),_=D.S;_!==null&&_(p,b),Ah(e,n,b)}catch(N){lu(e,n,N)}finally{u!==null&&p.types!==null&&(u.types=p.types),D.T=u}}else try{u=i(l,o),Ah(e,n,u)}catch(N){lu(e,n,N)}}function Ah(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){Oh(e,n,o)},function(o){return lu(e,n,o)}):Oh(e,n,i)}function Oh(e,n,i){n.status="fulfilled",n.value=i,Mh(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,xh(e,i)))}function lu(e,n,i){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=i,Mh(n),n=n.next;while(n!==o)}e.action=null}function Mh(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Rh(e,n){return n}function kh(e,n){if(Ve){var i=st.formState;if(i!==null){e:{var o=Ne;if(Ve){if(rt){t:{for(var l=rt,u=wn;l.nodeType!==8;){if(!u){l=null;break t}if(l=Ln(l.nextSibling),l===null){l=null;break t}}u=l.data,l=u==="F!"||u==="F"?l:null}if(l){rt=Ln(l.nextSibling),o=l.data==="F!";break e}}Hi(o)}o=!1}o&&(n=i[0])}}return i=qt(),i.memoizedState=i.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rh,lastRenderedState:n},i.queue=o,i=Qh.bind(null,Ne,o),o.dispatch=i,o=ou(!1),u=pu.bind(null,Ne,!1,o.queue),o=qt(),l={state:n,dispatch:null,action:e,pending:null},o.queue=l,i=RE.bind(null,Ne,l,u,i),l.dispatch=i,o.memoizedState=e,[n,i,!1]}function Nh(e){var n=mt();return Dh(n,tt,e)}function Dh(e,n,i){if(n=su(e,n,Rh)[0],e=Zo(gi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=wr(n)}catch(p){throw p===ys?Uo:p}else o=n;n=mt();var l=n.queue,u=l.dispatch;return i!==n.memoizedState&&(Ne.flags|=2048,Ls(9,{destroy:void 0},kE.bind(null,l,i),null)),[o,u,e]}function kE(e,n){e.action=n}function Ih(e){var n=mt(),i=tt;if(i!==null)return Dh(n,i,e);mt(),n=n.memoizedState,i=mt();var o=i.queue.dispatch;return i.memoizedState=e,[n,o,!1]}function Ls(e,n,i,o){return e={tag:e,create:i,deps:o,inst:n,next:null},n=Ne.updateQueue,n===null&&(n=qo(),Ne.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,n.lastEffect=e),e}function Uh(){return mt().memoizedState}function Ko(e,n,i,o){var l=qt();Ne.flags|=e,l.memoizedState=Ls(1|n,{destroy:void 0},i,o===void 0?null:o)}function Fo(e,n,i,o){var l=mt();o=o===void 0?null:o;var u=l.memoizedState.inst;tt!==null&&o!==null&&$c(o,tt.memoizedState.deps)?l.memoizedState=Ls(n,u,i,o):(Ne.flags|=e,l.memoizedState=Ls(1|n,u,i,o))}function jh(e,n){Ko(8390656,8,e,n)}function cu(e,n){Fo(2048,8,e,n)}function NE(e){Ne.flags|=4;var n=Ne.updateQueue;if(n===null)n=qo(),Ne.updateQueue=n,n.events=[e];else{var i=n.events;i===null?n.events=[e]:i.push(e)}}function Ph(e){var n=mt().memoizedState;return NE({ref:n,nextImpl:e}),function(){if((Xe&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function zh(e,n){return Fo(4,2,e,n)}function Bh(e,n){return Fo(4,4,e,n)}function Hh(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Gh(e,n,i){i=i!=null?i.concat([e]):null,Fo(4,4,Hh.bind(null,n,e),i)}function uu(){}function Vh(e,n){var i=mt();n=n===void 0?null:n;var o=i.memoizedState;return n!==null&&$c(n,o[1])?o[0]:(i.memoizedState=[e,n],e)}function qh(e,n){var i=mt();n=n===void 0?null:n;var o=i.memoizedState;if(n!==null&&$c(n,o[1]))return o[0];if(o=e(),Ia){Gt(!0);try{e()}finally{Gt(!1)}}return i.memoizedState=[o,n],o}function du(e,n,i){return i===void 0||(pi&1073741824)!==0&&(He&261930)===0?e.memoizedState=n:(e.memoizedState=i,e=Yp(),Ne.lanes|=e,Xi|=e,i)}function Yh(e,n,i,o){return nn(i,n)?i:Es.current!==null?(e=du(e,i,o),nn(e,n)||(wt=!0),e):(pi&42)===0||(pi&1073741824)!==0&&(He&261930)===0?(wt=!0,e.memoizedState=i):(e=Yp(),Ne.lanes|=e,Xi|=e,n)}function Zh(e,n,i,o,l){var u=$.p;$.p=u!==0&&8>u?u:8;var p=D.T,b={};D.T=b,pu(e,!1,n,i);try{var _=l(),N=D.S;if(N!==null&&N(b,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var q=AE(_,o);Sr(e,n,q,cn(e))}else Sr(e,n,o,cn(e))}catch(W){Sr(e,n,{then:function(){},status:"rejected",reason:W},cn())}finally{$.p=u,p!==null&&b.types!==null&&(p.types=b.types),D.T=p}}function DE(){}function fu(e,n,i,o){if(e.tag!==5)throw Error(r(476));var l=Kh(e).queue;Zh(e,l,n,se,i===null?DE:function(){return Fh(e),i(o)})}function Kh(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:se},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Fh(e){var n=Kh(e);n.next===null&&(n=e.alternate.memoizedState),Sr(e,n.next.queue,{},cn())}function hu(){return Dt(zr)}function Wh(){return mt().memoizedState}function Xh(){return mt().memoizedState}function IE(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=cn();e=qi(i);var o=Yi(n,e,i);o!==null&&(en(o,n,i),vr(o,n,i)),n={cache:Gc()},e.payload=n;return}n=n.return}}function UE(e,n,i){var o=cn();i={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Wo(e)?Jh(n,i):(i=Rc(e,n,i,o),i!==null&&(en(i,e,o),$h(i,n,o)))}function Qh(e,n,i){var o=cn();Sr(e,n,i,o)}function Sr(e,n,i,o){var l={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Wo(e))Jh(n,l);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=n.lastRenderedReducer,u!==null))try{var p=n.lastRenderedState,b=u(p,i);if(l.hasEagerState=!0,l.eagerState=b,nn(b,p))return Oo(e,n,l,0),st===null&&Ao(),!1}catch{}finally{}if(i=Rc(e,n,l,o),i!==null)return en(i,e,o),$h(i,n,o),!0}return!1}function pu(e,n,i,o){if(o={lane:2,revertLane:Zu(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Wo(e)){if(n)throw Error(r(479))}else n=Rc(e,i,o,2),n!==null&&en(n,e,2)}function Wo(e){var n=e.alternate;return e===Ne||n!==null&&n===Ne}function Jh(e,n){ws=Go=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function $h(e,n,i){if((i&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,po(e,i)}}var Lr={readContext:Dt,use:Yo,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut,useHostTransitionStatus:ut,useFormState:ut,useActionState:ut,useOptimistic:ut,useMemoCache:ut,useCacheRefresh:ut};Lr.useEffectEvent=ut;var ep={readContext:Dt,use:Yo,useCallback:function(e,n){return qt().memoizedState=[e,n===void 0?null:n],e},useContext:Dt,useEffect:jh,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,Ko(4194308,4,Hh.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Ko(4194308,4,e,n)},useInsertionEffect:function(e,n){Ko(4,2,e,n)},useMemo:function(e,n){var i=qt();n=n===void 0?null:n;var o=e();if(Ia){Gt(!0);try{e()}finally{Gt(!1)}}return i.memoizedState=[o,n],o},useReducer:function(e,n,i){var o=qt();if(i!==void 0){var l=i(n);if(Ia){Gt(!0);try{i(n)}finally{Gt(!1)}}}else l=n;return o.memoizedState=o.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},o.queue=e,e=e.dispatch=UE.bind(null,Ne,e),[o.memoizedState,e]},useRef:function(e){var n=qt();return e={current:e},n.memoizedState=e},useState:function(e){e=ou(e);var n=e.queue,i=Qh.bind(null,Ne,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:uu,useDeferredValue:function(e,n){var i=qt();return du(i,e,n)},useTransition:function(){var e=ou(!1);return e=Zh.bind(null,Ne,e.queue,!0,!1),qt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var o=Ne,l=qt();if(Ve){if(i===void 0)throw Error(r(407));i=i()}else{if(i=n(),st===null)throw Error(r(349));(He&127)!==0||wh(o,n,i)}l.memoizedState=i;var u={value:i,getSnapshot:n};return l.queue=u,jh(Lh.bind(null,o,u,e),[e]),o.flags|=2048,Ls(9,{destroy:void 0},Sh.bind(null,o,u,i,n),null),i},useId:function(){var e=qt(),n=st.identifierPrefix;if(Ve){var i=Yn,o=qn;i=(o&~(1<<32-Mt(o)-1)).toString(32)+i,n="_"+n+"R_"+i,i=Vo++,0<i&&(n+="H"+i.toString(32)),n+="_"}else i=OE++,n="_"+n+"r_"+i.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:hu,useFormState:kh,useActionState:kh,useOptimistic:function(e){var n=qt();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=pu.bind(null,Ne,!0,i),i.dispatch=n,[e,n]},useMemoCache:au,useCacheRefresh:function(){return qt().memoizedState=IE.bind(null,Ne)},useEffectEvent:function(e){var n=qt(),i={impl:e};return n.memoizedState=i,function(){if((Xe&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}},gu={readContext:Dt,use:Yo,useCallback:Vh,useContext:Dt,useEffect:cu,useImperativeHandle:Gh,useInsertionEffect:zh,useLayoutEffect:Bh,useMemo:qh,useReducer:Zo,useRef:Uh,useState:function(){return Zo(gi)},useDebugValue:uu,useDeferredValue:function(e,n){var i=mt();return Yh(i,tt.memoizedState,e,n)},useTransition:function(){var e=Zo(gi)[0],n=mt().memoizedState;return[typeof e=="boolean"?e:wr(e),n]},useSyncExternalStore:Eh,useId:Wh,useHostTransitionStatus:hu,useFormState:Nh,useActionState:Nh,useOptimistic:function(e,n){var i=mt();return Th(i,tt,e,n)},useMemoCache:au,useCacheRefresh:Xh};gu.useEffectEvent=Ph;var tp={readContext:Dt,use:Yo,useCallback:Vh,useContext:Dt,useEffect:cu,useImperativeHandle:Gh,useInsertionEffect:zh,useLayoutEffect:Bh,useMemo:qh,useReducer:ru,useRef:Uh,useState:function(){return ru(gi)},useDebugValue:uu,useDeferredValue:function(e,n){var i=mt();return tt===null?du(i,e,n):Yh(i,tt.memoizedState,e,n)},useTransition:function(){var e=ru(gi)[0],n=mt().memoizedState;return[typeof e=="boolean"?e:wr(e),n]},useSyncExternalStore:Eh,useId:Wh,useHostTransitionStatus:hu,useFormState:Ih,useActionState:Ih,useOptimistic:function(e,n){var i=mt();return tt!==null?Th(i,tt,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:au,useCacheRefresh:Xh};tp.useEffectEvent=Ph;function mu(e,n,i,o){n=e.memoizedState,i=i(o,n),i=i==null?n:w({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var vu={enqueueSetState:function(e,n,i){e=e._reactInternals;var o=cn(),l=qi(o);l.payload=n,i!=null&&(l.callback=i),n=Yi(e,l,o),n!==null&&(en(n,e,o),vr(n,e,o))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var o=cn(),l=qi(o);l.tag=1,l.payload=n,i!=null&&(l.callback=i),n=Yi(e,l,o),n!==null&&(en(n,e,o),vr(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=cn(),o=qi(i);o.tag=2,n!=null&&(o.callback=n),n=Yi(e,o,i),n!==null&&(en(n,e,i),vr(n,e,i))}};function np(e,n,i,o,l,u,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,u,p):n.prototype&&n.prototype.isPureReactComponent?!cr(i,o)||!cr(l,u):!0}function ip(e,n,i,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,o),n.state!==e&&vu.enqueueReplaceState(n,n.state,null)}function Ua(e,n){var i=n;if("ref"in n){i={};for(var o in n)o!=="ref"&&(i[o]=n[o])}if(e=e.defaultProps){i===n&&(i=w({},i));for(var l in e)i[l]===void 0&&(i[l]=e[l])}return i}function ap(e){xo(e)}function sp(e){console.error(e)}function rp(e){xo(e)}function Xo(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function op(e,n,i){try{var o=e.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function yu(e,n,i){return i=qi(i),i.tag=3,i.payload={element:null},i.callback=function(){Xo(e,n)},i}function lp(e){return e=qi(e),e.tag=3,e}function cp(e,n,i,o){var l=i.type.getDerivedStateFromError;if(typeof l=="function"){var u=o.value;e.payload=function(){return l(u)},e.callback=function(){op(n,i,o)}}var p=i.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){op(n,i,o),typeof l!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})})}function jE(e,n,i,o,l){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=i.alternate,n!==null&&gs(n,i,l,!0),i=sn.current,i!==null){switch(i.tag){case 31:case 13:return Sn===null?ll():i.alternate===null&&dt===0&&(dt=3),i.flags&=-257,i.flags|=65536,i.lanes=l,o===jo?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([o]):n.add(o),Vu(e,o,l)),!1;case 22:return i.flags|=65536,o===jo?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([o]):i.add(o)),Vu(e,o,l)),!1}throw Error(r(435,i.tag))}return Vu(e,o,l),ll(),!1}if(Ve)return n=sn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=l,o!==jc&&(e=Error(r(422),{cause:o}),fr(yn(e,i)))):(o!==jc&&(n=Error(r(423),{cause:o}),fr(yn(n,i))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,o=yn(o,i),l=yu(e.stateNode,o,l),Fc(e,l),dt!==4&&(dt=2)),!1;var u=Error(r(520),{cause:o});if(u=yn(u,i),Rr===null?Rr=[u]:Rr.push(u),dt!==4&&(dt=2),n===null)return!0;o=yn(o,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=l&-l,i.lanes|=e,e=yu(i.stateNode,o,e),Fc(i,e),!1;case 1:if(n=i.type,u=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Qi===null||!Qi.has(u))))return i.flags|=65536,l&=-l,i.lanes|=l,l=lp(l),cp(l,e,i,o),Fc(i,l),!1}i=i.return}while(i!==null);return!1}var bu=Error(r(461)),wt=!1;function It(e,n,i,o){n.child=e===null?hh(n,null,i,o):Da(n,e.child,i,o)}function up(e,n,i,o,l){i=i.render;var u=n.ref;if("ref"in o){var p={};for(var b in o)b!=="ref"&&(p[b]=o[b])}else p=o;return Ma(n),o=eu(e,n,i,p,u,l),b=tu(),e!==null&&!wt?(nu(e,n,l),mi(e,n,l)):(Ve&&b&&Ic(n),n.flags|=1,It(e,n,o,l),n.child)}function dp(e,n,i,o,l){if(e===null){var u=i.type;return typeof u=="function"&&!kc(u)&&u.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=u,fp(e,n,u,o,l)):(e=Ro(i.type,null,o,n,n.mode,l),e.ref=n.ref,e.return=n,n.child=e)}if(u=e.child,!xu(e,l)){var p=u.memoizedProps;if(i=i.compare,i=i!==null?i:cr,i(p,o)&&e.ref===n.ref)return mi(e,n,l)}return n.flags|=1,e=ui(u,o),e.ref=n.ref,e.return=n,n.child=e}function fp(e,n,i,o,l){if(e!==null){var u=e.memoizedProps;if(cr(u,o)&&e.ref===n.ref)if(wt=!1,n.pendingProps=o=u,xu(e,l))(e.flags&131072)!==0&&(wt=!0);else return n.lanes=e.lanes,mi(e,n,l)}return Eu(e,n,i,o,l)}function hp(e,n,i,o){var l=o.children,u=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(u=u!==null?u.baseLanes|i:i,e!==null){for(o=n.child=e.child,l=0;o!==null;)l=l|o.lanes|o.childLanes,o=o.sibling;o=l&~u}else o=0,n.child=null;return pp(e,n,u,i,o)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Io(n,u!==null?u.cachePool:null),u!==null?mh(n,u):Xc(),vh(n);else return o=n.lanes=536870912,pp(e,n,u!==null?u.baseLanes|i:i,i,o)}else u!==null?(Io(n,u.cachePool),mh(n,u),Ki(),n.memoizedState=null):(e!==null&&Io(n,null),Xc(),Ki());return It(e,n,l,i),n.child}function _r(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function pp(e,n,i,o,l){var u=qc();return u=u===null?null:{parent:bt._currentValue,pool:u},n.memoizedState={baseLanes:i,cachePool:u},e!==null&&Io(n,null),Xc(),vh(n),e!==null&&gs(e,n,o,!0),n.childLanes=l,null}function Qo(e,n){return n=$o({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function gp(e,n,i){return Da(n,e.child,null,i),e=Qo(n,n.pendingProps),e.flags|=2,rn(n),n.memoizedState=null,e}function PE(e,n,i){var o=n.pendingProps,l=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ve){if(o.mode==="hidden")return e=Qo(n,o),n.lanes=536870912,_r(null,e);if(Jc(n),(e=rt)?(e=xg(e,wn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:zi!==null?{id:qn,overflow:Yn}:null,retryLane:536870912,hydrationErrors:null},i=Jf(e),i.return=n,n.child=i,Nt=n,rt=null)):e=null,e===null)throw Hi(n);return n.lanes=536870912,null}return Qo(n,o)}var u=e.memoizedState;if(u!==null){var p=u.dehydrated;if(Jc(n),l)if(n.flags&256)n.flags&=-257,n=gp(e,n,i);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(wt||gs(e,n,i,!1),l=(i&e.childLanes)!==0,wt||l){if(o=st,o!==null&&(p=go(o,i),p!==0&&p!==u.retryLane))throw u.retryLane=p,Ta(e,p),en(o,e,p),bu;ll(),n=gp(e,n,i)}else e=u.treeContext,rt=Ln(p.nextSibling),Nt=n,Ve=!0,Bi=null,wn=!1,e!==null&&th(n,e),n=Qo(n,o),n.flags|=4096;return n}return e=ui(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Jo(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function Eu(e,n,i,o,l){return Ma(n),i=eu(e,n,i,o,void 0,l),o=tu(),e!==null&&!wt?(nu(e,n,l),mi(e,n,l)):(Ve&&o&&Ic(n),n.flags|=1,It(e,n,i,l),n.child)}function mp(e,n,i,o,l,u){return Ma(n),n.updateQueue=null,i=bh(n,o,i,l),yh(e),o=tu(),e!==null&&!wt?(nu(e,n,u),mi(e,n,u)):(Ve&&o&&Ic(n),n.flags|=1,It(e,n,i,u),n.child)}function vp(e,n,i,o,l){if(Ma(n),n.stateNode===null){var u=ds,p=i.contextType;typeof p=="object"&&p!==null&&(u=Dt(p)),u=new i(o,u),n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=vu,n.stateNode=u,u._reactInternals=n,u=n.stateNode,u.props=o,u.state=n.memoizedState,u.refs={},Zc(n),p=i.contextType,u.context=typeof p=="object"&&p!==null?Dt(p):ds,u.state=n.memoizedState,p=i.getDerivedStateFromProps,typeof p=="function"&&(mu(n,i,p,o),u.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(p=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),p!==u.state&&vu.enqueueReplaceState(u,u.state,null),br(n,o,u,l),yr(),u.state=n.memoizedState),typeof u.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){u=n.stateNode;var b=n.memoizedProps,_=Ua(i,b);u.props=_;var N=u.context,q=i.contextType;p=ds,typeof q=="object"&&q!==null&&(p=Dt(q));var W=i.getDerivedStateFromProps;q=typeof W=="function"||typeof u.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,q||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(b||N!==p)&&ip(n,u,o,p),Vi=!1;var U=n.memoizedState;u.state=U,br(n,o,u,l),yr(),N=n.memoizedState,b||U!==N||Vi?(typeof W=="function"&&(mu(n,i,W,o),N=n.memoizedState),(_=Vi||np(n,i,_,o,U,N,p))?(q||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(n.flags|=4194308)):(typeof u.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=N),u.props=o,u.state=N,u.context=p,o=_):(typeof u.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{u=n.stateNode,Kc(e,n),p=n.memoizedProps,q=Ua(i,p),u.props=q,W=n.pendingProps,U=u.context,N=i.contextType,_=ds,typeof N=="object"&&N!==null&&(_=Dt(N)),b=i.getDerivedStateFromProps,(N=typeof b=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(p!==W||U!==_)&&ip(n,u,o,_),Vi=!1,U=n.memoizedState,u.state=U,br(n,o,u,l),yr();var z=n.memoizedState;p!==W||U!==z||Vi||e!==null&&e.dependencies!==null&&No(e.dependencies)?(typeof b=="function"&&(mu(n,i,b,o),z=n.memoizedState),(q=Vi||np(n,i,q,o,U,z,_)||e!==null&&e.dependencies!==null&&No(e.dependencies))?(N||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(o,z,_),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(o,z,_)),typeof u.componentDidUpdate=="function"&&(n.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof u.componentDidUpdate!="function"||p===e.memoizedProps&&U===e.memoizedState||(n.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&U===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=z),u.props=o,u.state=z,u.context=_,o=q):(typeof u.componentDidUpdate!="function"||p===e.memoizedProps&&U===e.memoizedState||(n.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&U===e.memoizedState||(n.flags|=1024),o=!1)}return u=o,Jo(e,n),o=(n.flags&128)!==0,u||o?(u=n.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:u.render(),n.flags|=1,e!==null&&o?(n.child=Da(n,e.child,null,l),n.child=Da(n,null,i,l)):It(e,n,i,l),n.memoizedState=u.state,e=n.child):e=mi(e,n,l),e}function yp(e,n,i,o){return Aa(),n.flags|=256,It(e,n,i,o),n.child}var wu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Su(e){return{baseLanes:e,cachePool:oh()}}function Lu(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=ln),e}function bp(e,n,i){var o=n.pendingProps,l=!1,u=(n.flags&128)!==0,p;if((p=u)||(p=e!==null&&e.memoizedState===null?!1:(gt.current&2)!==0),p&&(l=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ve){if(l?Zi(n):Ki(),(e=rt)?(e=xg(e,wn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:zi!==null?{id:qn,overflow:Yn}:null,retryLane:536870912,hydrationErrors:null},i=Jf(e),i.return=n,n.child=i,Nt=n,rt=null)):e=null,e===null)throw Hi(n);return sd(e)?n.lanes=32:n.lanes=536870912,null}var b=o.children;return o=o.fallback,l?(Ki(),l=n.mode,b=$o({mode:"hidden",children:b},l),o=xa(o,l,i,null),b.return=n,o.return=n,b.sibling=o,n.child=b,o=n.child,o.memoizedState=Su(i),o.childLanes=Lu(e,p,i),n.memoizedState=wu,_r(null,o)):(Zi(n),_u(n,b))}var _=e.memoizedState;if(_!==null&&(b=_.dehydrated,b!==null)){if(u)n.flags&256?(Zi(n),n.flags&=-257,n=Cu(e,n,i)):n.memoizedState!==null?(Ki(),n.child=e.child,n.flags|=128,n=null):(Ki(),b=o.fallback,l=n.mode,o=$o({mode:"visible",children:o.children},l),b=xa(b,l,i,null),b.flags|=2,o.return=n,b.return=n,o.sibling=b,n.child=o,Da(n,e.child,null,i),o=n.child,o.memoizedState=Su(i),o.childLanes=Lu(e,p,i),n.memoizedState=wu,n=_r(null,o));else if(Zi(n),sd(b)){if(p=b.nextSibling&&b.nextSibling.dataset,p)var N=p.dgst;p=N,o=Error(r(419)),o.stack="",o.digest=p,fr({value:o,source:null,stack:null}),n=Cu(e,n,i)}else if(wt||gs(e,n,i,!1),p=(i&e.childLanes)!==0,wt||p){if(p=st,p!==null&&(o=go(p,i),o!==0&&o!==_.retryLane))throw _.retryLane=o,Ta(e,o),en(p,e,o),bu;ad(b)||ll(),n=Cu(e,n,i)}else ad(b)?(n.flags|=192,n.child=e.child,n=null):(e=_.treeContext,rt=Ln(b.nextSibling),Nt=n,Ve=!0,Bi=null,wn=!1,e!==null&&th(n,e),n=_u(n,o.children),n.flags|=4096);return n}return l?(Ki(),b=o.fallback,l=n.mode,_=e.child,N=_.sibling,o=ui(_,{mode:"hidden",children:o.children}),o.subtreeFlags=_.subtreeFlags&65011712,N!==null?b=ui(N,b):(b=xa(b,l,i,null),b.flags|=2),b.return=n,o.return=n,o.sibling=b,n.child=o,_r(null,o),o=n.child,b=e.child.memoizedState,b===null?b=Su(i):(l=b.cachePool,l!==null?(_=bt._currentValue,l=l.parent!==_?{parent:_,pool:_}:l):l=oh(),b={baseLanes:b.baseLanes|i,cachePool:l}),o.memoizedState=b,o.childLanes=Lu(e,p,i),n.memoizedState=wu,_r(e.child,o)):(Zi(n),i=e.child,e=i.sibling,i=ui(i,{mode:"visible",children:o.children}),i.return=n,i.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=i,n.memoizedState=null,i)}function _u(e,n){return n=$o({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function $o(e,n){return e=an(22,e,null,n),e.lanes=0,e}function Cu(e,n,i){return Da(n,e.child,null,i),e=_u(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Ep(e,n,i){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Bc(e.return,n,i)}function Tu(e,n,i,o,l,u){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:l,treeForkCount:u}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=i,p.tailMode=l,p.treeForkCount=u)}function wp(e,n,i){var o=n.pendingProps,l=o.revealOrder,u=o.tail;o=o.children;var p=gt.current,b=(p&2)!==0;if(b?(p=p&1|2,n.flags|=128):p&=1,oe(gt,p),It(e,n,o,i),o=Ve?dr:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ep(e,i,n);else if(e.tag===19)Ep(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(l){case"forwards":for(i=n.child,l=null;i!==null;)e=i.alternate,e!==null&&Ho(e)===null&&(l=i),i=i.sibling;i=l,i===null?(l=n.child,n.child=null):(l=i.sibling,i.sibling=null),Tu(n,!1,l,i,u,o);break;case"backwards":case"unstable_legacy-backwards":for(i=null,l=n.child,n.child=null;l!==null;){if(e=l.alternate,e!==null&&Ho(e)===null){n.child=l;break}e=l.sibling,l.sibling=i,i=l,l=e}Tu(n,!0,i,null,u,o);break;case"together":Tu(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function mi(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Xi|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(gs(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,i=ui(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=ui(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function xu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&No(e)))}function zE(e,n,i){switch(n.tag){case 3:V(n,n.stateNode.containerInfo),Gi(n,bt,e.memoizedState.cache),Aa();break;case 27:case 5:J(n);break;case 4:V(n,n.stateNode.containerInfo);break;case 10:Gi(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Jc(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Zi(n),n.flags|=128,null):(i&n.child.childLanes)!==0?bp(e,n,i):(Zi(n),e=mi(e,n,i),e!==null?e.sibling:null);Zi(n);break;case 19:var l=(e.flags&128)!==0;if(o=(i&n.childLanes)!==0,o||(gs(e,n,i,!1),o=(i&n.childLanes)!==0),l){if(o)return wp(e,n,i);n.flags|=128}if(l=n.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),oe(gt,gt.current),o)break;return null;case 22:return n.lanes=0,hp(e,n,i,n.pendingProps);case 24:Gi(n,bt,e.memoizedState.cache)}return mi(e,n,i)}function Sp(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)wt=!0;else{if(!xu(e,i)&&(n.flags&128)===0)return wt=!1,zE(e,n,i);wt=(e.flags&131072)!==0}else wt=!1,Ve&&(n.flags&1048576)!==0&&eh(n,dr,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(e=ka(n.elementType),n.type=e,typeof e=="function")kc(e)?(o=Ua(e,o),n.tag=1,n=vp(null,n,e,o,i)):(n.tag=0,n=Eu(null,n,e,o,i));else{if(e!=null){var l=e.$$typeof;if(l===j){n.tag=11,n=up(null,n,e,o,i);break e}else if(l===F){n.tag=14,n=dp(null,n,e,o,i);break e}}throw n=pe(e)||e,Error(r(306,n,""))}}return n;case 0:return Eu(e,n,n.type,n.pendingProps,i);case 1:return o=n.type,l=Ua(o,n.pendingProps),vp(e,n,o,l,i);case 3:e:{if(V(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var u=n.memoizedState;l=u.element,Kc(e,n),br(n,o,null,i);var p=n.memoizedState;if(o=p.cache,Gi(n,bt,o),o!==u.cache&&Hc(n,[bt],i,!0),yr(),o=p.element,u.isDehydrated)if(u={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=u,n.memoizedState=u,n.flags&256){n=yp(e,n,o,i);break e}else if(o!==l){l=yn(Error(r(424)),n),fr(l),n=yp(e,n,o,i);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(rt=Ln(e.firstChild),Nt=n,Ve=!0,Bi=null,wn=!0,i=hh(n,null,o,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Aa(),o===l){n=mi(e,n,i);break e}It(e,n,o,i)}n=n.child}return n;case 26:return Jo(e,n),e===null?(i=Ng(n.type,null,n.pendingProps,null))?n.memoizedState=i:Ve||(i=n.type,e=n.pendingProps,o=gl(P.current).createElement(i),o[pt]=n,o[Ht]=e,Ut(o,i,e),vt(o),n.stateNode=o):n.memoizedState=Ng(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return J(n),e===null&&Ve&&(o=n.stateNode=Mg(n.type,n.pendingProps,P.current),Nt=n,wn=!0,l=rt,ta(n.type)?(rd=l,rt=Ln(o.firstChild)):rt=l),It(e,n,n.pendingProps.children,i),Jo(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ve&&((l=o=rt)&&(o=gw(o,n.type,n.pendingProps,wn),o!==null?(n.stateNode=o,Nt=n,rt=Ln(o.firstChild),wn=!1,l=!0):l=!1),l||Hi(n)),J(n),l=n.type,u=n.pendingProps,p=e!==null?e.memoizedProps:null,o=u.children,td(l,u)?o=null:p!==null&&td(l,p)&&(n.flags|=32),n.memoizedState!==null&&(l=eu(e,n,ME,null,null,i),zr._currentValue=l),Jo(e,n),It(e,n,o,i),n.child;case 6:return e===null&&Ve&&((e=i=rt)&&(i=mw(i,n.pendingProps,wn),i!==null?(n.stateNode=i,Nt=n,rt=null,e=!0):e=!1),e||Hi(n)),null;case 13:return bp(e,n,i);case 4:return V(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Da(n,null,o,i):It(e,n,o,i),n.child;case 11:return up(e,n,n.type,n.pendingProps,i);case 7:return It(e,n,n.pendingProps,i),n.child;case 8:return It(e,n,n.pendingProps.children,i),n.child;case 12:return It(e,n,n.pendingProps.children,i),n.child;case 10:return o=n.pendingProps,Gi(n,n.type,o.value),It(e,n,o.children,i),n.child;case 9:return l=n.type._context,o=n.pendingProps.children,Ma(n),l=Dt(l),o=o(l),n.flags|=1,It(e,n,o,i),n.child;case 14:return dp(e,n,n.type,n.pendingProps,i);case 15:return fp(e,n,n.type,n.pendingProps,i);case 19:return wp(e,n,i);case 31:return PE(e,n,i);case 22:return hp(e,n,i,n.pendingProps);case 24:return Ma(n),o=Dt(bt),e===null?(l=qc(),l===null&&(l=st,u=Gc(),l.pooledCache=u,u.refCount++,u!==null&&(l.pooledCacheLanes|=i),l=u),n.memoizedState={parent:o,cache:l},Zc(n),Gi(n,bt,l)):((e.lanes&i)!==0&&(Kc(e,n),br(n,null,null,i),yr()),l=e.memoizedState,u=n.memoizedState,l.parent!==o?(l={parent:o,cache:o},n.memoizedState=l,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=l),Gi(n,bt,o)):(o=u.cache,Gi(n,bt,o),o!==l.cache&&Hc(n,[bt],i,!0))),It(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function vi(e){e.flags|=4}function Au(e,n,i,o,l){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(l&335544128)===l)if(e.stateNode.complete)e.flags|=8192;else if(Wp())e.flags|=8192;else throw Na=jo,Yc}else e.flags&=-16777217}function Lp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Pg(n))if(Wp())e.flags|=8192;else throw Na=jo,Yc}function el(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Hn():536870912,e.lanes|=n,xs|=n)}function Cr(e,n){if(!Ve)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ot(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(n)for(var l=e.child;l!==null;)i|=l.lanes|l.childLanes,o|=l.subtreeFlags&65011712,o|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)i|=l.lanes|l.childLanes,o|=l.subtreeFlags,o|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=o,e.childLanes=i,n}function BE(e,n,i){var o=n.pendingProps;switch(Uc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(n),null;case 1:return ot(n),null;case 3:return i=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),hi(bt),ee(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(ps(n)?vi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Pc())),ot(n),null;case 26:var l=n.type,u=n.memoizedState;return e===null?(vi(n),u!==null?(ot(n),Lp(n,u)):(ot(n),Au(n,l,null,o,i))):u?u!==e.memoizedState?(vi(n),ot(n),Lp(n,u)):(ot(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&vi(n),ot(n),Au(n,l,e,o,i)),null;case 27:if(le(n),i=P.current,l=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&vi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ot(n),null}e=x.current,ps(n)?nh(n):(e=Mg(l,o,i),n.stateNode=e,vi(n))}return ot(n),null;case 5:if(le(n),l=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&vi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ot(n),null}if(u=x.current,ps(n))nh(n);else{var p=gl(P.current);switch(u){case 1:u=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:u=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":u=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":u=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":u=p.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?u.multiple=!0:o.size&&(u.size=o.size);break;default:u=typeof o.is=="string"?p.createElement(l,{is:o.is}):p.createElement(l)}}u[pt]=n,u[Ht]=o;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)u.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=u;e:switch(Ut(u,l,o),l){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&vi(n)}}return ot(n),Au(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,i),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&vi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=P.current,ps(n)){if(e=n.stateNode,i=n.memoizedProps,o=null,l=Nt,l!==null)switch(l.tag){case 27:case 5:o=l.memoizedProps}e[pt]=n,e=!!(e.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||bg(e.nodeValue,i)),e||Hi(n,!0)}else e=gl(e).createTextNode(o),e[pt]=n,n.stateNode=e}return ot(n),null;case 31:if(i=n.memoizedState,e===null||e.memoizedState!==null){if(o=ps(n),i!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[pt]=n}else Aa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ot(n),e=!1}else i=Pc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return n.flags&256?(rn(n),n):(rn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ot(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=ps(n),o!==null&&o.dehydrated!==null){if(e===null){if(!l)throw Error(r(318));if(l=n.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));l[pt]=n}else Aa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ot(n),l=!1}else l=Pc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return n.flags&256?(rn(n),n):(rn(n),null)}return rn(n),(n.flags&128)!==0?(n.lanes=i,n):(i=o!==null,e=e!==null&&e.memoizedState!==null,i&&(o=n.child,l=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(l=o.alternate.memoizedState.cachePool.pool),u=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(u=o.memoizedState.cachePool.pool),u!==l&&(o.flags|=2048)),i!==e&&i&&(n.child.flags|=8192),el(n,n.updateQueue),ot(n),null);case 4:return ee(),e===null&&Xu(n.stateNode.containerInfo),ot(n),null;case 10:return hi(n.type),ot(n),null;case 19:if(ye(gt),o=n.memoizedState,o===null)return ot(n),null;if(l=(n.flags&128)!==0,u=o.rendering,u===null)if(l)Cr(o,!1);else{if(dt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(u=Ho(e),u!==null){for(n.flags|=128,Cr(o,!1),e=u.updateQueue,n.updateQueue=e,el(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)Qf(i,e),i=i.sibling;return oe(gt,gt.current&1|2),Ve&&di(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&At()>sl&&(n.flags|=128,l=!0,Cr(o,!1),n.lanes=4194304)}else{if(!l)if(e=Ho(u),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,el(n,e),Cr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!u.alternate&&!Ve)return ot(n),null}else 2*At()-o.renderingStartTime>sl&&i!==536870912&&(n.flags|=128,l=!0,Cr(o,!1),n.lanes=4194304);o.isBackwards?(u.sibling=n.child,n.child=u):(e=o.last,e!==null?e.sibling=u:n.child=u,o.last=u)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=At(),e.sibling=null,i=gt.current,oe(gt,l?i&1|2:i&1),Ve&&di(n,o.treeForkCount),e):(ot(n),null);case 22:case 23:return rn(n),Qc(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(i&536870912)!==0&&(n.flags&128)===0&&(ot(n),n.subtreeFlags&6&&(n.flags|=8192)):ot(n),i=n.updateQueue,i!==null&&el(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==i&&(n.flags|=2048),e!==null&&ye(Ra),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),hi(bt),ot(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function HE(e,n){switch(Uc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return hi(bt),ee(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return le(n),null;case 31:if(n.memoizedState!==null){if(rn(n),n.alternate===null)throw Error(r(340));Aa()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(rn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Aa()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ye(gt),null;case 4:return ee(),null;case 10:return hi(n.type),null;case 22:case 23:return rn(n),Qc(),e!==null&&ye(Ra),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return hi(bt),null;case 25:return null;default:return null}}function _p(e,n){switch(Uc(n),n.tag){case 3:hi(bt),ee();break;case 26:case 27:case 5:le(n);break;case 4:ee();break;case 31:n.memoizedState!==null&&rn(n);break;case 13:rn(n);break;case 19:ye(gt);break;case 10:hi(n.type);break;case 22:case 23:rn(n),Qc(),e!==null&&ye(Ra);break;case 24:hi(bt)}}function Tr(e,n){try{var i=n.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var l=o.next;i=l;do{if((i.tag&e)===e){o=void 0;var u=i.create,p=i.inst;o=u(),p.destroy=o}i=i.next}while(i!==l)}}catch(b){$e(n,n.return,b)}}function Fi(e,n,i){try{var o=n.updateQueue,l=o!==null?o.lastEffect:null;if(l!==null){var u=l.next;o=u;do{if((o.tag&e)===e){var p=o.inst,b=p.destroy;if(b!==void 0){p.destroy=void 0,l=n;var _=i,N=b;try{N()}catch(q){$e(l,_,q)}}}o=o.next}while(o!==u)}}catch(q){$e(n,n.return,q)}}function Cp(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{gh(n,i)}catch(o){$e(e,e.return,o)}}}function Tp(e,n,i){i.props=Ua(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(o){$e(e,n,o)}}function xr(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof i=="function"?e.refCleanup=i(o):i.current=o}}catch(l){$e(e,n,l)}}function Zn(e,n){var i=e.ref,o=e.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(l){$e(e,n,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(l){$e(e,n,l)}else i.current=null}function xp(e){var n=e.type,i=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break e;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(l){$e(e,e.return,l)}}function Ou(e,n,i){try{var o=e.stateNode;cw(o,e.type,i,n),o[Ht]=n}catch(l){$e(e,e.return,l)}}function Ap(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ta(e.type)||e.tag===4}function Mu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ap(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ta(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ru(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=li));else if(o!==4&&(o===27&&ta(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(Ru(e,n,i),e=e.sibling;e!==null;)Ru(e,n,i),e=e.sibling}function tl(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(o!==4&&(o===27&&ta(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(tl(e,n,i),e=e.sibling;e!==null;)tl(e,n,i),e=e.sibling}function Op(e){var n=e.stateNode,i=e.memoizedProps;try{for(var o=e.type,l=n.attributes;l.length;)n.removeAttributeNode(l[0]);Ut(n,o,i),n[pt]=e,n[Ht]=i}catch(u){$e(e,e.return,u)}}var yi=!1,St=!1,ku=!1,Mp=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function GE(e,n){if(e=e.containerInfo,$u=Sl,e=Gf(e),Cc(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var l=o.anchorOffset,u=o.focusNode;o=o.focusOffset;try{i.nodeType,u.nodeType}catch{i=null;break e}var p=0,b=-1,_=-1,N=0,q=0,W=e,U=null;t:for(;;){for(var z;W!==i||l!==0&&W.nodeType!==3||(b=p+l),W!==u||o!==0&&W.nodeType!==3||(_=p+o),W.nodeType===3&&(p+=W.nodeValue.length),(z=W.firstChild)!==null;)U=W,W=z;for(;;){if(W===e)break t;if(U===i&&++N===l&&(b=p),U===u&&++q===o&&(_=p),(z=W.nextSibling)!==null)break;W=U,U=W.parentNode}W=z}i=b===-1||_===-1?null:{start:b,end:_}}else i=null}i=i||{start:0,end:0}}else i=null;for(ed={focusedElem:e,selectionRange:i},Sl=!1,Rt=n;Rt!==null;)if(n=Rt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Rt=e;else for(;Rt!==null;){switch(n=Rt,u=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)l=e[i],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,i=n,l=u.memoizedProps,u=u.memoizedState,o=i.stateNode;try{var me=Ua(i.type,l);e=o.getSnapshotBeforeUpdate(me,u),o.__reactInternalSnapshotBeforeUpdate=e}catch(Te){$e(i,i.return,Te)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)id(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":id(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Rt=e;break}Rt=n.return}}function Rp(e,n,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:Ei(e,i),o&4&&Tr(5,i);break;case 1:if(Ei(e,i),o&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(p){$e(i,i.return,p)}else{var l=Ua(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(l,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){$e(i,i.return,p)}}o&64&&Cp(i),o&512&&xr(i,i.return);break;case 3:if(Ei(e,i),o&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{gh(e,n)}catch(p){$e(i,i.return,p)}}break;case 27:n===null&&o&4&&Op(i);case 26:case 5:Ei(e,i),n===null&&o&4&&xp(i),o&512&&xr(i,i.return);break;case 12:Ei(e,i);break;case 31:Ei(e,i),o&4&&Dp(e,i);break;case 13:Ei(e,i),o&4&&Ip(e,i),o&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=QE.bind(null,i),vw(e,i))));break;case 22:if(o=i.memoizedState!==null||yi,!o){n=n!==null&&n.memoizedState!==null||St,l=yi;var u=St;yi=o,(St=n)&&!u?wi(e,i,(i.subtreeFlags&8772)!==0):Ei(e,i),yi=l,St=u}break;case 30:break;default:Ei(e,i)}}function kp(e){var n=e.alternate;n!==null&&(e.alternate=null,kp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&tr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ct=null,Xt=!1;function bi(e,n,i){for(i=i.child;i!==null;)Np(e,n,i),i=i.sibling}function Np(e,n,i){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(tn,i)}catch{}switch(i.tag){case 26:St||Zn(i,n),bi(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:St||Zn(i,n);var o=ct,l=Xt;ta(i.type)&&(ct=i.stateNode,Xt=!1),bi(e,n,i),Ur(i.stateNode),ct=o,Xt=l;break;case 5:St||Zn(i,n);case 6:if(o=ct,l=Xt,ct=null,bi(e,n,i),ct=o,Xt=l,ct!==null)if(Xt)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(i.stateNode)}catch(u){$e(i,n,u)}else try{ct.removeChild(i.stateNode)}catch(u){$e(i,n,u)}break;case 18:ct!==null&&(Xt?(e=ct,Cg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Is(e)):Cg(ct,i.stateNode));break;case 4:o=ct,l=Xt,ct=i.stateNode.containerInfo,Xt=!0,bi(e,n,i),ct=o,Xt=l;break;case 0:case 11:case 14:case 15:Fi(2,i,n),St||Fi(4,i,n),bi(e,n,i);break;case 1:St||(Zn(i,n),o=i.stateNode,typeof o.componentWillUnmount=="function"&&Tp(i,n,o)),bi(e,n,i);break;case 21:bi(e,n,i);break;case 22:St=(o=St)||i.memoizedState!==null,bi(e,n,i),St=o;break;default:bi(e,n,i)}}function Dp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Is(e)}catch(i){$e(n,n.return,i)}}}function Ip(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Is(e)}catch(i){$e(n,n.return,i)}}function VE(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Mp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Mp),n;default:throw Error(r(435,e.tag))}}function nl(e,n){var i=VE(e);n.forEach(function(o){if(!i.has(o)){i.add(o);var l=JE.bind(null,e,o);o.then(l,l)}})}function Qt(e,n){var i=n.deletions;if(i!==null)for(var o=0;o<i.length;o++){var l=i[o],u=e,p=n,b=p;e:for(;b!==null;){switch(b.tag){case 27:if(ta(b.type)){ct=b.stateNode,Xt=!1;break e}break;case 5:ct=b.stateNode,Xt=!1;break e;case 3:case 4:ct=b.stateNode.containerInfo,Xt=!0;break e}b=b.return}if(ct===null)throw Error(r(160));Np(u,p,l),ct=null,Xt=!1,u=l.alternate,u!==null&&(u.return=null),l.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Up(n,e),n=n.sibling}var Nn=null;function Up(e,n){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Qt(n,e),Jt(e),o&4&&(Fi(3,e,e.return),Tr(3,e),Fi(5,e,e.return));break;case 1:Qt(n,e),Jt(e),o&512&&(St||i===null||Zn(i,i.return)),o&64&&yi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var l=Nn;if(Qt(n,e),Jt(e),o&512&&(St||i===null||Zn(i,i.return)),o&4){var u=i!==null?i.memoizedState:null;if(o=e.memoizedState,i===null)if(o===null)if(e.stateNode===null){e:{o=e.type,i=e.memoizedProps,l=l.ownerDocument||l;t:switch(o){case"title":u=l.getElementsByTagName("title")[0],(!u||u[wa]||u[pt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=l.createElement(o),l.head.insertBefore(u,l.querySelector("head > title"))),Ut(u,o,i),u[pt]=e,vt(u),o=u;break e;case"link":var p=Ug("link","href",l).get(o+(i.href||""));if(p){for(var b=0;b<p.length;b++)if(u=p[b],u.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&u.getAttribute("rel")===(i.rel==null?null:i.rel)&&u.getAttribute("title")===(i.title==null?null:i.title)&&u.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){p.splice(b,1);break t}}u=l.createElement(o),Ut(u,o,i),l.head.appendChild(u);break;case"meta":if(p=Ug("meta","content",l).get(o+(i.content||""))){for(b=0;b<p.length;b++)if(u=p[b],u.getAttribute("content")===(i.content==null?null:""+i.content)&&u.getAttribute("name")===(i.name==null?null:i.name)&&u.getAttribute("property")===(i.property==null?null:i.property)&&u.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&u.getAttribute("charset")===(i.charSet==null?null:i.charSet)){p.splice(b,1);break t}}u=l.createElement(o),Ut(u,o,i),l.head.appendChild(u);break;default:throw Error(r(468,o))}u[pt]=e,vt(u),o=u}e.stateNode=o}else jg(l,e.type,e.stateNode);else e.stateNode=Ig(l,o,e.memoizedProps);else u!==o?(u===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):u.count--,o===null?jg(l,e.type,e.stateNode):Ig(l,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Ou(e,e.memoizedProps,i.memoizedProps)}break;case 27:Qt(n,e),Jt(e),o&512&&(St||i===null||Zn(i,i.return)),i!==null&&o&4&&Ou(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Qt(n,e),Jt(e),o&512&&(St||i===null||Zn(i,i.return)),e.flags&32){l=e.stateNode;try{as(l,"")}catch(me){$e(e,e.return,me)}}o&4&&e.stateNode!=null&&(l=e.memoizedProps,Ou(e,l,i!==null?i.memoizedProps:l)),o&1024&&(ku=!0);break;case 6:if(Qt(n,e),Jt(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,i=e.stateNode;try{i.nodeValue=o}catch(me){$e(e,e.return,me)}}break;case 3:if(yl=null,l=Nn,Nn=ml(n.containerInfo),Qt(n,e),Nn=l,Jt(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{Is(n.containerInfo)}catch(me){$e(e,e.return,me)}ku&&(ku=!1,jp(e));break;case 4:o=Nn,Nn=ml(e.stateNode.containerInfo),Qt(n,e),Jt(e),Nn=o;break;case 12:Qt(n,e),Jt(e);break;case 31:Qt(n,e),Jt(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nl(e,o)));break;case 13:Qt(n,e),Jt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(al=At()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nl(e,o)));break;case 22:l=e.memoizedState!==null;var _=i!==null&&i.memoizedState!==null,N=yi,q=St;if(yi=N||l,St=q||_,Qt(n,e),St=q,yi=N,Jt(e),o&8192)e:for(n=e.stateNode,n._visibility=l?n._visibility&-2:n._visibility|1,l&&(i===null||_||yi||St||ja(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){_=i=n;try{if(u=_.stateNode,l)p=u.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{b=_.stateNode;var W=_.memoizedProps.style,U=W!=null&&W.hasOwnProperty("display")?W.display:null;b.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(me){$e(_,_.return,me)}}}else if(n.tag===6){if(i===null){_=n;try{_.stateNode.nodeValue=l?"":_.memoizedProps}catch(me){$e(_,_.return,me)}}}else if(n.tag===18){if(i===null){_=n;try{var z=_.stateNode;l?Tg(z,!0):Tg(_.stateNode,!1)}catch(me){$e(_,_.return,me)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,nl(e,i))));break;case 19:Qt(n,e),Jt(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nl(e,o)));break;case 30:break;case 21:break;default:Qt(n,e),Jt(e)}}function Jt(e){var n=e.flags;if(n&2){try{for(var i,o=e.return;o!==null;){if(Ap(o)){i=o;break}o=o.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var l=i.stateNode,u=Mu(e);tl(e,u,l);break;case 5:var p=i.stateNode;i.flags&32&&(as(p,""),i.flags&=-33);var b=Mu(e);tl(e,b,p);break;case 3:case 4:var _=i.stateNode.containerInfo,N=Mu(e);Ru(e,N,_);break;default:throw Error(r(161))}}catch(q){$e(e,e.return,q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function jp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;jp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ei(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Rp(e,n.alternate,n),n=n.sibling}function ja(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Fi(4,n,n.return),ja(n);break;case 1:Zn(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&Tp(n,n.return,i),ja(n);break;case 27:Ur(n.stateNode);case 26:case 5:Zn(n,n.return),ja(n);break;case 22:n.memoizedState===null&&ja(n);break;case 30:ja(n);break;default:ja(n)}e=e.sibling}}function wi(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,l=e,u=n,p=u.flags;switch(u.tag){case 0:case 11:case 15:wi(l,u,i),Tr(4,u);break;case 1:if(wi(l,u,i),o=u,l=o.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(N){$e(o,o.return,N)}if(o=u,l=o.updateQueue,l!==null){var b=o.stateNode;try{var _=l.shared.hiddenCallbacks;if(_!==null)for(l.shared.hiddenCallbacks=null,l=0;l<_.length;l++)ph(_[l],b)}catch(N){$e(o,o.return,N)}}i&&p&64&&Cp(u),xr(u,u.return);break;case 27:Op(u);case 26:case 5:wi(l,u,i),i&&o===null&&p&4&&xp(u),xr(u,u.return);break;case 12:wi(l,u,i);break;case 31:wi(l,u,i),i&&p&4&&Dp(l,u);break;case 13:wi(l,u,i),i&&p&4&&Ip(l,u);break;case 22:u.memoizedState===null&&wi(l,u,i),xr(u,u.return);break;case 30:break;default:wi(l,u,i)}n=n.sibling}}function Nu(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&hr(i))}function Du(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&hr(e))}function Dn(e,n,i,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Pp(e,n,i,o),n=n.sibling}function Pp(e,n,i,o){var l=n.flags;switch(n.tag){case 0:case 11:case 15:Dn(e,n,i,o),l&2048&&Tr(9,n);break;case 1:Dn(e,n,i,o);break;case 3:Dn(e,n,i,o),l&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&hr(e)));break;case 12:if(l&2048){Dn(e,n,i,o),e=n.stateNode;try{var u=n.memoizedProps,p=u.id,b=u.onPostCommit;typeof b=="function"&&b(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){$e(n,n.return,_)}}else Dn(e,n,i,o);break;case 31:Dn(e,n,i,o);break;case 13:Dn(e,n,i,o);break;case 23:break;case 22:u=n.stateNode,p=n.alternate,n.memoizedState!==null?u._visibility&2?Dn(e,n,i,o):Ar(e,n):u._visibility&2?Dn(e,n,i,o):(u._visibility|=2,_s(e,n,i,o,(n.subtreeFlags&10256)!==0||!1)),l&2048&&Nu(p,n);break;case 24:Dn(e,n,i,o),l&2048&&Du(n.alternate,n);break;default:Dn(e,n,i,o)}}function _s(e,n,i,o,l){for(l=l&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var u=e,p=n,b=i,_=o,N=p.flags;switch(p.tag){case 0:case 11:case 15:_s(u,p,b,_,l),Tr(8,p);break;case 23:break;case 22:var q=p.stateNode;p.memoizedState!==null?q._visibility&2?_s(u,p,b,_,l):Ar(u,p):(q._visibility|=2,_s(u,p,b,_,l)),l&&N&2048&&Nu(p.alternate,p);break;case 24:_s(u,p,b,_,l),l&&N&2048&&Du(p.alternate,p);break;default:_s(u,p,b,_,l)}n=n.sibling}}function Ar(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,o=n,l=o.flags;switch(o.tag){case 22:Ar(i,o),l&2048&&Nu(o.alternate,o);break;case 24:Ar(i,o),l&2048&&Du(o.alternate,o);break;default:Ar(i,o)}n=n.sibling}}var Or=8192;function Cs(e,n,i){if(e.subtreeFlags&Or)for(e=e.child;e!==null;)zp(e,n,i),e=e.sibling}function zp(e,n,i){switch(e.tag){case 26:Cs(e,n,i),e.flags&Or&&e.memoizedState!==null&&Ow(i,Nn,e.memoizedState,e.memoizedProps);break;case 5:Cs(e,n,i);break;case 3:case 4:var o=Nn;Nn=ml(e.stateNode.containerInfo),Cs(e,n,i),Nn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Or,Or=16777216,Cs(e,n,i),Or=o):Cs(e,n,i));break;default:Cs(e,n,i)}}function Bp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Mr(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];Rt=o,Gp(o,e)}Bp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Hp(e),e=e.sibling}function Hp(e){switch(e.tag){case 0:case 11:case 15:Mr(e),e.flags&2048&&Fi(9,e,e.return);break;case 3:Mr(e);break;case 12:Mr(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,il(e)):Mr(e);break;default:Mr(e)}}function il(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];Rt=o,Gp(o,e)}Bp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Fi(8,n,n.return),il(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,il(n));break;default:il(n)}e=e.sibling}}function Gp(e,n){for(;Rt!==null;){var i=Rt;switch(i.tag){case 0:case 11:case 15:Fi(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:hr(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,Rt=o;else e:for(i=e;Rt!==null;){o=Rt;var l=o.sibling,u=o.return;if(kp(o),o===i){Rt=null;break e}if(l!==null){l.return=u,Rt=l;break e}Rt=u}}}var qE={getCacheForType:function(e){var n=Dt(bt),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i},cacheSignal:function(){return Dt(bt).controller.signal}},YE=typeof WeakMap=="function"?WeakMap:Map,Xe=0,st=null,Pe=null,He=0,Je=0,on=null,Wi=!1,Ts=!1,Iu=!1,Si=0,dt=0,Xi=0,Pa=0,Uu=0,ln=0,xs=0,Rr=null,$t=null,ju=!1,al=0,Vp=0,sl=1/0,rl=null,Qi=null,_t=0,Ji=null,As=null,Li=0,Pu=0,zu=null,qp=null,kr=0,Bu=null;function cn(){return(Xe&2)!==0&&He!==0?He&-He:D.T!==null?Zu():Qs()}function Yp(){if(ln===0)if((He&536870912)===0||Ve){var e=ai;ai<<=1,(ai&3932160)===0&&(ai=262144),ln=e}else ln=536870912;return e=sn.current,e!==null&&(e.flags|=32),ln}function en(e,n,i){(e===st&&(Je===2||Je===9)||e.cancelPendingCommit!==null)&&(Os(e,0),$i(e,He,ln,!1)),Gn(e,i),((Xe&2)===0||e!==st)&&(e===st&&((Xe&2)===0&&(Pa|=i),dt===4&&$i(e,He,ln,!1)),Kn(e))}function Zp(e,n,i){if((Xe&6)!==0)throw Error(r(327));var o=!i&&(n&127)===0&&(n&e.expiredLanes)===0||pn(e,n),l=o?FE(e,n):Gu(e,n,!0),u=o;do{if(l===0){Ts&&!o&&$i(e,n,0,!1);break}else{if(i=e.current.alternate,u&&!ZE(i)){l=Gu(e,n,!1),u=!1;continue}if(l===2){if(u=n,e.errorRecoveryDisabledLanes&u)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var b=e;l=Rr;var _=b.current.memoizedState.isDehydrated;if(_&&(Os(b,p).flags|=256),p=Gu(b,p,!1),p!==2){if(Iu&&!_){b.errorRecoveryDisabledLanes|=u,Pa|=u,l=4;break e}u=$t,$t=l,u!==null&&($t===null?$t=u:$t.push.apply($t,u))}l=p}if(u=!1,l!==2)continue}}if(l===1){Os(e,0),$i(e,n,0,!0);break}e:{switch(o=e,u=l,u){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:$i(o,n,ln,!Wi);break e;case 2:$t=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(l=al+300-At(),10<l)){if($i(o,n,ln,!Wi),ri(o,0,!0)!==0)break e;Li=n,o.timeoutHandle=Lg(Kp.bind(null,o,i,$t,rl,ju,n,ln,Pa,xs,Wi,u,"Throttled",-0,0),l);break e}Kp(o,i,$t,rl,ju,n,ln,Pa,xs,Wi,u,null,-0,0)}}break}while(!0);Kn(e)}function Kp(e,n,i,o,l,u,p,b,_,N,q,W,U,z){if(e.timeoutHandle=-1,W=n.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:li},zp(n,u,W);var me=(u&62914560)===u?al-At():(u&4194048)===u?Vp-At():0;if(me=Mw(W,me),me!==null){Li=u,e.cancelPendingCommit=me(tg.bind(null,e,n,u,i,o,l,p,b,_,q,W,null,U,z)),$i(e,u,p,!N);return}}tg(e,n,u,i,o,l,p,b,_)}function ZE(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var l=i[o],u=l.getSnapshot;l=l.value;try{if(!nn(u(),l))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function $i(e,n,i,o){n&=~Uu,n&=~Pa,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var l=n;0<l;){var u=31-Mt(l),p=1<<u;o[u]=-1,l&=~p}i!==0&&Me(e,i,n)}function ol(){return(Xe&6)===0?(Nr(0),!1):!0}function Hu(){if(Pe!==null){if(Je===0)var e=Pe.return;else e=Pe,fi=Oa=null,iu(e),bs=null,gr=0,e=Pe;for(;e!==null;)_p(e.alternate,e),e=e.return;Pe=null}}function Os(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,fw(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Li=0,Hu(),st=e,Pe=i=ui(e.current,null),He=n,Je=0,on=null,Wi=!1,Ts=pn(e,n),Iu=!1,xs=ln=Uu=Pa=Xi=dt=0,$t=Rr=null,ju=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var l=31-Mt(o),u=1<<l;n|=e[l],o&=~u}return Si=n,Ao(),i}function Fp(e,n){Ne=null,D.H=Lr,n===ys||n===Uo?(n=uh(),Je=3):n===Yc?(n=uh(),Je=4):Je=n===bu?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,on=n,Pe===null&&(dt=1,Xo(e,yn(n,e.current)))}function Wp(){var e=sn.current;return e===null?!0:(He&4194048)===He?Sn===null:(He&62914560)===He||(He&536870912)!==0?e===Sn:!1}function Xp(){var e=D.H;return D.H=Lr,e===null?Lr:e}function Qp(){var e=D.A;return D.A=qE,e}function ll(){dt=4,Wi||(He&4194048)!==He&&sn.current!==null||(Ts=!0),(Xi&134217727)===0&&(Pa&134217727)===0||st===null||$i(st,He,ln,!1)}function Gu(e,n,i){var o=Xe;Xe|=2;var l=Xp(),u=Qp();(st!==e||He!==n)&&(rl=null,Os(e,n)),n=!1;var p=dt;e:do try{if(Je!==0&&Pe!==null){var b=Pe,_=on;switch(Je){case 8:Hu(),p=6;break e;case 3:case 2:case 9:case 6:sn.current===null&&(n=!0);var N=Je;if(Je=0,on=null,Ms(e,b,_,N),i&&Ts){p=0;break e}break;default:N=Je,Je=0,on=null,Ms(e,b,_,N)}}KE(),p=dt;break}catch(q){Fp(e,q)}while(!0);return n&&e.shellSuspendCounter++,fi=Oa=null,Xe=o,D.H=l,D.A=u,Pe===null&&(st=null,He=0,Ao()),p}function KE(){for(;Pe!==null;)Jp(Pe)}function FE(e,n){var i=Xe;Xe|=2;var o=Xp(),l=Qp();st!==e||He!==n?(rl=null,sl=At()+500,Os(e,n)):Ts=pn(e,n);e:do try{if(Je!==0&&Pe!==null){n=Pe;var u=on;t:switch(Je){case 1:Je=0,on=null,Ms(e,n,u,1);break;case 2:case 9:if(lh(u)){Je=0,on=null,$p(n);break}n=function(){Je!==2&&Je!==9||st!==e||(Je=7),Kn(e)},u.then(n,n);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:lh(u)?(Je=0,on=null,$p(n)):(Je=0,on=null,Ms(e,n,u,7));break;case 5:var p=null;switch(Pe.tag){case 26:p=Pe.memoizedState;case 5:case 27:var b=Pe;if(p?Pg(p):b.stateNode.complete){Je=0,on=null;var _=b.sibling;if(_!==null)Pe=_;else{var N=b.return;N!==null?(Pe=N,cl(N)):Pe=null}break t}}Je=0,on=null,Ms(e,n,u,5);break;case 6:Je=0,on=null,Ms(e,n,u,6);break;case 8:Hu(),dt=6;break e;default:throw Error(r(462))}}WE();break}catch(q){Fp(e,q)}while(!0);return fi=Oa=null,D.H=o,D.A=l,Xe=i,Pe!==null?0:(st=null,He=0,Ao(),dt)}function WE(){for(;Pe!==null&&!Ri();)Jp(Pe)}function Jp(e){var n=Sp(e.alternate,e,Si);e.memoizedProps=e.pendingProps,n===null?cl(e):Pe=n}function $p(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=mp(i,n,n.pendingProps,n.type,void 0,He);break;case 11:n=mp(i,n,n.pendingProps,n.type.render,n.ref,He);break;case 5:iu(n);default:_p(i,n),n=Pe=Qf(n,Si),n=Sp(i,n,Si)}e.memoizedProps=e.pendingProps,n===null?cl(e):Pe=n}function Ms(e,n,i,o){fi=Oa=null,iu(n),bs=null,gr=0;var l=n.return;try{if(jE(e,l,n,i,He)){dt=1,Xo(e,yn(i,e.current)),Pe=null;return}}catch(u){if(l!==null)throw Pe=l,u;dt=1,Xo(e,yn(i,e.current)),Pe=null;return}n.flags&32768?(Ve||o===1?e=!0:Ts||(He&536870912)!==0?e=!1:(Wi=e=!0,(o===2||o===9||o===3||o===6)&&(o=sn.current,o!==null&&o.tag===13&&(o.flags|=16384))),eg(n,e)):cl(n)}function cl(e){var n=e;do{if((n.flags&32768)!==0){eg(n,Wi);return}e=n.return;var i=BE(n.alternate,n,Si);if(i!==null){Pe=i;return}if(n=n.sibling,n!==null){Pe=n;return}Pe=n=e}while(n!==null);dt===0&&(dt=5)}function eg(e,n){do{var i=HE(e.alternate,e);if(i!==null){i.flags&=32767,Pe=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){Pe=e;return}Pe=e=i}while(e!==null);dt=6,Pe=null}function tg(e,n,i,o,l,u,p,b,_){e.cancelPendingCommit=null;do ul();while(_t!==0);if((Xe&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(u=n.lanes|n.childLanes,u|=Mc,oi(e,i,u,p,b,_),e===st&&(Pe=st=null,He=0),As=n,Ji=e,Li=i,Pu=u,zu=l,qp=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,$E(ei,function(){return rg(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=D.T,D.T=null,l=$.p,$.p=2,p=Xe,Xe|=4;try{GE(e,n,i)}finally{Xe=p,$.p=l,D.T=o}}_t=1,ng(),ig(),ag()}}function ng(){if(_t===1){_t=0;var e=Ji,n=As,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=D.T,D.T=null;var o=$.p;$.p=2;var l=Xe;Xe|=4;try{Up(n,e);var u=ed,p=Gf(e.containerInfo),b=u.focusedElem,_=u.selectionRange;if(p!==b&&b&&b.ownerDocument&&Hf(b.ownerDocument.documentElement,b)){if(_!==null&&Cc(b)){var N=_.start,q=_.end;if(q===void 0&&(q=N),"selectionStart"in b)b.selectionStart=N,b.selectionEnd=Math.min(q,b.value.length);else{var W=b.ownerDocument||document,U=W&&W.defaultView||window;if(U.getSelection){var z=U.getSelection(),me=b.textContent.length,Te=Math.min(_.start,me),it=_.end===void 0?Te:Math.min(_.end,me);!z.extend&&Te>it&&(p=it,it=Te,Te=p);var O=Bf(b,Te),T=Bf(b,it);if(O&&T&&(z.rangeCount!==1||z.anchorNode!==O.node||z.anchorOffset!==O.offset||z.focusNode!==T.node||z.focusOffset!==T.offset)){var k=W.createRange();k.setStart(O.node,O.offset),z.removeAllRanges(),Te>it?(z.addRange(k),z.extend(T.node,T.offset)):(k.setEnd(T.node,T.offset),z.addRange(k))}}}}for(W=[],z=b;z=z.parentNode;)z.nodeType===1&&W.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<W.length;b++){var Z=W[b];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Sl=!!$u,ed=$u=null}finally{Xe=l,$.p=o,D.T=i}}e.current=n,_t=2}}function ig(){if(_t===2){_t=0;var e=Ji,n=As,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=D.T,D.T=null;var o=$.p;$.p=2;var l=Xe;Xe|=4;try{Rp(e,n.alternate,n)}finally{Xe=l,$.p=o,D.T=i}}_t=3}}function ag(){if(_t===4||_t===3){_t=0,Lt();var e=Ji,n=As,i=Li,o=qp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?_t=5:(_t=0,As=Ji=null,sg(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&(Qi=null),mo(i),n=n.stateNode,Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(tn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=D.T,l=$.p,$.p=2,D.T=null;try{for(var u=e.onRecoverableError,p=0;p<o.length;p++){var b=o[p];u(b.value,{componentStack:b.stack})}}finally{D.T=n,$.p=l}}(Li&3)!==0&&ul(),Kn(e),l=e.pendingLanes,(i&261930)!==0&&(l&42)!==0?e===Bu?kr++:(kr=0,Bu=e):kr=0,Nr(0)}}function sg(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,hr(n)))}function ul(){return ng(),ig(),ag(),rg()}function rg(){if(_t!==5)return!1;var e=Ji,n=Pu;Pu=0;var i=mo(Li),o=D.T,l=$.p;try{$.p=32>i?32:i,D.T=null,i=zu,zu=null;var u=Ji,p=Li;if(_t=0,As=Ji=null,Li=0,(Xe&6)!==0)throw Error(r(331));var b=Xe;if(Xe|=4,Hp(u.current),Pp(u,u.current,p,i),Xe=b,Nr(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(tn,u)}catch{}return!0}finally{$.p=l,D.T=o,sg(e,n)}}function og(e,n,i){n=yn(i,n),n=yu(e.stateNode,n,2),e=Yi(e,n,2),e!==null&&(Gn(e,2),Kn(e))}function $e(e,n,i){if(e.tag===3)og(e,e,i);else for(;n!==null;){if(n.tag===3){og(n,e,i);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Qi===null||!Qi.has(o))){e=yn(i,e),i=lp(2),o=Yi(n,i,2),o!==null&&(cp(i,o,n,e),Gn(o,2),Kn(o));break}}n=n.return}}function Vu(e,n,i){var o=e.pingCache;if(o===null){o=e.pingCache=new YE;var l=new Set;o.set(n,l)}else l=o.get(n),l===void 0&&(l=new Set,o.set(n,l));l.has(i)||(Iu=!0,l.add(i),e=XE.bind(null,e,n,i),n.then(e,e))}function XE(e,n,i){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,st===e&&(He&i)===i&&(dt===4||dt===3&&(He&62914560)===He&&300>At()-al?(Xe&2)===0&&Os(e,0):Uu|=i,xs===He&&(xs=0)),Kn(e)}function lg(e,n){n===0&&(n=Hn()),e=Ta(e,n),e!==null&&(Gn(e,n),Kn(e))}function QE(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),lg(e,i)}function JE(e,n){var i=0;switch(e.tag){case 31:case 13:var o=e.stateNode,l=e.memoizedState;l!==null&&(i=l.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),lg(e,i)}function $E(e,n){return Ye(e,n)}var dl=null,Rs=null,qu=!1,fl=!1,Yu=!1,ea=0;function Kn(e){e!==Rs&&e.next===null&&(Rs===null?dl=Rs=e:Rs=Rs.next=e),fl=!0,qu||(qu=!0,tw())}function Nr(e,n){if(!Yu&&fl){Yu=!0;do for(var i=!1,o=dl;o!==null;){if(e!==0){var l=o.pendingLanes;if(l===0)var u=0;else{var p=o.suspendedLanes,b=o.pingedLanes;u=(1<<31-Mt(42|e)+1)-1,u&=l&~(p&~b),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(i=!0,fg(o,u))}else u=He,u=ri(o,o===st?u:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(u&3)===0||pn(o,u)||(i=!0,fg(o,u));o=o.next}while(i);Yu=!1}}function ew(){cg()}function cg(){fl=qu=!1;var e=0;ea!==0&&dw()&&(e=ea);for(var n=At(),i=null,o=dl;o!==null;){var l=o.next,u=ug(o,n);u===0?(o.next=null,i===null?dl=l:i.next=l,l===null&&(Rs=i)):(i=o,(e!==0||(u&3)!==0)&&(fl=!0)),o=l}_t!==0&&_t!==5||Nr(e),ea!==0&&(ea=0)}function ug(e,n){for(var i=e.suspendedLanes,o=e.pingedLanes,l=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var p=31-Mt(u),b=1<<p,_=l[p];_===-1?((b&i)===0||(b&o)!==0)&&(l[p]=es(b,n)):_<=n&&(e.expiredLanes|=b),u&=~b}if(n=st,i=He,i=ri(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,i===0||e===n&&(Je===2||Je===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Bt(o),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||pn(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(o!==null&&Bt(o),mo(i)){case 2:case 8:i=hn;break;case 32:i=ei;break;case 268435456:i=Ea;break;default:i=ei}return o=dg.bind(null,e),i=Ye(i,o),e.callbackPriority=n,e.callbackNode=i,n}return o!==null&&o!==null&&Bt(o),e.callbackPriority=2,e.callbackNode=null,2}function dg(e,n){if(_t!==0&&_t!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(ul()&&e.callbackNode!==i)return null;var o=He;return o=ri(e,e===st?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Zp(e,o,n),ug(e,At()),e.callbackNode!=null&&e.callbackNode===i?dg.bind(null,e):null)}function fg(e,n){if(ul())return null;Zp(e,n,!0)}function tw(){hw(function(){(Xe&6)!==0?Ye(ba,ew):cg()})}function Zu(){if(ea===0){var e=ms;e===0&&(e=ii,ii<<=1,(ii&261888)===0&&(ii=256)),ea=e}return ea}function hg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Eo(""+e)}function pg(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function nw(e,n,i,o,l){if(n==="submit"&&i&&i.stateNode===l){var u=hg((l[Ht]||null).action),p=o.submitter;p&&(n=(n=p[Ht]||null)?hg(n.formAction):p.getAttribute("formAction"),n!==null&&(u=n,p=null));var b=new _o("action","action",null,o,l);e.push({event:b,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ea!==0){var _=p?pg(l,p):new FormData(l);fu(i,{pending:!0,data:_,method:l.method,action:u},null,_)}}else typeof u=="function"&&(b.preventDefault(),_=p?pg(l,p):new FormData(l),fu(i,{pending:!0,data:_,method:l.method,action:u},u,_))},currentTarget:l}]})}}for(var Ku=0;Ku<Oc.length;Ku++){var Fu=Oc[Ku],iw=Fu.toLowerCase(),aw=Fu[0].toUpperCase()+Fu.slice(1);kn(iw,"on"+aw)}kn(Yf,"onAnimationEnd"),kn(Zf,"onAnimationIteration"),kn(Kf,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(EE,"onTransitionRun"),kn(wE,"onTransitionStart"),kn(SE,"onTransitionCancel"),kn(Ff,"onTransitionEnd"),Q("onMouseEnter",["mouseout","mouseover"]),Q("onMouseLeave",["mouseout","mouseover"]),Q("onPointerEnter",["pointerout","pointerover"]),Q("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dr));function gg(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],l=o.event;o=o.listeners;e:{var u=void 0;if(n)for(var p=o.length-1;0<=p;p--){var b=o[p],_=b.instance,N=b.currentTarget;if(b=b.listener,_!==u&&l.isPropagationStopped())break e;u=b,l.currentTarget=N;try{u(l)}catch(q){xo(q)}l.currentTarget=null,u=_}else for(p=0;p<o.length;p++){if(b=o[p],_=b.instance,N=b.currentTarget,b=b.listener,_!==u&&l.isPropagationStopped())break e;u=b,l.currentTarget=N;try{u(l)}catch(q){xo(q)}l.currentTarget=null,u=_}}}}function ze(e,n){var i=n[$s];i===void 0&&(i=n[$s]=new Set);var o=e+"__bubble";i.has(o)||(mg(n,e,2,!1),i.add(o))}function Wu(e,n,i){var o=0;n&&(o|=4),mg(i,e,o,n)}var hl="_reactListening"+Math.random().toString(36).slice(2);function Xu(e){if(!e[hl]){e[hl]=!0,yo.forEach(function(i){i!=="selectionchange"&&(sw.has(i)||Wu(i,!1,e),Wu(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[hl]||(n[hl]=!0,Wu("selectionchange",!1,n))}}function mg(e,n,i,o){switch(Yg(n)){case 2:var l=Nw;break;case 8:l=Dw;break;default:l=dd}i=l.bind(null,n,i,e),l=void 0,!mc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(l=!0),o?l!==void 0?e.addEventListener(n,i,{capture:!0,passive:l}):e.addEventListener(n,i,!0):l!==void 0?e.addEventListener(n,i,{passive:l}):e.addEventListener(n,i,!1)}function Qu(e,n,i,o,l){var u=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var b=o.stateNode.containerInfo;if(b===l)break;if(p===4)for(p=o.return;p!==null;){var _=p.tag;if((_===3||_===4)&&p.stateNode.containerInfo===l)return;p=p.return}for(;b!==null;){if(p=Ii(b),p===null)return;if(_=p.tag,_===5||_===6||_===26||_===27){o=u=p;continue e}b=b.parentNode}}o=o.return}wf(function(){var N=u,q=pc(i),W=[];e:{var U=Wf.get(e);if(U!==void 0){var z=_o,me=e;switch(e){case"keypress":if(So(i)===0)break e;case"keydown":case"keyup":z=Jb;break;case"focusin":me="focus",z=Ec;break;case"focusout":me="blur",z=Ec;break;case"beforeblur":case"afterblur":z=Ec;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=_f;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=Bb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=tE;break;case Yf:case Zf:case Kf:z=Vb;break;case Ff:z=iE;break;case"scroll":case"scrollend":z=Pb;break;case"wheel":z=sE;break;case"copy":case"cut":case"paste":z=Yb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=Tf;break;case"toggle":case"beforetoggle":z=oE}var Te=(n&4)!==0,it=!Te&&(e==="scroll"||e==="scrollend"),O=Te?U!==null?U+"Capture":null:U;Te=[];for(var T=N,k;T!==null;){var Z=T;if(k=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||k===null||O===null||(Z=nr(T,O),Z!=null&&Te.push(Ir(T,Z,k))),it)break;T=T.return}0<Te.length&&(U=new z(U,me,null,i,q),W.push({event:U,listeners:Te}))}}if((n&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",U&&i!==hc&&(me=i.relatedTarget||i.fromElement)&&(Ii(me)||me[Di]))break e;if((z||U)&&(U=q.window===q?q:(U=q.ownerDocument)?U.defaultView||U.parentWindow:window,z?(me=i.relatedTarget||i.toElement,z=N,me=me?Ii(me):null,me!==null&&(it=d(me),Te=me.tag,me!==it||Te!==5&&Te!==27&&Te!==6)&&(me=null)):(z=null,me=N),z!==me)){if(Te=_f,Z="onMouseLeave",O="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(Te=Tf,Z="onPointerLeave",O="onPointerEnter",T="pointer"),it=z==null?U:Sa(z),k=me==null?U:Sa(me),U=new Te(Z,T+"leave",z,i,q),U.target=it,U.relatedTarget=k,Z=null,Ii(q)===N&&(Te=new Te(O,T+"enter",me,i,q),Te.target=k,Te.relatedTarget=it,Z=Te),it=Z,z&&me)t:{for(Te=rw,O=z,T=me,k=0,Z=O;Z;Z=Te(Z))k++;Z=0;for(var Le=T;Le;Le=Te(Le))Z++;for(;0<k-Z;)O=Te(O),k--;for(;0<Z-k;)T=Te(T),Z--;for(;k--;){if(O===T||T!==null&&O===T.alternate){Te=O;break t}O=Te(O),T=Te(T)}Te=null}else Te=null;z!==null&&vg(W,U,z,Te,!1),me!==null&&it!==null&&vg(W,it,me,Te,!0)}}e:{if(U=N?Sa(N):window,z=U.nodeName&&U.nodeName.toLowerCase(),z==="select"||z==="input"&&U.type==="file")var Ke=Df;else if(kf(U))if(If)Ke=vE;else{Ke=gE;var Ee=pE}else z=U.nodeName,!z||z.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?N&&fc(N.elementType)&&(Ke=Df):Ke=mE;if(Ke&&(Ke=Ke(e,N))){Nf(W,Ke,i,q);break e}Ee&&Ee(e,U,N),e==="focusout"&&N&&U.type==="number"&&N.memoizedProps.value!=null&&dc(U,"number",U.value)}switch(Ee=N?Sa(N):window,e){case"focusin":(kf(Ee)||Ee.contentEditable==="true")&&(ls=Ee,Tc=N,ur=null);break;case"focusout":ur=Tc=ls=null;break;case"mousedown":xc=!0;break;case"contextmenu":case"mouseup":case"dragend":xc=!1,Vf(W,i,q);break;case"selectionchange":if(bE)break;case"keydown":case"keyup":Vf(W,i,q)}var Ie;if(Sc)e:{switch(e){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else os?Mf(e,i)&&(Ge="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Ge="onCompositionStart");Ge&&(xf&&i.locale!=="ko"&&(os||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&os&&(Ie=Sf()):(Pi=q,vc="value"in Pi?Pi.value:Pi.textContent,os=!0)),Ee=pl(N,Ge),0<Ee.length&&(Ge=new Cf(Ge,e,null,i,q),W.push({event:Ge,listeners:Ee}),Ie?Ge.data=Ie:(Ie=Rf(i),Ie!==null&&(Ge.data=Ie)))),(Ie=cE?uE(e,i):dE(e,i))&&(Ge=pl(N,"onBeforeInput"),0<Ge.length&&(Ee=new Cf("onBeforeInput","beforeinput",null,i,q),W.push({event:Ee,listeners:Ge}),Ee.data=Ie)),nw(W,e,N,i,q)}gg(W,n)})}function Ir(e,n,i){return{instance:e,listener:n,currentTarget:i}}function pl(e,n){for(var i=n+"Capture",o=[];e!==null;){var l=e,u=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||u===null||(l=nr(e,i),l!=null&&o.unshift(Ir(e,l,u)),l=nr(e,n),l!=null&&o.push(Ir(e,l,u))),e.tag===3)return o;e=e.return}return[]}function rw(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function vg(e,n,i,o,l){for(var u=n._reactName,p=[];i!==null&&i!==o;){var b=i,_=b.alternate,N=b.stateNode;if(b=b.tag,_!==null&&_===o)break;b!==5&&b!==26&&b!==27||N===null||(_=N,l?(N=nr(i,u),N!=null&&p.unshift(Ir(i,N,_))):l||(N=nr(i,u),N!=null&&p.push(Ir(i,N,_)))),i=i.return}p.length!==0&&e.push({event:n,listeners:p})}var ow=/\r\n?/g,lw=/\u0000|\uFFFD/g;function yg(e){return(typeof e=="string"?e:""+e).replace(ow,`
`).replace(lw,"")}function bg(e,n){return n=yg(n),yg(e)===n}function nt(e,n,i,o,l,u){switch(i){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||as(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&as(e,""+o);break;case"className":yt(e,"class",o);break;case"tabIndex":yt(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":yt(e,i,o);break;case"style":bf(e,o,u);break;case"data":if(n!=="object"){yt(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=Eo(""+o),e.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(i==="formAction"?(n!=="input"&&nt(e,n,"name",l.name,l,null),nt(e,n,"formEncType",l.formEncType,l,null),nt(e,n,"formMethod",l.formMethod,l,null),nt(e,n,"formTarget",l.formTarget,l,null)):(nt(e,n,"encType",l.encType,l,null),nt(e,n,"method",l.method,l,null),nt(e,n,"target",l.target,l,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=Eo(""+o),e.setAttribute(i,o);break;case"onClick":o!=null&&(e.onclick=li);break;case"onScroll":o!=null&&ze("scroll",e);break;case"onScrollEnd":o!=null&&ze("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(i=o.__html,i!=null){if(l.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}i=Eo(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""+o):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":o===!0?e.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,o):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(i,o):e.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(i):e.setAttribute(i,o);break;case"popover":ze("beforetoggle",e),ze("toggle",e),De(e,"popover",o);break;case"xlinkActuate":Qe(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Qe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Qe(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Qe(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Qe(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Qe(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Qe(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Qe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Qe(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":De(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Ub.get(i)||i,De(e,i,o))}}function Ju(e,n,i,o,l,u){switch(i){case"style":bf(e,o,u);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(i=o.__html,i!=null){if(l.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"children":typeof o=="string"?as(e,o):(typeof o=="number"||typeof o=="bigint")&&as(e,""+o);break;case"onScroll":o!=null&&ze("scroll",e);break;case"onScrollEnd":o!=null&&ze("scrollend",e);break;case"onClick":o!=null&&(e.onclick=li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bo.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(l=i.endsWith("Capture"),n=i.slice(2,l?i.length-7:void 0),u=e[Ht]||null,u=u!=null?u[i]:null,typeof u=="function"&&e.removeEventListener(n,u,l),typeof o=="function")){typeof u!="function"&&u!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,o,l);break e}i in e?e[i]=o:o===!0?e.setAttribute(i,""):De(e,i,o)}}}function Ut(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",e),ze("load",e);var o=!1,l=!1,u;for(u in i)if(i.hasOwnProperty(u)){var p=i[u];if(p!=null)switch(u){case"src":o=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:nt(e,n,u,p,i,null)}}l&&nt(e,n,"srcSet",i.srcSet,i,null),o&&nt(e,n,"src",i.src,i,null);return;case"input":ze("invalid",e);var b=u=p=l=null,_=null,N=null;for(o in i)if(i.hasOwnProperty(o)){var q=i[o];if(q!=null)switch(o){case"name":l=q;break;case"type":p=q;break;case"checked":_=q;break;case"defaultChecked":N=q;break;case"value":u=q;break;case"defaultValue":b=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:nt(e,n,o,q,i,null)}}gf(e,u,b,_,N,p,l,!1);return;case"select":ze("invalid",e),o=p=u=null;for(l in i)if(i.hasOwnProperty(l)&&(b=i[l],b!=null))switch(l){case"value":u=b;break;case"defaultValue":p=b;break;case"multiple":o=b;default:nt(e,n,l,b,i,null)}n=u,i=p,e.multiple=!!o,n!=null?is(e,!!o,n,!1):i!=null&&is(e,!!o,i,!0);return;case"textarea":ze("invalid",e),u=l=o=null;for(p in i)if(i.hasOwnProperty(p)&&(b=i[p],b!=null))switch(p){case"value":o=b;break;case"defaultValue":l=b;break;case"children":u=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:nt(e,n,p,b,i,null)}vf(e,o,l,u);return;case"option":for(_ in i)if(i.hasOwnProperty(_)&&(o=i[_],o!=null))switch(_){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:nt(e,n,_,o,i,null)}return;case"dialog":ze("beforetoggle",e),ze("toggle",e),ze("cancel",e),ze("close",e);break;case"iframe":case"object":ze("load",e);break;case"video":case"audio":for(o=0;o<Dr.length;o++)ze(Dr[o],e);break;case"image":ze("error",e),ze("load",e);break;case"details":ze("toggle",e);break;case"embed":case"source":case"link":ze("error",e),ze("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in i)if(i.hasOwnProperty(N)&&(o=i[N],o!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:nt(e,n,N,o,i,null)}return;default:if(fc(n)){for(q in i)i.hasOwnProperty(q)&&(o=i[q],o!==void 0&&Ju(e,n,q,o,i,void 0));return}}for(b in i)i.hasOwnProperty(b)&&(o=i[b],o!=null&&nt(e,n,b,o,i,null))}function cw(e,n,i,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,u=null,p=null,b=null,_=null,N=null,q=null;for(z in i){var W=i[z];if(i.hasOwnProperty(z)&&W!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":_=W;default:o.hasOwnProperty(z)||nt(e,n,z,null,o,W)}}for(var U in o){var z=o[U];if(W=i[U],o.hasOwnProperty(U)&&(z!=null||W!=null))switch(U){case"type":u=z;break;case"name":l=z;break;case"checked":N=z;break;case"defaultChecked":q=z;break;case"value":p=z;break;case"defaultValue":b=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,n));break;default:z!==W&&nt(e,n,U,z,o,W)}}uc(e,p,b,_,N,q,u,l);return;case"select":z=p=b=U=null;for(u in i)if(_=i[u],i.hasOwnProperty(u)&&_!=null)switch(u){case"value":break;case"multiple":z=_;default:o.hasOwnProperty(u)||nt(e,n,u,null,o,_)}for(l in o)if(u=o[l],_=i[l],o.hasOwnProperty(l)&&(u!=null||_!=null))switch(l){case"value":U=u;break;case"defaultValue":b=u;break;case"multiple":p=u;default:u!==_&&nt(e,n,l,u,o,_)}n=b,i=p,o=z,U!=null?is(e,!!i,U,!1):!!o!=!!i&&(n!=null?is(e,!!i,n,!0):is(e,!!i,i?[]:"",!1));return;case"textarea":z=U=null;for(b in i)if(l=i[b],i.hasOwnProperty(b)&&l!=null&&!o.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:nt(e,n,b,null,o,l)}for(p in o)if(l=o[p],u=i[p],o.hasOwnProperty(p)&&(l!=null||u!=null))switch(p){case"value":U=l;break;case"defaultValue":z=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(r(91));break;default:l!==u&&nt(e,n,p,l,o,u)}mf(e,U,z);return;case"option":for(var me in i)if(U=i[me],i.hasOwnProperty(me)&&U!=null&&!o.hasOwnProperty(me))switch(me){case"selected":e.selected=!1;break;default:nt(e,n,me,null,o,U)}for(_ in o)if(U=o[_],z=i[_],o.hasOwnProperty(_)&&U!==z&&(U!=null||z!=null))switch(_){case"selected":e.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:nt(e,n,_,U,o,z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in i)U=i[Te],i.hasOwnProperty(Te)&&U!=null&&!o.hasOwnProperty(Te)&&nt(e,n,Te,null,o,U);for(N in o)if(U=o[N],z=i[N],o.hasOwnProperty(N)&&U!==z&&(U!=null||z!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,n));break;default:nt(e,n,N,U,o,z)}return;default:if(fc(n)){for(var it in i)U=i[it],i.hasOwnProperty(it)&&U!==void 0&&!o.hasOwnProperty(it)&&Ju(e,n,it,void 0,o,U);for(q in o)U=o[q],z=i[q],!o.hasOwnProperty(q)||U===z||U===void 0&&z===void 0||Ju(e,n,q,U,o,z);return}}for(var O in i)U=i[O],i.hasOwnProperty(O)&&U!=null&&!o.hasOwnProperty(O)&&nt(e,n,O,null,o,U);for(W in o)U=o[W],z=i[W],!o.hasOwnProperty(W)||U===z||U==null&&z==null||nt(e,n,W,U,o,z)}function Eg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function uw(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,i=performance.getEntriesByType("resource"),o=0;o<i.length;o++){var l=i[o],u=l.transferSize,p=l.initiatorType,b=l.duration;if(u&&b&&Eg(p)){for(p=0,b=l.responseEnd,o+=1;o<i.length;o++){var _=i[o],N=_.startTime;if(N>b)break;var q=_.transferSize,W=_.initiatorType;q&&Eg(W)&&(_=_.responseEnd,p+=q*(_<b?1:(b-N)/(_-N)))}if(--o,n+=8*(u+p)/(l.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var $u=null,ed=null;function gl(e){return e.nodeType===9?e:e.ownerDocument}function wg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sg(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function td(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var nd=null;function dw(){var e=window.event;return e&&e.type==="popstate"?e===nd?!1:(nd=e,!0):(nd=null,!1)}var Lg=typeof setTimeout=="function"?setTimeout:void 0,fw=typeof clearTimeout=="function"?clearTimeout:void 0,_g=typeof Promise=="function"?Promise:void 0,hw=typeof queueMicrotask=="function"?queueMicrotask:typeof _g<"u"?function(e){return _g.resolve(null).then(e).catch(pw)}:Lg;function pw(e){setTimeout(function(){throw e})}function ta(e){return e==="head"}function Cg(e,n){var i=n,o=0;do{var l=i.nextSibling;if(e.removeChild(i),l&&l.nodeType===8)if(i=l.data,i==="/$"||i==="/&"){if(o===0){e.removeChild(l),Is(n);return}o--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")o++;else if(i==="html")Ur(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Ur(i);for(var u=i.firstChild;u;){var p=u.nextSibling,b=u.nodeName;u[wa]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&u.rel.toLowerCase()==="stylesheet"||i.removeChild(u),u=p}}else i==="body"&&Ur(e.ownerDocument.body);i=l}while(i);Is(n)}function Tg(e,n){var i=e;e=0;do{var o=i.nextSibling;if(i.nodeType===1?n?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(n?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),o&&o.nodeType===8)if(i=o.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=o}while(i)}function id(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":id(i),tr(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function gw(e,n,i,o){for(;e.nodeType===1;){var l=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[wa])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==l.rel||e.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||e.getAttribute("title")!==(l.title==null?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(l.src==null?null:l.src)||e.getAttribute("type")!==(l.type==null?null:l.type)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var u=l.name==null?null:""+l.name;if(l.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function mw(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Ln(e.nextSibling),e===null))return null;return e}function xg(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ln(e.nextSibling),e===null))return null;return e}function ad(e){return e.data==="$?"||e.data==="$~"}function sd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function vw(e,n){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||i.readyState!=="loading")n();else{var o=function(){n(),i.removeEventListener("DOMContentLoaded",o)};i.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Ln(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var rd=null;function Ag(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(n===0)return Ln(e.nextSibling);n--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||n++}e=e.nextSibling}return null}function Og(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(n===0)return e;n--}else i!=="/$"&&i!=="/&"||n++}e=e.previousSibling}return null}function Mg(e,n,i){switch(n=gl(i),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Ur(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);tr(e)}var _n=new Map,Rg=new Set;function ml(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var _i=$.d;$.d={f:yw,r:bw,D:Ew,C:ww,L:Sw,m:Lw,X:Cw,S:_w,M:Tw};function yw(){var e=_i.f(),n=ol();return e||n}function bw(e){var n=Ui(e);n!==null&&n.tag===5&&n.type==="form"?Fh(n):_i.r(e)}var ks=typeof document>"u"?null:document;function kg(e,n,i){var o=ks;if(o&&typeof n=="string"&&n){var l=mn(n);l='link[rel="'+e+'"][href="'+l+'"]',typeof i=="string"&&(l+='[crossorigin="'+i+'"]'),Rg.has(l)||(Rg.add(l),e={rel:e,crossOrigin:i,href:n},o.querySelector(l)===null&&(n=o.createElement("link"),Ut(n,"link",e),vt(n),o.head.appendChild(n)))}}function Ew(e){_i.D(e),kg("dns-prefetch",e,null)}function ww(e,n){_i.C(e,n),kg("preconnect",e,n)}function Sw(e,n,i){_i.L(e,n,i);var o=ks;if(o&&e&&n){var l='link[rel="preload"][as="'+mn(n)+'"]';n==="image"&&i&&i.imageSrcSet?(l+='[imagesrcset="'+mn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(l+='[imagesizes="'+mn(i.imageSizes)+'"]')):l+='[href="'+mn(e)+'"]';var u=l;switch(n){case"style":u=Ns(e);break;case"script":u=Ds(e)}_n.has(u)||(e=w({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),_n.set(u,e),o.querySelector(l)!==null||n==="style"&&o.querySelector(jr(u))||n==="script"&&o.querySelector(Pr(u))||(n=o.createElement("link"),Ut(n,"link",e),vt(n),o.head.appendChild(n)))}}function Lw(e,n){_i.m(e,n);var i=ks;if(i&&e){var o=n&&typeof n.as=="string"?n.as:"script",l='link[rel="modulepreload"][as="'+mn(o)+'"][href="'+mn(e)+'"]',u=l;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Ds(e)}if(!_n.has(u)&&(e=w({rel:"modulepreload",href:e},n),_n.set(u,e),i.querySelector(l)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Pr(u)))return}o=i.createElement("link"),Ut(o,"link",e),vt(o),i.head.appendChild(o)}}}function _w(e,n,i){_i.S(e,n,i);var o=ks;if(o&&e){var l=ji(o).hoistableStyles,u=Ns(e);n=n||"default";var p=l.get(u);if(!p){var b={loading:0,preload:null};if(p=o.querySelector(jr(u)))b.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},i),(i=_n.get(u))&&od(e,i);var _=p=o.createElement("link");vt(_),Ut(_,"link",e),_._p=new Promise(function(N,q){_.onload=N,_.onerror=q}),_.addEventListener("load",function(){b.loading|=1}),_.addEventListener("error",function(){b.loading|=2}),b.loading|=4,vl(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:b},l.set(u,p)}}}function Cw(e,n){_i.X(e,n);var i=ks;if(i&&e){var o=ji(i).hoistableScripts,l=Ds(e),u=o.get(l);u||(u=i.querySelector(Pr(l)),u||(e=w({src:e,async:!0},n),(n=_n.get(l))&&ld(e,n),u=i.createElement("script"),vt(u),Ut(u,"link",e),i.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},o.set(l,u))}}function Tw(e,n){_i.M(e,n);var i=ks;if(i&&e){var o=ji(i).hoistableScripts,l=Ds(e),u=o.get(l);u||(u=i.querySelector(Pr(l)),u||(e=w({src:e,async:!0,type:"module"},n),(n=_n.get(l))&&ld(e,n),u=i.createElement("script"),vt(u),Ut(u,"link",e),i.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},o.set(l,u))}}function Ng(e,n,i,o){var l=(l=P.current)?ml(l):null;if(!l)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=Ns(i.href),i=ji(l).hoistableStyles,o=i.get(n),o||(o={type:"style",instance:null,count:0,state:null},i.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Ns(i.href);var u=ji(l).hoistableStyles,p=u.get(e);if(p||(l=l.ownerDocument||l,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,p),(u=l.querySelector(jr(e)))&&!u._p&&(p.instance=u,p.state.loading=5),_n.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},_n.set(e,i),u||xw(l,e,i,p.state))),n&&o===null)throw Error(r(528,""));return p}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ds(i),i=ji(l).hoistableScripts,o=i.get(n),o||(o={type:"script",instance:null,count:0,state:null},i.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ns(e){return'href="'+mn(e)+'"'}function jr(e){return'link[rel="stylesheet"]['+e+"]"}function Dg(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function xw(e,n,i,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ut(n,"link",i),vt(n),e.head.appendChild(n))}function Ds(e){return'[src="'+mn(e)+'"]'}function Pr(e){return"script[async]"+e}function Ig(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+mn(i.href)+'"]');if(o)return n.instance=o,vt(o),o;var l=w({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),vt(o),Ut(o,"style",l),vl(o,i.precedence,e),n.instance=o;case"stylesheet":l=Ns(i.href);var u=e.querySelector(jr(l));if(u)return n.state.loading|=4,n.instance=u,vt(u),u;o=Dg(i),(l=_n.get(l))&&od(o,l),u=(e.ownerDocument||e).createElement("link"),vt(u);var p=u;return p._p=new Promise(function(b,_){p.onload=b,p.onerror=_}),Ut(u,"link",o),n.state.loading|=4,vl(u,i.precedence,e),n.instance=u;case"script":return u=Ds(i.src),(l=e.querySelector(Pr(u)))?(n.instance=l,vt(l),l):(o=i,(l=_n.get(u))&&(o=w({},i),ld(o,l)),e=e.ownerDocument||e,l=e.createElement("script"),vt(l),Ut(l,"link",o),e.head.appendChild(l),n.instance=l);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,vl(o,i.precedence,e));return n.instance}function vl(e,n,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=o.length?o[o.length-1]:null,u=l,p=0;p<o.length;p++){var b=o[p];if(b.dataset.precedence===n)u=b;else if(u!==l)break}u?u.parentNode.insertBefore(e,u.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function od(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function ld(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var yl=null;function Ug(e,n,i){if(yl===null){var o=new Map,l=yl=new Map;l.set(i,o)}else l=yl,o=l.get(i),o||(o=new Map,l.set(i,o));if(o.has(e))return o;for(o.set(e,null),i=i.getElementsByTagName(e),l=0;l<i.length;l++){var u=i[l];if(!(u[wa]||u[pt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var p=u.getAttribute(n)||"";p=e+p;var b=o.get(p);b?b.push(u):o.set(p,[u])}}return o}function jg(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function Aw(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Pg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Ow(e,n,i,o){if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var l=Ns(o.href),u=n.querySelector(jr(l));if(u){n=u._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=bl.bind(e),n.then(e,e)),i.state.loading|=4,i.instance=u,vt(u);return}u=n.ownerDocument||n,o=Dg(o),(l=_n.get(l))&&od(o,l),u=u.createElement("link"),vt(u);var p=u;p._p=new Promise(function(b,_){p.onload=b,p.onerror=_}),Ut(u,"link",o),i.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=bl.bind(e),n.addEventListener("load",i),n.addEventListener("error",i))}}var cd=0;function Mw(e,n){return e.stylesheets&&e.count===0&&wl(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var o=setTimeout(function(){if(e.stylesheets&&wl(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+n);0<e.imgBytes&&cd===0&&(cd=62500*uw());var l=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&wl(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>cd?50:800)+n);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(l)}}:null}function bl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var El=null;function wl(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,El=new Map,n.forEach(Rw,e),El=null,bl.call(e))}function Rw(e,n){if(!(n.state.loading&4)){var i=El.get(e);if(i)var o=i.get(null);else{i=new Map,El.set(e,i);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<l.length;u++){var p=l[u];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(i.set(p.dataset.precedence,p),o=p)}o&&i.set(null,o)}l=n.instance,p=l.getAttribute("data-precedence"),u=i.get(p)||o,u===o&&i.set(null,l),i.set(p,l),this.count++,o=bl.bind(this),l.addEventListener("load",o),l.addEventListener("error",o),u?u.parentNode.insertBefore(l,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(l,e.firstChild)),n.state.loading|=4}}var zr={$$typeof:X,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function kw(e,n,i,o,l,u,p,b,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ni(0),this.hiddenUpdates=Ni(null),this.identifierPrefix=o,this.onUncaughtError=l,this.onCaughtError=u,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function zg(e,n,i,o,l,u,p,b,_,N,q,W){return e=new kw(e,n,i,p,_,N,q,W,b),n=1,u===!0&&(n|=24),u=an(3,null,null,n),e.current=u,u.stateNode=e,n=Gc(),n.refCount++,e.pooledCache=n,n.refCount++,u.memoizedState={element:o,isDehydrated:i,cache:n},Zc(u),e}function Bg(e){return e?(e=ds,e):ds}function Hg(e,n,i,o,l,u){l=Bg(l),o.context===null?o.context=l:o.pendingContext=l,o=qi(n),o.payload={element:i},u=u===void 0?null:u,u!==null&&(o.callback=u),i=Yi(e,o,n),i!==null&&(en(i,e,n),vr(i,e,n))}function Gg(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function ud(e,n){Gg(e,n),(e=e.alternate)&&Gg(e,n)}function Vg(e){if(e.tag===13||e.tag===31){var n=Ta(e,67108864);n!==null&&en(n,e,67108864),ud(e,67108864)}}function qg(e){if(e.tag===13||e.tag===31){var n=cn();n=ts(n);var i=Ta(e,n);i!==null&&en(i,e,n),ud(e,n)}}var Sl=!0;function Nw(e,n,i,o){var l=D.T;D.T=null;var u=$.p;try{$.p=2,dd(e,n,i,o)}finally{$.p=u,D.T=l}}function Dw(e,n,i,o){var l=D.T;D.T=null;var u=$.p;try{$.p=8,dd(e,n,i,o)}finally{$.p=u,D.T=l}}function dd(e,n,i,o){if(Sl){var l=fd(o);if(l===null)Qu(e,n,o,Ll,i),Zg(e,o);else if(Uw(l,e,n,i,o))o.stopPropagation();else if(Zg(e,o),n&4&&-1<Iw.indexOf(e)){for(;l!==null;){var u=Ui(l);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var p=Vt(u.pendingLanes);if(p!==0){var b=u;for(b.pendingLanes|=2,b.entangledLanes|=2;p;){var _=1<<31-Mt(p);b.entanglements[1]|=_,p&=~_}Kn(u),(Xe&6)===0&&(sl=At()+500,Nr(0))}}break;case 31:case 13:b=Ta(u,2),b!==null&&en(b,u,2),ol(),ud(u,2)}if(u=fd(o),u===null&&Qu(e,n,o,Ll,i),u===l)break;l=u}l!==null&&o.stopPropagation()}else Qu(e,n,o,null,i)}}function fd(e){return e=pc(e),hd(e)}var Ll=null;function hd(e){if(Ll=null,e=Ii(e),e!==null){var n=d(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=f(n),e!==null)return e;e=null}else if(i===31){if(e=g(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ll=e,null}function Yg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bn()){case ba:return 2;case hn:return 8;case ei:case On:return 32;case Ea:return 268435456;default:return 32}default:return 32}}var pd=!1,na=null,ia=null,aa=null,Br=new Map,Hr=new Map,sa=[],Iw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zg(e,n){switch(e){case"focusin":case"focusout":na=null;break;case"dragenter":case"dragleave":ia=null;break;case"mouseover":case"mouseout":aa=null;break;case"pointerover":case"pointerout":Br.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hr.delete(n.pointerId)}}function Gr(e,n,i,o,l,u){return e===null||e.nativeEvent!==u?(e={blockedOn:n,domEventName:i,eventSystemFlags:o,nativeEvent:u,targetContainers:[l]},n!==null&&(n=Ui(n),n!==null&&Vg(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,l!==null&&n.indexOf(l)===-1&&n.push(l),e)}function Uw(e,n,i,o,l){switch(n){case"focusin":return na=Gr(na,e,n,i,o,l),!0;case"dragenter":return ia=Gr(ia,e,n,i,o,l),!0;case"mouseover":return aa=Gr(aa,e,n,i,o,l),!0;case"pointerover":var u=l.pointerId;return Br.set(u,Gr(Br.get(u)||null,e,n,i,o,l)),!0;case"gotpointercapture":return u=l.pointerId,Hr.set(u,Gr(Hr.get(u)||null,e,n,i,o,l)),!0}return!1}function Kg(e){var n=Ii(e.target);if(n!==null){var i=d(n);if(i!==null){if(n=i.tag,n===13){if(n=f(i),n!==null){e.blockedOn=n,Js(e.priority,function(){qg(i)});return}}else if(n===31){if(n=g(i),n!==null){e.blockedOn=n,Js(e.priority,function(){qg(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _l(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=fd(e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);hc=o,i.target.dispatchEvent(o),hc=null}else return n=Ui(i),n!==null&&Vg(n),e.blockedOn=i,!1;n.shift()}return!0}function Fg(e,n,i){_l(e)&&i.delete(n)}function jw(){pd=!1,na!==null&&_l(na)&&(na=null),ia!==null&&_l(ia)&&(ia=null),aa!==null&&_l(aa)&&(aa=null),Br.forEach(Fg),Hr.forEach(Fg)}function Cl(e,n){e.blockedOn===n&&(e.blockedOn=null,pd||(pd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,jw)))}var Tl=null;function Wg(e){Tl!==e&&(Tl=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Tl===e&&(Tl=null);for(var n=0;n<e.length;n+=3){var i=e[n],o=e[n+1],l=e[n+2];if(typeof o!="function"){if(hd(o||i)===null)continue;break}var u=Ui(i);u!==null&&(e.splice(n,3),n-=3,fu(u,{pending:!0,data:l,method:i.method,action:o},o,l))}}))}function Is(e){function n(_){return Cl(_,e)}na!==null&&Cl(na,e),ia!==null&&Cl(ia,e),aa!==null&&Cl(aa,e),Br.forEach(n),Hr.forEach(n);for(var i=0;i<sa.length;i++){var o=sa[i];o.blockedOn===e&&(o.blockedOn=null)}for(;0<sa.length&&(i=sa[0],i.blockedOn===null);)Kg(i),i.blockedOn===null&&sa.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var l=i[o],u=i[o+1],p=l[Ht]||null;if(typeof u=="function")p||Wg(i);else if(p){var b=null;if(u&&u.hasAttribute("formAction")){if(l=u,p=u[Ht]||null)b=p.formAction;else if(hd(l)!==null)continue}else b=p.action;typeof b=="function"?i[o+1]=b:(i.splice(o,3),o-=3),Wg(i)}}}function Xg(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(p){return l=p})},focusReset:"manual",scroll:"manual"})}function n(){l!==null&&(l(),l=null),o||setTimeout(i,20)}function i(){if(!o&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,l=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(i,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),l!==null&&(l(),l=null)}}}function gd(e){this._internalRoot=e}xl.prototype.render=gd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var i=n.current,o=cn();Hg(i,o,e,n,null,null)},xl.prototype.unmount=gd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Hg(e.current,2,null,e,null,null),ol(),n[Di]=null}};function xl(e){this._internalRoot=e}xl.prototype.unstable_scheduleHydration=function(e){if(e){var n=Qs();e={blockedOn:null,target:e,priority:n};for(var i=0;i<sa.length&&n!==0&&n<sa[i].priority;i++);sa.splice(i,0,e),i===0&&Kg(e)}};var Qg=t.version;if(Qg!=="19.2.1")throw Error(r(527,Qg,"19.2.1"));$.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Pw={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Al.isDisabled&&Al.supportsFiber)try{tn=Al.inject(Pw),Ot=Al}catch{}}return qr.createRoot=function(e,n){if(!c(e))throw Error(r(299));var i=!1,o="",l=ap,u=sp,p=rp;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(l=n.onUncaughtError),n.onCaughtError!==void 0&&(u=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=zg(e,1,!1,null,null,i,o,null,l,u,p,Xg),e[Di]=n.current,Xu(e),new gd(n)},qr.hydrateRoot=function(e,n,i){if(!c(e))throw Error(r(299));var o=!1,l="",u=ap,p=sp,b=rp,_=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(u=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError),i.formState!==void 0&&(_=i.formState)),n=zg(e,1,!0,n,i??null,o,l,_,u,p,b,Xg),n.context=Bg(null),i=n.current,o=cn(),o=ts(o),l=qi(o),l.callback=null,Yi(i,l,o),i=o,n.current.lanes=i,Gn(n,i),Kn(n),e[Di]=n.current,Xu(e),new xl(n)},qr.version="19.2.1",qr}var im;function yS(){if(im)return Ed.exports;im=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Ed.exports=vS(),Ed.exports}var bS=yS();const ES=Gw(bS),wS="modulepreload",SS=function(a){return"/"+a},am={},jt=function(t,s,r){let c=Promise.resolve();if(s&&s.length>0){let f=function(y){return Promise.all(y.map(v=>Promise.resolve(v).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),m=(g==null?void 0:g.nonce)||(g==null?void 0:g.getAttribute("nonce"));c=f(s.map(y=>{if(y=SS(y),y in am)return;am[y]=!0;const v=y.endsWith(".css"),w=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${w}`))return;const L=document.createElement("link");if(L.rel=v?"stylesheet":wS,v||(L.as="script"),L.crossOrigin="",L.href=y,m&&L.setAttribute("nonce",m),document.head.appendChild(L),v)return new Promise((A,C)=>{L.addEventListener("load",A),L.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${y}`)))})}))}function d(f){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=f,window.dispatchEvent(g),!g.defaultPrevented)throw f}return c.then(f=>{for(const g of f||[])g.status==="rejected"&&d(g.reason);return t().catch(d)})};/*! Capacitor: https://capacitorjs.com/ - MIT License */var qs;(function(a){a.Unimplemented="UNIMPLEMENTED",a.Unavailable="UNAVAILABLE"})(qs||(qs={}));class Ld extends Error{constructor(t,s,r){super(t),this.message=t,this.code=s,this.data=r}}const LS=a=>{var t,s;return a!=null&&a.androidBridge?"android":!((s=(t=a==null?void 0:a.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||s===void 0)&&s.bridge?"ios":"web"},_S=a=>{const t=a.CapacitorCustomPlatform||null,s=a.Capacitor||{},r=s.Plugins=s.Plugins||{},c=()=>t!==null?t.name:LS(a),d=()=>c()!=="web",f=w=>{const L=y.get(w);return!!(L!=null&&L.platforms.has(c())||g(w))},g=w=>{var L;return(L=s.PluginHeaders)===null||L===void 0?void 0:L.find(A=>A.name===w)},m=w=>a.console.error(w),y=new Map,v=(w,L={})=>{const A=y.get(w);if(A)return console.warn(`Capacitor plugin "${w}" already registered. Cannot register plugins twice.`),A.proxy;const C=c(),M=g(w);let R;const K=async()=>(!R&&C in L?R=typeof L[C]=="function"?R=await L[C]():R=L[C]:t!==null&&!R&&"web"in L&&(R=typeof L.web=="function"?R=await L.web():R=L.web),R),Y=(ne,H)=>{var ce,ue;if(M){const te=M==null?void 0:M.methods.find(de=>H===de.name);if(te)return te.rtype==="promise"?de=>s.nativePromise(w,H.toString(),de):(de,pe)=>s.nativeCallback(w,H.toString(),de,pe);if(ne)return(ce=ne[H])===null||ce===void 0?void 0:ce.bind(ne)}else{if(ne)return(ue=ne[H])===null||ue===void 0?void 0:ue.bind(ne);throw new Ld(`"${w}" plugin is not implemented on ${C}`,qs.Unimplemented)}},X=ne=>{let H;const ce=(...ue)=>{const te=K().then(de=>{const pe=Y(de,ne);if(pe){const ve=pe(...ue);return H=ve==null?void 0:ve.remove,ve}else throw new Ld(`"${w}.${ne}()" is not implemented on ${C}`,qs.Unimplemented)});return ne==="addListener"&&(te.remove=async()=>H()),te};return ce.toString=()=>`${ne.toString()}() { [capacitor code] }`,Object.defineProperty(ce,"name",{value:ne,writable:!1,configurable:!1}),ce},j=X("addListener"),I=X("removeListener"),B=(ne,H)=>{const ce=j({eventName:ne},H),ue=async()=>{const de=await ce;I({eventName:ne,callbackId:de},H)},te=new Promise(de=>ce.then(()=>de({remove:ue})));return te.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await ue()},te},F=new Proxy({},{get(ne,H){switch(H){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return M?B:j;case"removeListener":return I;default:return X(H)}}});return r[w]=F,y.set(w,{name:w,proxy:F,platforms:new Set([...Object.keys(L),...M?[C]:[]])}),F};return s.convertFileSrc||(s.convertFileSrc=w=>w),s.getPlatform=c,s.handleError=m,s.isNativePlatform=d,s.isPluginAvailable=f,s.registerPlugin=v,s.Exception=Ld,s.DEBUG=!!s.DEBUG,s.isLoggingEnabled=!!s.isLoggingEnabled,s},CS=a=>a.Capacitor=_S(a),Za=CS(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Fs=Za.registerPlugin;class uy{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,s){let r=!1;this.listeners[t]||(this.listeners[t]=[],r=!0),this.listeners[t].push(s);const d=this.windowListeners[t];d&&!d.registered&&this.addWindowListener(d),r&&this.sendRetainedArgumentsForEvent(t);const f=async()=>this.removeListener(t,s);return Promise.resolve({remove:f})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,s,r){const c=this.listeners[t];if(!c){if(r){let d=this.retainedEventArguments[t];d||(d=[]),d.push(s),this.retainedEventArguments[t]=d}return}c.forEach(d=>d(s))}hasListeners(t){var s;return!!(!((s=this.listeners[t])===null||s===void 0)&&s.length)}registerWindowListener(t,s){this.windowListeners[s]={registered:!1,windowEventName:t,pluginEventName:s,handler:r=>{this.notifyListeners(s,r)}}}unimplemented(t="not implemented"){return new Za.Exception(t,qs.Unimplemented)}unavailable(t="not available"){return new Za.Exception(t,qs.Unavailable)}async removeListener(t,s){const r=this.listeners[t];if(!r)return;const c=r.indexOf(s);this.listeners[t].splice(c,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const s=this.retainedEventArguments[t];s&&(delete this.retainedEventArguments[t],s.forEach(r=>{this.notifyListeners(t,r)}))}}const sm=a=>encodeURIComponent(a).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),rm=a=>a.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class TS extends uy{async getCookies(){const t=document.cookie,s={};return t.split(";").forEach(r=>{if(r.length<=0)return;let[c,d]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");c=rm(c).trim(),d=rm(d).trim(),s[c]=d}),s}async setCookie(t){try{const s=sm(t.key),r=sm(t.value),c=`; expires=${(t.expires||"").replace("expires=","")}`,d=(t.path||"/").replace("path=",""),f=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${s}=${r||""}${c}; path=${d}; ${f};`}catch(s){return Promise.reject(s)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(s){return Promise.reject(s)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const s of t)document.cookie=s.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}Fs("CapacitorCookies",{web:()=>new TS});const xS=async a=>new Promise((t,s)=>{const r=new FileReader;r.onload=()=>{const c=r.result;t(c.indexOf(",")>=0?c.split(",")[1]:c)},r.onerror=c=>s(c),r.readAsDataURL(a)}),AS=(a={})=>{const t=Object.keys(a);return Object.keys(a).map(c=>c.toLocaleLowerCase()).reduce((c,d,f)=>(c[d]=a[t[f]],c),{})},OS=(a,t=!0)=>a?Object.entries(a).reduce((r,c)=>{const[d,f]=c;let g,m;return Array.isArray(f)?(m="",f.forEach(y=>{g=t?encodeURIComponent(y):y,m+=`${d}=${g}&`}),m.slice(0,-1)):(g=t?encodeURIComponent(f):f,m=`${d}=${g}`),`${r}&${m}`},"").substr(1):null,MS=(a,t={})=>{const s=Object.assign({method:a.method||"GET",headers:a.headers},t),c=AS(a.headers)["content-type"]||"";if(typeof a.data=="string")s.body=a.data;else if(c.includes("application/x-www-form-urlencoded")){const d=new URLSearchParams;for(const[f,g]of Object.entries(a.data||{}))d.set(f,g);s.body=d.toString()}else if(c.includes("multipart/form-data")||a.data instanceof FormData){const d=new FormData;if(a.data instanceof FormData)a.data.forEach((g,m)=>{d.append(m,g)});else for(const g of Object.keys(a.data))d.append(g,a.data[g]);s.body=d;const f=new Headers(s.headers);f.delete("content-type"),s.headers=f}else(c.includes("application/json")||typeof a.data=="object")&&(s.body=JSON.stringify(a.data));return s};class RS extends uy{async request(t){const s=MS(t,t.webFetchExtra),r=OS(t.params,t.shouldEncodeUrlParams),c=r?`${t.url}?${r}`:t.url,d=await fetch(c,s),f=d.headers.get("content-type")||"";let{responseType:g="text"}=d.ok?t:{};f.includes("application/json")&&(g="json");let m,y;switch(g){case"arraybuffer":case"blob":y=await d.blob(),m=await xS(y);break;case"json":m=await d.json();break;case"document":case"text":default:m=await d.text()}const v={};return d.headers.forEach((w,L)=>{v[L]=w}),{data:m,headers:v,status:d.status,url:d.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}Fs("CapacitorHttp",{web:()=>new RS});const om=Fs("App",{web:()=>jt(()=>import("./web-CC9HZOJd-1769119750716.js"),__vite__mapDeps([0,1,2,3])).then(a=>new a.AppWeb)});function dy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kS=dy,fy=new ic("auth","Firebase",dy());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl=new Vw("@firebase/auth");function NS(a,...t){Hl.logLevel<=sy.WARN&&Hl.warn(`Auth (${Ks}): ${a}`,...t)}function Ul(a,...t){Hl.logLevel<=sy.ERROR&&Hl.error(`Auth (${Ks}): ${a}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(a,...t){throw Zd(a,...t)}function Qn(a,...t){return Zd(a,...t)}function hy(a,t,s){const r={...kS(),[t]:s};return new ic("auth","Firebase",r).create(t,{appName:a.name})}function Ai(a){return hy(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zd(a,...t){if(typeof a!="string"){const s=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=a.name),a._errorFactory.create(s,...r)}return fy.create(a,...t)}function Ae(a,t,...s){if(!a)throw Zd(t,...s)}function Ti(a){const t="INTERNAL ASSERTION FAILED: "+a;throw Ul(t),new Error(t)}function Oi(a,t){a||Ti(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(){var a;return typeof self<"u"&&((a=self.location)==null?void 0:a.href)||""}function DS(){return lm()==="http:"||lm()==="https:"}function lm(){var a;return typeof self<"u"&&((a=self.location)==null?void 0:a.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DS()||Zw()||"connection"in navigator)?navigator.onLine:!0}function US(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(t,s){this.shortDelay=t,this.longDelay=s,Oi(s>t,"Short delay should be less than long delay!"),this.isMobile=qw()||Yw()}get(){return IS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(a,t){Oi(a.emulator,"Emulator should always be set here");const{url:s}=a.emulator;return t?`${s}${t.startsWith("/")?t.slice(1):t}`:s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{static initialize(t,s,r){this.fetchImpl=t,s&&(this.headersImpl=s),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zS=new co(3e4,6e4);function Mi(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function $n(a,t,s,r,c={}){return gy(a,c,async()=>{let d={},f={};r&&(t==="GET"?f=r:d={body:JSON.stringify(r)});const g=oo({key:a.config.apiKey,...f}).slice(1),m=await a._getAdditionalHeaders();m["Content-Type"]="application/json",a.languageCode&&(m["X-Firebase-Locale"]=a.languageCode);const y={method:t,headers:m,...d};return Jw()||(y.referrerPolicy="no-referrer"),a.emulatorConfig&&lo(a.emulatorConfig.host)&&(y.credentials="include"),py.fetch()(await my(a,a.config.apiHost,s,g),y)})}async function gy(a,t,s){a._canInitEmulator=!1;const r={...jS,...t};try{const c=new HS(a),d=await Promise.race([s(),c.promise]);c.clearNetworkTimeout();const f=await d.json();if("needConfirmation"in f)throw Ml(a,"account-exists-with-different-credential",f);if(d.ok&&!("errorMessage"in f))return f;{const g=d.ok?f.errorMessage:f.error.message,[m,y]=g.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ml(a,"credential-already-in-use",f);if(m==="EMAIL_EXISTS")throw Ml(a,"email-already-in-use",f);if(m==="USER_DISABLED")throw Ml(a,"user-disabled",f);const v=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw hy(a,v,y);zn(a,v)}}catch(c){if(c instanceof ac)throw c;zn(a,"network-request-failed",{message:String(c)})}}async function uo(a,t,s,r,c={}){const d=await $n(a,t,s,r,c);return"mfaPendingCredential"in d&&zn(a,"multi-factor-auth-required",{_serverResponse:d}),d}async function my(a,t,s,r){const c=`${t}${s}?${r}`,d=a,f=d.config.emulator?Kd(a.config,c):`${a.config.apiScheme}://${c}`;return PS.includes(s)&&(await d._persistenceManagerAvailable,d._getPersistenceType()==="COOKIE")?d._getPersistence()._getFinalTarget(f).toString():f}function BS(a){switch(a){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class HS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((s,r)=>{this.timer=setTimeout(()=>r(Qn(this.auth,"network-request-failed")),zS.get())})}}function Ml(a,t,s){const r={appName:a.name};s.email&&(r.email=s.email),s.phoneNumber&&(r.phoneNumber=s.phoneNumber);const c=Qn(a,t,r);return c.customData._tokenResponse=s,c}function cm(a){return a!==void 0&&a.enterprise!==void 0}class GS{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const s of this.recaptchaEnforcementState)if(s.provider&&s.provider===t)return BS(s.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function VS(a,t){return $n(a,"GET","/v2/recaptchaConfig",Mi(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qS(a,t){return $n(a,"POST","/v1/accounts:delete",t)}async function Gl(a,t){return $n(a,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function YS(a,t=!1){const s=Pt(a),r=await s.getIdToken(t),c=Fd(r);Ae(c&&c.exp&&c.auth_time&&c.iat,s.auth,"internal-error");const d=typeof c.firebase=="object"?c.firebase:void 0,f=d==null?void 0:d.sign_in_provider;return{claims:c,token:r,authTime:Qr(_d(c.auth_time)),issuedAtTime:Qr(_d(c.iat)),expirationTime:Qr(_d(c.exp)),signInProvider:f||null,signInSecondFactor:(d==null?void 0:d.sign_in_second_factor)||null}}function _d(a){return Number(a)*1e3}function Fd(a){const[t,s,r]=a.split(".");if(t===void 0||s===void 0||r===void 0)return Ul("JWT malformed, contained fewer than 3 sections"),null;try{const c=Fw(s);return c?JSON.parse(c):(Ul("Failed to decode base64 JWT payload"),null)}catch(c){return Ul("Caught error parsing JWT payload as JSON",c==null?void 0:c.toString()),null}}function um(a){const t=Fd(a);return Ae(t,"internal-error"),Ae(typeof t.exp<"u","internal-error"),Ae(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ys(a,t,s=!1){if(s)return t;try{return await t}catch(r){throw r instanceof ac&&ZS(r)&&a.auth.currentUser===a&&await a.auth.signOut(),r}}function ZS({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const s=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(t,s){this.createdAt=t,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qr(this.lastLoginAt),this.creationTime=Qr(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(a){var w;const t=a.auth,s=await a.getIdToken(),r=await Ys(a,Gl(t,{idToken:s}));Ae(r==null?void 0:r.users.length,t,"internal-error");const c=r.users[0];a._notifyReloadListener(c);const d=(w=c.providerUserInfo)!=null&&w.length?vy(c.providerUserInfo):[],f=WS(a.providerData,d),g=a.isAnonymous,m=!(a.email&&c.passwordHash)&&!(f!=null&&f.length),y=g?m:!1,v={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:f,metadata:new zd(c.createdAt,c.lastLoginAt),isAnonymous:y};Object.assign(a,v)}async function FS(a){const t=Pt(a);await Vl(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function WS(a,t){return[...a.filter(r=>!t.some(c=>c.providerId===r.providerId)),...t]}function vy(a){return a.map(({providerId:t,...s})=>({providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XS(a,t){const s=await gy(a,{},async()=>{const r=oo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:c,apiKey:d}=a.config,f=await my(a,c,"/v1/token",`key=${d}`),g=await a._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:g,body:r};return a.emulatorConfig&&lo(a.emulatorConfig.host)&&(m.credentials="include"),py.fetch()(f,m)});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function QS(a,t){return $n(a,"POST","/v2/accounts:revokeToken",Mi(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ae(t.idToken,"internal-error"),Ae(typeof t.idToken<"u","internal-error"),Ae(typeof t.refreshToken<"u","internal-error");const s="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):um(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,s)}updateFromIdToken(t){Ae(t.length!==0,"internal-error");const s=um(t);this.updateTokensAndExpiration(t,null,s)}async getToken(t,s=!1){return!s&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,s){const{accessToken:r,refreshToken:c,expiresIn:d}=await XS(t,s);this.updateTokensAndExpiration(r,c,Number(d))}updateTokensAndExpiration(t,s,r){this.refreshToken=s||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,s){const{refreshToken:r,accessToken:c,expirationTime:d}=s,f=new zs;return r&&(Ae(typeof r=="string","internal-error",{appName:t}),f.refreshToken=r),c&&(Ae(typeof c=="string","internal-error",{appName:t}),f.accessToken=c),d&&(Ae(typeof d=="number","internal-error",{appName:t}),f.expirationTime=d),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new zs,this.toJSON())}_performRefresh(){return Ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(a,t){Ae(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class jn{constructor({uid:t,auth:s,stsTokenManager:r,...c}){this.providerId="firebase",this.proactiveRefresh=new KS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new zd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const s=await Ys(this,this.stsTokenManager.getToken(this.auth,t));return Ae(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(t){return YS(this,t)}reload(){return FS(this)}_assign(t){this!==t&&(Ae(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(s=>({...s})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const s=new jn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return s.metadata._copy(this.metadata),s}_onReload(t){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,s=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),s&&await Vl(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(Ai(this.auth));const t=await this.getIdToken();return await Ys(this,qS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,s){const r=s.displayName??void 0,c=s.email??void 0,d=s.phoneNumber??void 0,f=s.photoURL??void 0,g=s.tenantId??void 0,m=s._redirectEventId??void 0,y=s.createdAt??void 0,v=s.lastLoginAt??void 0,{uid:w,emailVerified:L,isAnonymous:A,providerData:C,stsTokenManager:M}=s;Ae(w&&M,t,"internal-error");const R=zs.fromJSON(this.name,M);Ae(typeof w=="string",t,"internal-error"),oa(r,t.name),oa(c,t.name),Ae(typeof L=="boolean",t,"internal-error"),Ae(typeof A=="boolean",t,"internal-error"),oa(d,t.name),oa(f,t.name),oa(g,t.name),oa(m,t.name),oa(y,t.name),oa(v,t.name);const K=new jn({uid:w,auth:t,email:c,emailVerified:L,displayName:r,isAnonymous:A,photoURL:f,phoneNumber:d,tenantId:g,stsTokenManager:R,createdAt:y,lastLoginAt:v});return C&&Array.isArray(C)&&(K.providerData=C.map(Y=>({...Y}))),m&&(K._redirectEventId=m),K}static async _fromIdTokenResponse(t,s,r=!1){const c=new zs;c.updateFromServerResponse(s);const d=new jn({uid:s.localId,auth:t,stsTokenManager:c,isAnonymous:r});return await Vl(d),d}static async _fromGetAccountInfoResponse(t,s,r){const c=s.users[0];Ae(c.localId!==void 0,"internal-error");const d=c.providerUserInfo!==void 0?vy(c.providerUserInfo):[],f=!(c.email&&c.passwordHash)&&!(d!=null&&d.length),g=new zs;g.updateFromIdToken(r);const m=new jn({uid:c.localId,auth:t,stsTokenManager:g,isAnonymous:f}),y={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:d,metadata:new zd(c.createdAt,c.lastLoginAt),isAnonymous:!(c.email&&c.passwordHash)&&!(d!=null&&d.length)};return Object.assign(m,y),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm=new Map;function xi(a){Oi(a instanceof Function,"Expected a class definition");let t=dm.get(a);return t?(Oi(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,dm.set(a,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,s){this.storage[t]=s}async _get(t){const s=this.storage[t];return s===void 0?null:s}async _remove(t){delete this.storage[t]}_addListener(t,s){}_removeListener(t,s){}}yy.type="NONE";const fm=yy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(a,t,s){return`firebase:${a}:${t}:${s}`}class Bs{constructor(t,s,r){this.persistence=t,this.auth=s,this.userKey=r;const{config:c,name:d}=this.auth;this.fullUserKey=jl(this.userKey,c.apiKey,d),this.fullPersistenceKey=jl("persistence",c.apiKey,d),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const s=await Gl(this.auth,{idToken:t}).catch(()=>{});return s?jn._fromGetAccountInfoResponse(this.auth,s,t):null}return jn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,s,r="authUser"){if(!s.length)return new Bs(xi(fm),t,r);const c=(await Promise.all(s.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let d=c[0]||xi(fm);const f=jl(r,t.config.apiKey,t.name);let g=null;for(const y of s)try{const v=await y._get(f);if(v){let w;if(typeof v=="string"){const L=await Gl(t,{idToken:v}).catch(()=>{});if(!L)break;w=await jn._fromGetAccountInfoResponse(t,L,v)}else w=jn._fromJSON(t,v);y!==d&&(g=w),d=y;break}}catch{}const m=c.filter(y=>y._shouldAllowMigration);return!d._shouldAllowMigration||!m.length?new Bs(d,t,r):(d=m[0],g&&await d._set(f,g.toJSON()),await Promise.all(s.map(async y=>{if(y!==d)try{await y._remove(f)}catch{}})),new Bs(d,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Sy(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(by(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_y(t))return"Blackberry";if(Cy(t))return"Webos";if(Ey(t))return"Safari";if((t.includes("chrome/")||wy(t))&&!t.includes("edge/"))return"Chrome";if(Ly(t))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=a.match(s);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function by(a=fn()){return/firefox\//i.test(a)}function Ey(a=fn()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function wy(a=fn()){return/crios\//i.test(a)}function Sy(a=fn()){return/iemobile/i.test(a)}function Ly(a=fn()){return/android/i.test(a)}function _y(a=fn()){return/blackberry/i.test(a)}function Cy(a=fn()){return/webos/i.test(a)}function Wd(a=fn()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function JS(a=fn()){var t;return Wd(a)&&!!((t=window.navigator)!=null&&t.standalone)}function $S(){return Xw()&&document.documentMode===10}function Ty(a=fn()){return Wd(a)||Ly(a)||Cy(a)||_y(a)||/windows phone/i.test(a)||Sy(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(a,t=[]){let s;switch(a){case"Browser":s=hm(fn());break;case"Worker":s=`${hm(fn())}-${a}`;break;default:s=a}const r=t.length?t.join(","):"FirebaseCore-web";return`${s}/JsCore/${Ks}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,s){const r=d=>new Promise((f,g)=>{try{const m=t(d);f(m)}catch(m){g(m)}});r.onAbort=s,this.queue.push(r);const c=this.queue.length-1;return()=>{this.queue[c]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const s=[];try{for(const r of this.queue)await r(t),r.onAbort&&s.push(r.onAbort)}catch(r){s.reverse();for(const c of s)try{c()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t0(a,t={}){return $n(a,"GET","/v2/passwordPolicy",Mi(a,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0=6;class i0{constructor(t){var r;const s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=s.minPasswordLength??n0,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=t.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,s),this.validatePasswordCharacterOptions(t,s),s.isValid&&(s.isValid=s.meetsMinPasswordLength??!0),s.isValid&&(s.isValid=s.meetsMaxPasswordLength??!0),s.isValid&&(s.isValid=s.containsLowercaseLetter??!0),s.isValid&&(s.isValid=s.containsUppercaseLetter??!0),s.isValid&&(s.isValid=s.containsNumericCharacter??!0),s.isValid&&(s.isValid=s.containsNonAlphanumericCharacter??!0),s}validatePasswordLengthOptions(t,s){const r=this.customStrengthOptions.minPasswordLength,c=this.customStrengthOptions.maxPasswordLength;r&&(s.meetsMinPasswordLength=t.length>=r),c&&(s.meetsMaxPasswordLength=t.length<=c)}validatePasswordCharacterOptions(t,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let r;for(let c=0;c<t.length;c++)r=t.charAt(c),this.updatePasswordCharacterOptionsStatuses(s,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,s,r,c,d){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=c)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(t,s,r,c){this.app=t,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=r,this.config=c,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pm(this),this.idTokenSubscription=new pm(this),this.beforeStateQueue=new e0(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=c.sdkClientVersion,this._persistenceManagerAvailable=new Promise(d=>this._resolvePersistenceManagerAvailable=d)}_initializeWithPersistence(t,s){return s&&(this._popupRedirectResolver=xi(s)),this._initializationPromise=this.queue(async()=>{var r,c,d;if(!this._deleted&&(this.persistenceManager=await Bs.create(this,t),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((c=this._popupRedirectResolver)!=null&&c._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=((d=this.currentUser)==null?void 0:d.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const s=await Gl(this,{idToken:t}),r=await jn._fromGetAccountInfoResponse(this,s,t);await this.directlySetCurrentUser(r)}catch(s){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var d;if(An(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let r=s,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(d=this.redirectUser)==null?void 0:d._redirectEventId,g=r==null?void 0:r._redirectEventId,m=await this.tryRedirectSignIn(t);(!f||f===g)&&(m!=null&&m.user)&&(r=m.user,c=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(r)}catch(f){r=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(t){try{await Vl(t)}catch(s){if((s==null?void 0:s.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=US()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(An(this.app))return Promise.reject(Ai(this));const s=t?Pt(t):null;return s&&Ae(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(t,s=!1){if(!this._deleted)return t&&Ae(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return An(this.app)?Promise.reject(Ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return An(this.app)?Promise.reject(Ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await t0(this),s=new i0(t);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ic("auth","Firebase",t())}onAuthStateChanged(t,s,r){return this.registerStateListener(this.authStateSubscription,t,s,r)}beforeAuthStateChanged(t,s){return this.beforeStateQueue.pushCallback(t,s)}onIdTokenChanged(t,s,r){return this.registerStateListener(this.idTokenSubscription,t,s,r)}authStateReady(){return new Promise((t,s)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},s)}})}async revokeAccessToken(t){if(this.currentUser){const s=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:s};this.tenantId!=null&&(r.tenantId=this.tenantId),await QS(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,s){const r=await this.getOrInitRedirectPersistenceManager(s);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const s=t&&xi(t)||this._popupRedirectResolver;Ae(s,this,"argument-error"),this.redirectPersistenceManager=await Bs.create(this,[xi(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var s,r;return this._isInitialized&&await this.queue(async()=>{}),((s=this._currentUser)==null?void 0:s._redirectEventId)===t?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var s;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((s=this.currentUser)==null?void 0:s.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,s,r,c){if(this._deleted)return()=>{};const d=typeof s=="function"?s:s.next.bind(s);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(g,this,"internal-error"),g.then(()=>{f||d(this.currentUser)}),typeof s=="function"){const m=t.addObserver(s,r,c);return()=>{f=!0,m()}}else{const m=t.addObserver(s);return()=>{f=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=xy(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var c;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((c=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:c.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var s;if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((s=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getToken());return t!=null&&t.error&&NS(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function va(a){return Pt(a)}class pm{constructor(t){this.auth=t,this.observer=null,this.addObserver=Kw(s=>this.observer=s)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function s0(a){rc=a}function Ay(a){return rc.loadJS(a)}function r0(){return rc.recaptchaEnterpriseScript}function o0(){return rc.gapiScript}function l0(a){return`__${a}${Math.floor(Math.random()*1e6)}`}class c0{constructor(){this.enterprise=new u0}ready(t){t()}execute(t,s){return Promise.resolve("token")}render(t,s){return""}}class u0{ready(t){t()}execute(t,s){return Promise.resolve("token")}render(t,s){return""}}const d0="recaptcha-enterprise",Oy="NO_RECAPTCHA";class f0{constructor(t){this.type=d0,this.auth=va(t)}async verify(t="verify",s=!1){async function r(d){if(!s){if(d.tenantId==null&&d._agentRecaptchaConfig!=null)return d._agentRecaptchaConfig.siteKey;if(d.tenantId!=null&&d._tenantRecaptchaConfigs[d.tenantId]!==void 0)return d._tenantRecaptchaConfigs[d.tenantId].siteKey}return new Promise(async(f,g)=>{VS(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const y=new GS(m);return d.tenantId==null?d._agentRecaptchaConfig=y:d._tenantRecaptchaConfigs[d.tenantId]=y,f(y.siteKey)}}).catch(m=>{g(m)})})}function c(d,f,g){const m=window.grecaptcha;cm(m)?m.enterprise.ready(()=>{m.enterprise.execute(d,{action:t}).then(y=>{f(y)}).catch(()=>{f(Oy)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new c0().execute("siteKey",{action:"verify"}):new Promise((d,f)=>{r(this.auth).then(g=>{if(!s&&cm(window.grecaptcha))c(g,d,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let m=r0();m.length!==0&&(m+=g),Ay(m).then(()=>{c(g,d,f)}).catch(y=>{f(y)})}}).catch(g=>{f(g)})})}}async function gm(a,t,s,r=!1,c=!1){const d=new f0(a);let f;if(c)f=Oy;else try{f=await d.verify(s)}catch{f=await d.verify(s,!0)}const g={...t};if(s==="mfaSmsEnrollment"||s==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const m=g.phoneEnrollmentInfo.phoneNumber,y=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const m=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return r?Object.assign(g,{captchaResp:f}):Object.assign(g,{captchaResponse:f}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function ql(a,t,s,r,c){var d;if((d=a._getRecaptchaConfig())!=null&&d.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await gm(a,t,s,s==="getOobCode");return r(a,f)}else return r(a,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${s} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await gm(a,t,s,s==="getOobCode");return r(a,g)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(a,t){const s=sc(a,"auth");if(s.isInitialized()){const c=s.getImmediate(),d=s.getOptions();if(jd(d,t??{}))return c;zn(c,"already-initialized")}return s.initialize({options:t})}function p0(a,t){const s=(t==null?void 0:t.persistence)||[],r=(Array.isArray(s)?s:[s]).map(xi);t!=null&&t.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function g0(a,t,s){const r=va(a);Ae(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const c=!1,d=My(t),{host:f,port:g}=m0(t),m=g===null?"":`:${g}`,y={url:`${d}//${f}${m}/`},v=Object.freeze({host:f,port:g,protocol:d.replace(":",""),options:Object.freeze({disableWarnings:c})});if(!r._canInitEmulator){Ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ae(jd(y,r.config.emulator)&&jd(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,lo(f)?(ry(`${d}//${f}${m}`),oy("Auth",!0)):v0()}function My(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function m0(a){const t=My(a),s=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!s)return{host:"",port:null};const r=s[2].split("@").pop()||"",c=/^(\[[^\]]+\])(:|$)/.exec(r);if(c){const d=c[1];return{host:d,port:mm(r.substr(d.length+1))}}else{const[d,f]=r.split(":");return{host:d,port:mm(f)}}}function mm(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function v0(){function a(){const t=document.createElement("p"),s=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(t,s){this.providerId=t,this.signInMethod=s}toJSON(){return Ti("not implemented")}_getIdTokenResponse(t){return Ti("not implemented")}_linkToIdToken(t,s){return Ti("not implemented")}_getReauthenticationResolver(t){return Ti("not implemented")}}async function y0(a,t){return $n(a,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b0(a,t){return uo(a,"POST","/v1/accounts:signInWithPassword",Mi(a,t))}async function Ry(a,t){return $n(a,"POST","/v1/accounts:sendOobCode",Mi(a,t))}async function E0(a,t){return Ry(a,t)}async function w0(a,t){return Ry(a,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S0(a,t){return uo(a,"POST","/v1/accounts:signInWithEmailLink",Mi(a,t))}async function L0(a,t){return uo(a,"POST","/v1/accounts:signInWithEmailLink",Mi(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends Xd{constructor(t,s,r,c=null){super("password",r),this._email=t,this._password=s,this._tenantId=c}static _fromEmailAndPassword(t,s){return new no(t,s,"password")}static _fromEmailAndCode(t,s,r=null){return new no(t,s,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const s=typeof t=="string"?JSON.parse(t):t;if(s!=null&&s.email&&(s!=null&&s.password)){if(s.signInMethod==="password")return this._fromEmailAndPassword(s.email,s.password);if(s.signInMethod==="emailLink")return this._fromEmailAndCode(s.email,s.password,s.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const s={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ql(t,s,"signInWithPassword",b0);case"emailLink":return S0(t,{email:this._email,oobCode:this._password});default:zn(t,"internal-error")}}async _linkToIdToken(t,s){switch(this.signInMethod){case"password":const r={idToken:s,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ql(t,r,"signUpPassword",y0);case"emailLink":return L0(t,{idToken:s,email:this._email,oobCode:this._password});default:zn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hs(a,t){return uo(a,"POST","/v1/accounts:signInWithIdp",Mi(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="http://localhost";class Wa extends Xd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const s=new Wa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(s.idToken=t.idToken),t.accessToken&&(s.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(s.nonce=t.nonce),t.pendingToken&&(s.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(s.accessToken=t.oauthToken,s.secret=t.oauthTokenSecret):zn("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const s=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:c,...d}=s;if(!r||!c)return null;const f=new Wa(r,c);return f.idToken=d.idToken||void 0,f.accessToken=d.accessToken||void 0,f.secret=d.secret,f.nonce=d.nonce,f.pendingToken=d.pendingToken||null,f}_getIdTokenResponse(t){const s=this.buildRequest();return Hs(t,s)}_linkToIdToken(t,s){const r=this.buildRequest();return r.idToken=s,Hs(t,r)}_getReauthenticationResolver(t){const s=this.buildRequest();return s.autoCreate=!1,Hs(t,s)}buildRequest(){const t={requestUri:_0,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),t.postBody=oo(s)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(a){switch(a){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function T0(a){const t=Wr(Xr(a)).link,s=t?Wr(Xr(t)).deep_link_id:null,r=Wr(Xr(a)).deep_link_id;return(r?Wr(Xr(r)).link:null)||r||s||t||a}class Qd{constructor(t){const s=Wr(Xr(t)),r=s.apiKey??null,c=s.oobCode??null,d=C0(s.mode??null);Ae(r&&c&&d,"argument-error"),this.apiKey=r,this.operation=d,this.code=c,this.continueUrl=s.continueUrl??null,this.languageCode=s.lang??null,this.tenantId=s.tenantId??null}static parseLink(t){const s=T0(t);try{return new Qd(s)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(){this.providerId=Ws.PROVIDER_ID}static credential(t,s){return no._fromEmailAndPassword(t,s)}static credentialWithLink(t,s){const r=Qd.parseLink(s);return Ae(r,"argument-error"),no._fromEmailAndCode(t,r.code,r.tenantId)}}Ws.PROVIDER_ID="password";Ws.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ws.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends ky{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da extends fo{constructor(){super("facebook.com")}static credential(t){return Wa._fromParams({providerId:da.PROVIDER_ID,signInMethod:da.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return da.credentialFromTaggedObject(t)}static credentialFromError(t){return da.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return da.credential(t.oauthAccessToken)}catch{return null}}}da.FACEBOOK_SIGN_IN_METHOD="facebook.com";da.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa extends fo{constructor(){super("google.com"),this.addScope("profile")}static credential(t,s){return Wa._fromParams({providerId:fa.PROVIDER_ID,signInMethod:fa.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:s})}static credentialFromResult(t){return fa.credentialFromTaggedObject(t)}static credentialFromError(t){return fa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:s,oauthAccessToken:r}=t;if(!s&&!r)return null;try{return fa.credential(s,r)}catch{return null}}}fa.GOOGLE_SIGN_IN_METHOD="google.com";fa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha extends fo{constructor(){super("github.com")}static credential(t){return Wa._fromParams({providerId:ha.PROVIDER_ID,signInMethod:ha.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ha.credentialFromTaggedObject(t)}static credentialFromError(t){return ha.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ha.credential(t.oauthAccessToken)}catch{return null}}}ha.GITHUB_SIGN_IN_METHOD="github.com";ha.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa extends fo{constructor(){super("twitter.com")}static credential(t,s){return Wa._fromParams({providerId:pa.PROVIDER_ID,signInMethod:pa.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:s})}static credentialFromResult(t){return pa.credentialFromTaggedObject(t)}static credentialFromError(t){return pa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:s,oauthTokenSecret:r}=t;if(!s||!r)return null;try{return pa.credential(s,r)}catch{return null}}}pa.TWITTER_SIGN_IN_METHOD="twitter.com";pa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x0(a,t){return uo(a,"POST","/v1/accounts:signUp",Mi(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,s,r,c=!1){const d=await jn._fromIdTokenResponse(t,r,c),f=vm(r);return new Xa({user:d,providerId:f,_tokenResponse:r,operationType:s})}static async _forOperation(t,s,r){await t._updateTokensIfNecessary(r,!0);const c=vm(r);return new Xa({user:t,providerId:c,_tokenResponse:r,operationType:s})}}function vm(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends ac{constructor(t,s,r,c){super(s.code,s.message),this.operationType=r,this.user=c,Object.setPrototypeOf(this,Yl.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:s.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,s,r,c){return new Yl(t,s,r,c)}}function Ny(a,t,s,r){return(t==="reauthenticate"?s._getReauthenticationResolver(a):s._getIdTokenResponse(a)).catch(d=>{throw d.code==="auth/multi-factor-auth-required"?Yl._fromErrorAndOperation(a,d,t,r):d})}async function A0(a,t,s=!1){const r=await Ys(a,t._linkToIdToken(a.auth,await a.getIdToken()),s);return Xa._forOperation(a,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O0(a,t,s=!1){const{auth:r}=a;if(An(r.app))return Promise.reject(Ai(r));const c="reauthenticate";try{const d=await Ys(a,Ny(r,c,t,a),s);Ae(d.idToken,r,"internal-error");const f=Fd(d.idToken);Ae(f,r,"internal-error");const{sub:g}=f;return Ae(a.uid===g,r,"user-mismatch"),Xa._forOperation(a,c,d)}catch(d){throw(d==null?void 0:d.code)==="auth/user-not-found"&&zn(r,"user-mismatch"),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dy(a,t,s=!1){if(An(a.app))return Promise.reject(Ai(a));const r="signIn",c=await Ny(a,r,t),d=await Xa._fromIdTokenResponse(a,r,c);return s||await a._updateCurrentUser(d.user),d}async function M0(a,t){return Dy(va(a),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iy(a){const t=va(a);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function R0(a,t,s){const r=va(a);await ql(r,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",w0)}async function k0(a,t,s){if(An(a.app))return Promise.reject(Ai(a));const r=va(a),f=await ql(r,{returnSecureToken:!0,email:t,password:s,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",x0).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&Iy(a),m}),g=await Xa._fromIdTokenResponse(r,"signIn",f);return await r._updateCurrentUser(g.user),g}function N0(a,t,s){return An(a.app)?Promise.reject(Ai(a)):M0(Pt(a),Ws.credential(t,s)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Iy(a),r})}async function ym(a,t){const s=Pt(a),c={requestType:"VERIFY_EMAIL",idToken:await a.getIdToken()},{email:d}=await E0(s.auth,c);d!==a.email&&await a.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D0(a,t){return $n(a,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I0(a,{displayName:t,photoURL:s}){if(t===void 0&&s===void 0)return;const r=Pt(a),d={idToken:await r.getIdToken(),displayName:t,photoUrl:s,returnSecureToken:!0},f=await Ys(r,D0(r.auth,d));r.displayName=f.displayName||null,r.photoURL=f.photoUrl||null;const g=r.providerData.find(({providerId:m})=>m==="password");g&&(g.displayName=r.displayName,g.photoURL=r.photoURL),await r._updateTokensIfNecessary(f)}function U0(a,t,s,r){return Pt(a).onIdTokenChanged(t,s,r)}function j0(a,t,s){return Pt(a).beforeAuthStateChanged(t,s)}function P0(a,t,s,r){return Pt(a).onAuthStateChanged(t,s,r)}function z0(a){return Pt(a).signOut()}const Zl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(t,s){this.storageRetriever=t,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(Zl,"1"),this.storage.removeItem(Zl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,s){return this.storage.setItem(t,JSON.stringify(s)),Promise.resolve()}_get(t){const s=this.storage.getItem(t);return Promise.resolve(s?JSON.parse(s):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=1e3,H0=10;class jy extends Uy{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,s)=>this.onStorageEvent(t,s),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ty(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const s of Object.keys(this.listeners)){const r=this.storage.getItem(s),c=this.localCache[s];r!==c&&t(s,c,r)}}onStorageEvent(t,s=!1){if(!t.key){this.forAllChangedKeys((f,g,m)=>{this.notifyListeners(f,m)});return}const r=t.key;s?this.detachListener():this.stopPolling();const c=()=>{const f=this.storage.getItem(r);!s&&this.localCache[r]===f||this.notifyListeners(r,f)},d=this.storage.getItem(r);$S()&&d!==t.newValue&&t.newValue!==t.oldValue?setTimeout(c,H0):c()}notifyListeners(t,s){this.localCache[t]=s;const r=this.listeners[t];if(r)for(const c of Array.from(r))c(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,s,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:s,newValue:r}),!0)})},B0)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(s)}_removeListener(t,s){this.listeners[t]&&(this.listeners[t].delete(s),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,s){await super._set(t,s),this.localCache[t]=JSON.stringify(s)}async _get(t){const s=await super._get(t);return this.localCache[t]=JSON.stringify(s),s}async _remove(t){await super._remove(t),delete this.localCache[t]}}jy.type="LOCAL";const G0=jy;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py extends Uy{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,s){}_removeListener(t,s){}}Py.type="SESSION";const zy=Py;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(s){return{fulfilled:!1,reason:s}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const s=this.receivers.find(c=>c.isListeningto(t));if(s)return s;const r=new oc(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const s=t,{eventId:r,eventType:c,data:d}=s.data,f=this.handlersMap[c];if(!(f!=null&&f.size))return;s.ports[0].postMessage({status:"ack",eventId:r,eventType:c});const g=Array.from(f).map(async y=>y(s.origin,d)),m=await V0(g);s.ports[0].postMessage({status:"done",eventId:r,eventType:c,response:m})}_subscribe(t,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(s)}_unsubscribe(t,s){this.handlersMap[t]&&s&&this.handlersMap[t].delete(s),(!s||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}oc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(a="",t=10){let s="";for(let r=0;r<t;r++)s+=Math.floor(Math.random()*10);return a+s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,s,r=50){const c=typeof MessageChannel<"u"?new MessageChannel:null;if(!c)throw new Error("connection_unavailable");let d,f;return new Promise((g,m)=>{const y=Jd("",20);c.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},r);f={messageChannel:c,onMessage(w){const L=w;if(L.data.eventId===y)switch(L.data.status){case"ack":clearTimeout(v),d=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(d),g(L.data.response);break;default:clearTimeout(v),clearTimeout(d),m(new Error("invalid_response"));break}}},this.handlers.add(f),c.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:s},[c.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(){return window}function Y0(a){Jn().location.href=a}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(){return typeof Jn().WorkerGlobalScope<"u"&&typeof Jn().importScripts=="function"}async function Z0(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function K0(){var a;return((a=navigator==null?void 0:navigator.serviceWorker)==null?void 0:a.controller)||null}function F0(){return By()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="firebaseLocalStorageDb",W0=1,Kl="firebaseLocalStorage",Gy="fbase_key";class ho{constructor(t){this.request=t}toPromise(){return new Promise((t,s)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function lc(a,t){return a.transaction([Kl],t?"readwrite":"readonly").objectStore(Kl)}function X0(){const a=indexedDB.deleteDatabase(Hy);return new ho(a).toPromise()}function Bd(){const a=indexedDB.open(Hy,W0);return new Promise((t,s)=>{a.addEventListener("error",()=>{s(a.error)}),a.addEventListener("upgradeneeded",()=>{const r=a.result;try{r.createObjectStore(Kl,{keyPath:Gy})}catch(c){s(c)}}),a.addEventListener("success",async()=>{const r=a.result;r.objectStoreNames.contains(Kl)?t(r):(r.close(),await X0(),t(await Bd()))})})}async function bm(a,t,s){const r=lc(a,!0).put({[Gy]:t,value:s});return new ho(r).toPromise()}async function Q0(a,t){const s=lc(a,!1).get(t),r=await new ho(s).toPromise();return r===void 0?null:r.value}function Em(a,t){const s=lc(a,!0).delete(t);return new ho(s).toPromise()}const J0=800,$0=3;class Vy{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bd(),this.db)}async _withRetries(t){let s=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(s++>$0)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return By()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=oc._getInstance(F0()),this.receiver._subscribe("keyChanged",async(t,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(t,s)=>["keyChanged"])}async initializeSender(){var s,r;if(this.activeServiceWorker=await Z0(),!this.activeServiceWorker)return;this.sender=new q0(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(s=t[0])!=null&&s.fulfilled&&(r=t[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||K0()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Bd();return await bm(t,Zl,"1"),await Em(t,Zl),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,s){return this._withPendingWrite(async()=>(await this._withRetries(r=>bm(r,t,s)),this.localCache[t]=s,this.notifyServiceWorker(t)))}async _get(t){const s=await this._withRetries(r=>Q0(r,t));return this.localCache[t]=s,s}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Em(s,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(c=>{const d=lc(c,!1).getAll();return new ho(d).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const s=[],r=new Set;if(t.length!==0)for(const{fbase_key:c,value:d}of t)r.add(c),JSON.stringify(this.localCache[c])!==JSON.stringify(d)&&(this.notifyListeners(c,d),s.push(c));for(const c of Object.keys(this.localCache))this.localCache[c]&&!r.has(c)&&(this.notifyListeners(c,null),s.push(c));return s}notifyListeners(t,s){this.localCache[t]=s;const r=this.listeners[t];if(r)for(const c of Array.from(r))c(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),J0)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(s)}_removeListener(t,s){this.listeners[t]&&(this.listeners[t].delete(s),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Vy.type="LOCAL";const eL=Vy;new co(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(a,t){return t?xi(t):(Ae(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d extends Xd{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Hs(t,this._buildIdpRequest())}_linkToIdToken(t,s){return Hs(t,this._buildIdpRequest(s))}_getReauthenticationResolver(t){return Hs(t,this._buildIdpRequest())}_buildIdpRequest(t){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(s.idToken=t),s}}function nL(a){return Dy(a.auth,new $d(a),a.bypassAuthState)}function iL(a){const{auth:t,user:s}=a;return Ae(s,t,"internal-error"),O0(s,new $d(a),a.bypassAuthState)}async function aL(a){const{auth:t,user:s}=a;return Ae(s,t,"internal-error"),A0(s,new $d(a),a.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(t,s,r,c,d=!1){this.auth=t,this.resolver=r,this.user=c,this.bypassAuthState=d,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(t,s)=>{this.pendingPromise={resolve:t,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:s,sessionId:r,postBody:c,tenantId:d,error:f,type:g}=t;if(f){this.reject(f);return}const m={auth:this.auth,requestUri:s,sessionId:r,tenantId:d||void 0,postBody:c||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(m))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return nL;case"linkViaPopup":case"linkViaRedirect":return aL;case"reauthViaPopup":case"reauthViaRedirect":return iL;default:zn(this.auth,"internal-error")}}resolve(t){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL=new co(2e3,1e4);class js extends qy{constructor(t,s,r,c,d){super(t,s,c,d),this.provider=r,this.authWindow=null,this.pollId=null,js.currentPopupAction&&js.currentPopupAction.cancel(),js.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ae(t,this.auth,"internal-error"),t}async onExecution(){Oi(this.filter.length===1,"Popup operations only handle one event");const t=Jd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(Qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(Qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,js.currentPopupAction=null}pollUserCancellation(){const t=()=>{var s,r;if((r=(s=this.authWindow)==null?void 0:s.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,sL.get())};t()}}js.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL="pendingRedirect",Pl=new Map;class oL extends qy{constructor(t,s,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,r),this.eventId=null}async execute(){let t=Pl.get(this.auth._key());if(!t){try{const r=await lL(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(s){t=()=>Promise.reject(s)}Pl.set(this.auth._key(),t)}return this.bypassAuthState||Pl.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const s=await this.auth._redirectUserForId(t.eventId);if(s)return this.user=s,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lL(a,t){const s=dL(t),r=uL(a);if(!await r._isAvailable())return!1;const c=await r._get(s)==="true";return await r._remove(s),c}function cL(a,t){Pl.set(a._key(),t)}function uL(a){return xi(a._redirectPersistence)}function dL(a){return jl(rL,a.config.apiKey,a.name)}async function fL(a,t,s=!1){if(An(a.app))return Promise.reject(Ai(a));const r=va(a),c=tL(r,t),f=await new oL(r,c,s).execute();return f&&!s&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=600*1e3;class pL{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let s=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(s=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!gL(t)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=t,s=!0)),s}sendToConsumer(t,s){var r;if(t.error&&!Yy(t)){const c=((r=t.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";s.onError(Qn(this.auth,c))}else s.onAuthEvent(t)}isEventForConsumer(t,s){const r=s.eventId===null||!!t.eventId&&t.eventId===s.eventId;return s.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=hL&&this.cachedEventUids.clear(),this.cachedEventUids.has(wm(t))}saveEventToCache(t){this.cachedEventUids.add(wm(t)),this.lastProcessedEventTime=Date.now()}}function wm(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function Yy({type:a,error:t}){return a==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function gL(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Yy(a);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mL(a,t={}){return $n(a,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yL=/^https?/;async function bL(a){if(a.config.emulator)return;const{authorizedDomains:t}=await mL(a);for(const s of t)try{if(EL(s))return}catch{}zn(a,"unauthorized-domain")}function EL(a){const t=Pd(),{protocol:s,hostname:r}=new URL(t);if(a.startsWith("chrome-extension://")){const f=new URL(a);return f.hostname===""&&r===""?s==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):s==="chrome-extension:"&&f.hostname===r}if(!yL.test(s))return!1;if(vL.test(a))return r===a;const c=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+c+"|"+c+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL=new co(3e4,6e4);function Sm(){const a=Jn().___jsl;if(a!=null&&a.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let s=0;s<a.CP.length;s++)a.CP[s]=null}}function SL(a){return new Promise((t,s)=>{var c,d,f;function r(){Sm(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Sm(),s(Qn(a,"network-request-failed"))},timeout:wL.get()})}if((d=(c=Jn().gapi)==null?void 0:c.iframes)!=null&&d.Iframe)t(gapi.iframes.getContext());else if((f=Jn().gapi)!=null&&f.load)r();else{const g=l0("iframefcb");return Jn()[g]=()=>{gapi.load?r():s(Qn(a,"network-request-failed"))},Ay(`${o0()}?onload=${g}`).catch(m=>s(m))}}).catch(t=>{throw zl=null,t})}let zl=null;function LL(a){return zl=zl||SL(a),zl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L=new co(5e3,15e3),CL="__/auth/iframe",TL="emulator/auth/iframe",xL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OL(a){const t=a.config;Ae(t.authDomain,a,"auth-domain-config-required");const s=t.emulator?Kd(t,TL):`https://${a.config.authDomain}/${CL}`,r={apiKey:t.apiKey,appName:a.name,v:Ks},c=AL.get(a.config.apiHost);c&&(r.eid=c);const d=a._getFrameworks();return d.length&&(r.fw=d.join(",")),`${s}?${oo(r).slice(1)}`}async function ML(a){const t=await LL(a),s=Jn().gapi;return Ae(s,a,"internal-error"),t.open({where:document.body,url:OL(a),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xL,dontclear:!0},r=>new Promise(async(c,d)=>{await r.restyle({setHideOnLeave:!1});const f=Qn(a,"network-request-failed"),g=Jn().setTimeout(()=>{d(f)},_L.get());function m(){Jn().clearTimeout(g),c(r)}r.ping(m).then(m,()=>{d(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kL=500,NL=600,DL="_blank",IL="http://localhost";class Lm{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UL(a,t,s,r=kL,c=NL){const d=Math.max((window.screen.availHeight-c)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const m={...RL,width:r.toString(),height:c.toString(),top:d,left:f},y=fn().toLowerCase();s&&(g=wy(y)?DL:s),by(y)&&(t=t||IL,m.scrollbars="yes");const v=Object.entries(m).reduce((L,[A,C])=>`${L}${A}=${C},`,"");if(JS(y)&&g!=="_self")return jL(t||"",g),new Lm(null);const w=window.open(t||"",g,v);Ae(w,a,"popup-blocked");try{w.focus()}catch{}return new Lm(w)}function jL(a,t){const s=document.createElement("a");s.href=a,s.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL="__/auth/handler",zL="emulator/auth/handler",BL=encodeURIComponent("fac");async function _m(a,t,s,r,c,d){Ae(a.config.authDomain,a,"auth-domain-config-required"),Ae(a.config.apiKey,a,"invalid-api-key");const f={apiKey:a.config.apiKey,appName:a.name,authType:s,redirectUrl:r,v:Ks,eventId:c};if(t instanceof ky){t.setDefaultLanguage(a.languageCode),f.providerId=t.providerId||"",Qw(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,w]of Object.entries({}))f[v]=w}if(t instanceof fo){const v=t.getScopes().filter(w=>w!=="");v.length>0&&(f.scopes=v.join(","))}a.tenantId&&(f.tid=a.tenantId);const g=f;for(const v of Object.keys(g))g[v]===void 0&&delete g[v];const m=await a._getAppCheckToken(),y=m?`#${BL}=${encodeURIComponent(m)}`:"";return`${HL(a)}?${oo(g).slice(1)}${y}`}function HL({config:a}){return a.emulator?Kd(a,zL):`https://${a.authDomain}/${PL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd="webStorageSupport";class GL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zy,this._completeRedirectFn=fL,this._overrideRedirectResult=cL}async _openPopup(t,s,r,c){var f;Oi((f=this.eventManagers[t._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const d=await _m(t,s,r,Pd(),c);return UL(t,d,Jd())}async _openRedirect(t,s,r,c){await this._originValidation(t);const d=await _m(t,s,r,Pd(),c);return Y0(d),new Promise(()=>{})}_initialize(t){const s=t._key();if(this.eventManagers[s]){const{manager:c,promise:d}=this.eventManagers[s];return c?Promise.resolve(c):(Oi(d,"If manager is not set, promise should be"),d)}const r=this.initAndGetManager(t);return this.eventManagers[s]={promise:r},r.catch(()=>{delete this.eventManagers[s]}),r}async initAndGetManager(t){const s=await ML(t),r=new pL(t);return s.register("authEvent",c=>(Ae(c==null?void 0:c.authEvent,t,"invalid-auth-event"),{status:r.onEvent(c.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=s,r}_isIframeWebStorageSupported(t,s){this.iframes[t._key()].send(Cd,{type:Cd},c=>{var f;const d=(f=c==null?void 0:c[0])==null?void 0:f[Cd];d!==void 0&&s(!!d),zn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const s=t._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=bL(t)),this.originValidationPromises[s]}get _shouldInitProactively(){return Ty()||Ey()||Wd()}}const VL=GL;var Cm="@firebase/auth",Tm="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const s=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,s),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const s=this.internalListeners.get(t);s&&(this.internalListeners.delete(t),s(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZL(a){eo(new to("auth",(t,{options:s})=>{const r=t.getProvider("app").getImmediate(),c=t.getProvider("heartbeat"),d=t.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=r.options;Ae(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:f,authDomain:g,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xy(a)},y=new a0(r,c,d,m);return p0(y,s),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,s,r)=>{t.getProvider("auth-internal").initialize()})),eo(new to("auth-internal",t=>{const s=va(t.getProvider("auth").getImmediate());return(r=>new qL(r))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vs(Cm,Tm,YL(a)),Vs(Cm,Tm,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL=300,FL=ay("authIdTokenMaxAge")||KL;let xm=null;const WL=a=>async t=>{const s=t&&await t.getIdTokenResult(),r=s&&(new Date().getTime()-Date.parse(s.issuedAtTime))/1e3;if(r&&r>FL)return;const c=s==null?void 0:s.token;xm!==c&&(xm=c,await fetch(a,{method:c?"POST":"DELETE",headers:c?{Authorization:`Bearer ${c}`}:{}}))};function XL(a=Yd()){const t=sc(a,"auth");if(t.isInitialized())return t.getImmediate();const s=h0(a,{popupRedirectResolver:VL,persistence:[eL,G0,zy]}),r=ay("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const d=new URL(r,location.origin);if(location.origin===d.origin){const f=WL(d.toString());j0(s,f,()=>f(s.currentUser)),U0(s,g=>f(g))}}const c=Ww("auth");return c&&g0(s,`http://${c}`),s}function QL(){var a;return((a=document.getElementsByTagName("head"))==null?void 0:a[0])??document}s0({loadJS(a){return new Promise((t,s)=>{const r=document.createElement("script");r.setAttribute("src",a),r.onload=t,r.onerror=c=>{const d=Qn("internal-error");d.customData=c,s(d)},r.type="text/javascript",r.charset="UTF-8",QL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZL("Browser");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL="/firebase-messaging-sw.js",$L="/firebase-cloud-messaging-push-scope",Zy="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",e_="https://fcmregistrations.googleapis.com/v1",Ky="google.c.a.c_id",t_="google.c.a.c_l",n_="google.c.a.ts",i_="google.c.a.e",Am=1e4;var Om;(function(a){a[a.DATA_MESSAGE=1]="DATA_MESSAGE",a[a.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Om||(Om={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var io;(function(a){a.PUSH_RECEIVED="push-received",a.NOTIFICATION_CLICKED="notification-clicked"})(io||(io={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(a){const t=new Uint8Array(a);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function a_(a){const t="=".repeat((4-a.length%4)%4),s=(a+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(s),c=new Uint8Array(r.length);for(let d=0;d<r.length;++d)c[d]=r.charCodeAt(d);return c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td="fcm_token_details_db",s_=5,Mm="fcm_token_object_Store";async function r_(a){if("databases"in indexedDB&&!(await indexedDB.databases()).map(d=>d.name).includes(Td))return null;let t=null;return(await ly(Td,s_,{upgrade:async(r,c,d,f)=>{if(c<2||!r.objectStoreNames.contains(Mm))return;const g=f.objectStore(Mm),m=await g.index("fcmSenderId").get(a);if(await g.clear(),!!m){if(c===2){const y=m;if(!y.auth||!y.p256dh||!y.endpoint)return;t={token:y.fcmToken,createTime:y.createTime??Date.now(),subscriptionOptions:{auth:y.auth,p256dh:y.p256dh,endpoint:y.endpoint,swScope:y.swScope,vapidKey:typeof y.vapidKey=="string"?y.vapidKey:Ci(y.vapidKey)}}}else if(c===3){const y=m;t={token:y.fcmToken,createTime:y.createTime,subscriptionOptions:{auth:Ci(y.auth),p256dh:Ci(y.p256dh),endpoint:y.endpoint,swScope:y.swScope,vapidKey:Ci(y.vapidKey)}}}else if(c===4){const y=m;t={token:y.fcmToken,createTime:y.createTime,subscriptionOptions:{auth:Ci(y.auth),p256dh:Ci(y.p256dh),endpoint:y.endpoint,swScope:y.swScope,vapidKey:Ci(y.vapidKey)}}}}}})).close(),await md(Td),await md("fcm_vapid_details_db"),await md("undefined"),o_(t)?t:null}function o_(a){if(!a||!a.subscriptionOptions)return!1;const{subscriptionOptions:t}=a;return typeof a.createTime=="number"&&a.createTime>0&&typeof a.token=="string"&&a.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="firebase-messaging-database",c_=1,ao="firebase-messaging-store";let xd=null;function Fy(){return xd||(xd=ly(l_,c_,{upgrade:(a,t)=>{switch(t){case 0:a.createObjectStore(ao)}}})),xd}async function u_(a){const t=Wy(a),r=await(await Fy()).transaction(ao).objectStore(ao).get(t);if(r)return r;{const c=await r_(a.appConfig.senderId);if(c)return await ef(a,c),c}}async function ef(a,t){const s=Wy(a),c=(await Fy()).transaction(ao,"readwrite");return await c.objectStore(ao).put(t,s),await c.done,t}function Wy({appConfig:a}){return a.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Kt=new ic("messaging","Messaging",d_);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f_(a,t){const s=await nf(a),r=Xy(t),c={method:"POST",headers:s,body:JSON.stringify(r)};let d;try{d=await(await fetch(tf(a.appConfig),c)).json()}catch(f){throw Kt.create("token-subscribe-failed",{errorInfo:f==null?void 0:f.toString()})}if(d.error){const f=d.error.message;throw Kt.create("token-subscribe-failed",{errorInfo:f})}if(!d.token)throw Kt.create("token-subscribe-no-token");return d.token}async function h_(a,t){const s=await nf(a),r=Xy(t.subscriptionOptions),c={method:"PATCH",headers:s,body:JSON.stringify(r)};let d;try{d=await(await fetch(`${tf(a.appConfig)}/${t.token}`,c)).json()}catch(f){throw Kt.create("token-update-failed",{errorInfo:f==null?void 0:f.toString()})}if(d.error){const f=d.error.message;throw Kt.create("token-update-failed",{errorInfo:f})}if(!d.token)throw Kt.create("token-update-no-token");return d.token}async function p_(a,t){const r={method:"DELETE",headers:await nf(a)};try{const d=await(await fetch(`${tf(a.appConfig)}/${t}`,r)).json();if(d.error){const f=d.error.message;throw Kt.create("token-unsubscribe-failed",{errorInfo:f})}}catch(c){throw Kt.create("token-unsubscribe-failed",{errorInfo:c==null?void 0:c.toString()})}}function tf({projectId:a}){return`${e_}/projects/${a}/registrations`}async function nf({appConfig:a,installations:t}){const s=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a.apiKey,"x-goog-firebase-installations-auth":`FIS ${s}`})}function Xy({p256dh:a,auth:t,endpoint:s,vapidKey:r}){const c={web:{endpoint:s,auth:t,p256dh:a}};return r!==Zy&&(c.web.applicationPubKey=r),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=10080*60*1e3;async function m_(a){const t=await y_(a.swRegistration,a.vapidKey),s={vapidKey:a.vapidKey,swScope:a.swRegistration.scope,endpoint:t.endpoint,auth:Ci(t.getKey("auth")),p256dh:Ci(t.getKey("p256dh"))},r=await u_(a.firebaseDependencies);if(r){if(b_(r.subscriptionOptions,s))return Date.now()>=r.createTime+g_?v_(a,{token:r.token,createTime:Date.now(),subscriptionOptions:s}):r.token;try{await p_(a.firebaseDependencies,r.token)}catch(c){console.warn(c)}return Rm(a.firebaseDependencies,s)}else return Rm(a.firebaseDependencies,s)}async function v_(a,t){try{const s=await h_(a.firebaseDependencies,t),r={...t,token:s,createTime:Date.now()};return await ef(a.firebaseDependencies,r),s}catch(s){throw s}}async function Rm(a,t){const r={token:await f_(a,t),createTime:Date.now(),subscriptionOptions:t};return await ef(a,r),r.token}async function y_(a,t){const s=await a.pushManager.getSubscription();return s||a.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:a_(t)})}function b_(a,t){const s=t.vapidKey===a.vapidKey,r=t.endpoint===a.endpoint,c=t.auth===a.auth,d=t.p256dh===a.p256dh;return s&&r&&c&&d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(a){const t={from:a.from,collapseKey:a.collapse_key,messageId:a.fcmMessageId};return E_(t,a),w_(t,a),S_(t,a),t}function E_(a,t){if(!t.notification)return;a.notification={};const s=t.notification.title;s&&(a.notification.title=s);const r=t.notification.body;r&&(a.notification.body=r);const c=t.notification.image;c&&(a.notification.image=c);const d=t.notification.icon;d&&(a.notification.icon=d)}function w_(a,t){t.data&&(a.data=t.data)}function S_(a,t){var c,d,f,g;if(!t.fcmOptions&&!((c=t.notification)!=null&&c.click_action))return;a.fcmOptions={};const s=((d=t.fcmOptions)==null?void 0:d.link)??((f=t.notification)==null?void 0:f.click_action);s&&(a.fcmOptions.link=s);const r=(g=t.fcmOptions)==null?void 0:g.analytics_label;r&&(a.fcmOptions.analyticsLabel=r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(a){return typeof a=="object"&&!!a&&Ky in a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(a){if(!a||!a.options)throw Ad("App Configuration Object");if(!a.name)throw Ad("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:s}=a;for(const r of t)if(!s[r])throw Ad(r);return{appName:a.name,projectId:s.projectId,apiKey:s.apiKey,appId:s.appId,senderId:s.messagingSenderId}}function Ad(a){return Kt.create("missing-app-config-values",{valueName:a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(t,s,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const c=__(t);this.firebaseDependencies={app:t,appConfig:c,installations:s,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T_(a){try{a.swRegistration=await navigator.serviceWorker.register(JL,{scope:$L}),a.swRegistration.update().catch(()=>{}),await x_(a.swRegistration)}catch(t){throw Kt.create("failed-service-worker-registration",{browserErrorMessage:t==null?void 0:t.message})}}async function x_(a){return new Promise((t,s)=>{const r=setTimeout(()=>s(new Error(`Service worker not registered after ${Am} ms`)),Am),c=a.installing||a.waiting;a.active?(clearTimeout(r),t()):c?c.onstatechange=d=>{var f;((f=d.target)==null?void 0:f.state)==="activated"&&(c.onstatechange=null,clearTimeout(r),t())}:(clearTimeout(r),s(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A_(a,t){if(!t&&!a.swRegistration&&await T_(a),!(!t&&a.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw Kt.create("invalid-sw-registration");a.swRegistration=t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O_(a,t){t?a.vapidKey=t:a.vapidKey||(a.vapidKey=Zy)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M_(a,t){if(!navigator)throw Kt.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Kt.create("permission-blocked");return await O_(a,t==null?void 0:t.vapidKey),await A_(a,t==null?void 0:t.serviceWorkerRegistration),m_(a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R_(a,t,s){const r=k_(t);(await a.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:s[Ky],message_name:s[t_],message_time:s[n_],message_device_time:Math.floor(Date.now()/1e3)})}function k_(a){switch(a){case io.NOTIFICATION_CLICKED:return"notification_open";case io.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N_(a,t){const s=t.data;if(!s.isFirebaseMessaging)return;a.onMessageHandler&&s.messageType===io.PUSH_RECEIVED&&(typeof a.onMessageHandler=="function"?a.onMessageHandler(km(s)):a.onMessageHandler.next(km(s)));const r=s.data;L_(r)&&r[i_]==="1"&&await R_(a,s.messageType,r)}const Nm="@firebase/messaging",Dm="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=a=>{const t=new C_(a.getProvider("app").getImmediate(),a.getProvider("installations-internal").getImmediate(),a.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",s=>N_(t,s)),t},I_=a=>{const t=a.getProvider("messaging").getImmediate();return{getToken:r=>M_(t,r)}};function U_(){eo(new to("messaging",D_,"PUBLIC")),eo(new to("messaging-internal",I_,"PRIVATE")),Vs(Nm,Dm),Vs(Nm,Dm,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j_(){try{await $w()}catch{return!1}return typeof window<"u"&&eS()&&tS()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(a=Yd()){return j_().then(t=>{if(!t)throw Kt.create("unsupported-browser")},t=>{throw Kt.create("indexed-db-unsupported")}),sc(Pt(a),"messaging").getImmediate()}U_();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="firebasestorage.googleapis.com",Jy="storageBucket",z_=120*1e3,B_=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht extends ac{constructor(t,s,r=0){super(Od(t),`Firebase Storage: ${s} (${Od(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ht.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Od(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ft;(function(a){a.UNKNOWN="unknown",a.OBJECT_NOT_FOUND="object-not-found",a.BUCKET_NOT_FOUND="bucket-not-found",a.PROJECT_NOT_FOUND="project-not-found",a.QUOTA_EXCEEDED="quota-exceeded",a.UNAUTHENTICATED="unauthenticated",a.UNAUTHORIZED="unauthorized",a.UNAUTHORIZED_APP="unauthorized-app",a.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",a.INVALID_CHECKSUM="invalid-checksum",a.CANCELED="canceled",a.INVALID_EVENT_NAME="invalid-event-name",a.INVALID_URL="invalid-url",a.INVALID_DEFAULT_BUCKET="invalid-default-bucket",a.NO_DEFAULT_BUCKET="no-default-bucket",a.CANNOT_SLICE_BLOB="cannot-slice-blob",a.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",a.NO_DOWNLOAD_URL="no-download-url",a.INVALID_ARGUMENT="invalid-argument",a.INVALID_ARGUMENT_COUNT="invalid-argument-count",a.APP_DELETED="app-deleted",a.INVALID_ROOT_OPERATION="invalid-root-operation",a.INVALID_FORMAT="invalid-format",a.INTERNAL_ERROR="internal-error",a.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ft||(ft={}));function Od(a){return"storage/"+a}function af(){const a="An unknown error occurred, please check the error payload for server response.";return new ht(ft.UNKNOWN,a)}function H_(a){return new ht(ft.OBJECT_NOT_FOUND,"Object '"+a+"' does not exist.")}function G_(a){return new ht(ft.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function V_(){const a="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ht(ft.UNAUTHENTICATED,a)}function q_(){return new ht(ft.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Y_(a){return new ht(ft.UNAUTHORIZED,"User does not have permission to access '"+a+"'.")}function Z_(){return new ht(ft.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function K_(){return new ht(ft.CANCELED,"User canceled the upload/download.")}function F_(a){return new ht(ft.INVALID_URL,"Invalid URL '"+a+"'.")}function W_(a){return new ht(ft.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+a+"'.")}function X_(){return new ht(ft.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Jy+"' property when initializing the app?")}function Q_(){return new ht(ft.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function J_(){return new ht(ft.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function $_(a){return new ht(ft.UNSUPPORTED_ENVIRONMENT,`${a} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Hd(a){return new ht(ft.INVALID_ARGUMENT,a)}function $y(){return new ht(ft.APP_DELETED,"The Firebase app was deleted.")}function eC(a){return new ht(ft.INVALID_ROOT_OPERATION,"The operation '"+a+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Jr(a,t){return new ht(ft.INVALID_FORMAT,"String does not match format '"+a+"': "+t)}function Yr(a){throw new ht(ft.INTERNAL_ERROR,"Internal error: "+a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t,s){this.bucket=t,this.path_=s}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,s){let r;try{r=dn.makeFromUrl(t,s)}catch{return new dn(t,"")}if(r.path==="")return r;throw W_(t)}static makeFromUrl(t,s){let r=null;const c="([A-Za-z0-9.\\-_]+)";function d(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}const f="(/(.*))?$",g=new RegExp("^gs://"+c+f,"i"),m={bucket:1,path:3};function y(j){j.path_=decodeURIComponent(j.path)}const v="v[A-Za-z0-9_]+",w=s.replace(/[.]/g,"\\."),L="(/([^?#]*).*)?$",A=new RegExp(`^https?://${w}/${v}/b/${c}/o${L}`,"i"),C={bucket:1,path:3},M=s===Qy?"(?:storage.googleapis.com|storage.cloud.google.com)":s,R="([^?#]*)",K=new RegExp(`^https?://${M}/${c}/${R}`,"i"),X=[{regex:g,indices:m,postModify:d},{regex:A,indices:C,postModify:y},{regex:K,indices:{bucket:1,path:2},postModify:y}];for(let j=0;j<X.length;j++){const I=X[j],B=I.regex.exec(t);if(B){const F=B[I.indices.bucket];let ne=B[I.indices.path];ne||(ne=""),r=new dn(F,ne),I.postModify(r);break}}if(r==null)throw F_(t);return r}}class tC{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(a,t,s){let r=1,c=null,d=null,f=!1,g=0;function m(){return g===2}let y=!1;function v(...R){y||(y=!0,t.apply(null,R))}function w(R){c=setTimeout(()=>{c=null,a(A,m())},R)}function L(){d&&clearTimeout(d)}function A(R,...K){if(y){L();return}if(R){L(),v.call(null,R,...K);return}if(m()||f){L(),v.call(null,R,...K);return}r<64&&(r*=2);let X;g===1?(g=2,X=0):X=(r+Math.random())*1e3,w(X)}let C=!1;function M(R){C||(C=!0,L(),!y&&(c!==null?(R||(g=2),clearTimeout(c),w(0)):R||(g=1)))}return w(0),d=setTimeout(()=>{f=!0,M(!0)},s),M}function iC(a){a(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(a){return a!==void 0}function sC(a){return typeof a=="object"&&!Array.isArray(a)}function sf(a){return typeof a=="string"||a instanceof String}function Im(a){return rf()&&a instanceof Blob}function rf(){return typeof Blob<"u"}function Um(a,t,s,r){if(r<t)throw Hd(`Invalid value for '${a}'. Expected ${t} or greater.`);if(r>s)throw Hd(`Invalid value for '${a}'. Expected ${s} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(a,t,s){let r=t;return s==null&&(r=`https://${t}`),`${s}://${r}/v0${a}`}function eb(a){const t=encodeURIComponent;let s="?";for(const r in a)if(a.hasOwnProperty(r)){const c=t(r)+"="+t(a[r]);s=s+c+"&"}return s=s.slice(0,-1),s}var Ka;(function(a){a[a.NO_ERROR=0]="NO_ERROR",a[a.NETWORK_ERROR=1]="NETWORK_ERROR",a[a.ABORT=2]="ABORT"})(Ka||(Ka={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(a,t){const s=a>=500&&a<600,c=[408,429].indexOf(a)!==-1,d=t.indexOf(a)!==-1;return s||c||d}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(t,s,r,c,d,f,g,m,y,v,w,L=!0,A=!1){this.url_=t,this.method_=s,this.headers_=r,this.body_=c,this.successCodes_=d,this.additionalRetryCodes_=f,this.callback_=g,this.errorCallback_=m,this.timeout_=y,this.progressCallback_=v,this.connectionFactory_=w,this.retry=L,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,M)=>{this.resolve_=C,this.reject_=M,this.start_()})}start_(){const t=(r,c)=>{if(c){r(!1,new Rl(!1,null,!0));return}const d=this.connectionFactory_();this.pendingConnection_=d;const f=g=>{const m=g.loaded,y=g.lengthComputable?g.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,y)};this.progressCallback_!==null&&d.addUploadProgressListener(f),d.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&d.removeUploadProgressListener(f),this.pendingConnection_=null;const g=d.getErrorCode()===Ka.NO_ERROR,m=d.getStatus();if(!g||rC(m,this.additionalRetryCodes_)&&this.retry){const v=d.getErrorCode()===Ka.ABORT;r(!1,new Rl(!1,null,v));return}const y=this.successCodes_.indexOf(m)!==-1;r(!0,new Rl(y,d))})},s=(r,c)=>{const d=this.resolve_,f=this.reject_,g=c.connection;if(c.wasSuccessCode)try{const m=this.callback_(g,g.getResponse());aC(m)?d(m):d()}catch(m){f(m)}else if(g!==null){const m=af();m.serverResponse=g.getErrorText(),this.errorCallback_?f(this.errorCallback_(g,m)):f(m)}else if(c.canceled){const m=this.appDelete_?$y():K_();f(m)}else{const m=Z_();f(m)}};this.canceled_?s(!1,new Rl(!1,null,!0)):this.backoffId_=nC(t,s,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&iC(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Rl{constructor(t,s,r){this.wasSuccessCode=t,this.connection=s,this.canceled=!!r}}function lC(a,t){t!==null&&t.length>0&&(a.Authorization="Firebase "+t)}function cC(a,t){a["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function uC(a,t){t&&(a["X-Firebase-GMPID"]=t)}function dC(a,t){t!==null&&(a["X-Firebase-AppCheck"]=t)}function fC(a,t,s,r,c,d,f=!0,g=!1){const m=eb(a.urlParams),y=a.url+m,v=Object.assign({},a.headers);return uC(v,t),lC(v,s),cC(v,d),dC(v,r),new oC(y,a.method,v,a.body,a.successCodes,a.additionalRetryCodes,a.handler,a.errorHandler,a.timeout,a.progressCallback,c,f,g)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function pC(...a){const t=hC();if(t!==void 0){const s=new t;for(let r=0;r<a.length;r++)s.append(a[r]);return s.getBlob()}else{if(rf())return new Blob(a);throw new ht(ft.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function gC(a,t,s){return a.webkitSlice?a.webkitSlice(t,s):a.mozSlice?a.mozSlice(t,s):a.slice?a.slice(t,s):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(a){if(typeof atob>"u")throw $_("base-64");return atob(a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Md{constructor(t,s){this.data=t,this.contentType=s||null}}function tb(a,t){switch(a){case Pn.RAW:return new Md(nb(t));case Pn.BASE64:case Pn.BASE64URL:return new Md(ib(a,t));case Pn.DATA_URL:return new Md(yC(t),bC(t))}throw af()}function nb(a){const t=[];for(let s=0;s<a.length;s++){let r=a.charCodeAt(s);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(s<a.length-1&&(a.charCodeAt(s+1)&64512)===56320))t.push(239,191,189);else{const d=r,f=a.charCodeAt(++s);r=65536|(d&1023)<<10|f&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function vC(a){let t;try{t=decodeURIComponent(a)}catch{throw Jr(Pn.DATA_URL,"Malformed data URL.")}return nb(t)}function ib(a,t){switch(a){case Pn.BASE64:{const c=t.indexOf("-")!==-1,d=t.indexOf("_")!==-1;if(c||d)throw Jr(a,"Invalid character '"+(c?"-":"_")+"' found: is it base64url encoded?");break}case Pn.BASE64URL:{const c=t.indexOf("+")!==-1,d=t.indexOf("/")!==-1;if(c||d)throw Jr(a,"Invalid character '"+(c?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let s;try{s=mC(t)}catch(c){throw c.message.includes("polyfill")?c:Jr(a,"Invalid character found")}const r=new Uint8Array(s.length);for(let c=0;c<s.length;c++)r[c]=s.charCodeAt(c);return r}class ab{constructor(t){this.base64=!1,this.contentType=null;const s=t.match(/^data:([^,]+)?,/);if(s===null)throw Jr(Pn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=s[1]||null;r!=null&&(this.base64=EC(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function yC(a){const t=new ab(a);return t.base64?ib(Pn.BASE64,t.rest):vC(t.rest)}function bC(a){return new ab(a).contentType}function EC(a,t){return a.length>=t.length?a.substring(a.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(t,s){let r=0,c="";Im(t)?(this.data_=t,r=t.size,c=t.type):t instanceof ArrayBuffer?(s?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(s?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=c}size(){return this.size_}type(){return this.type_}slice(t,s){if(Im(this.data_)){const r=this.data_,c=gC(r,t,s);return c===null?null:new ga(c)}else{const r=new Uint8Array(this.data_.buffer,t,s-t);return new ga(r,!0)}}static getBlob(...t){if(rf()){const s=t.map(r=>r instanceof ga?r.data_:r);return new ga(pC.apply(null,s))}else{const s=t.map(f=>sf(f)?tb(Pn.RAW,f).data:f.data_);let r=0;s.forEach(f=>{r+=f.byteLength});const c=new Uint8Array(r);let d=0;return s.forEach(f=>{for(let g=0;g<f.length;g++)c[d++]=f[g]}),new ga(c,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(a){let t;try{t=JSON.parse(a)}catch{return null}return sC(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(a){if(a.length===0)return null;const t=a.lastIndexOf("/");return t===-1?"":a.slice(0,t)}function SC(a,t){const s=t.split("/").filter(r=>r.length>0).join("/");return a.length===0?s:a+"/"+s}function rb(a){const t=a.lastIndexOf("/",a.length-2);return t===-1?a:a.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(a,t){return t}class Yt{constructor(t,s,r,c){this.server=t,this.local=s||t,this.writable=!!r,this.xform=c||LC}}let kl=null;function _C(a){return!sf(a)||a.length<2?a:rb(a)}function ob(){if(kl)return kl;const a=[];a.push(new Yt("bucket")),a.push(new Yt("generation")),a.push(new Yt("metageneration")),a.push(new Yt("name","fullPath",!0));function t(d,f){return _C(f)}const s=new Yt("name");s.xform=t,a.push(s);function r(d,f){return f!==void 0?Number(f):f}const c=new Yt("size");return c.xform=r,a.push(c),a.push(new Yt("timeCreated")),a.push(new Yt("updated")),a.push(new Yt("md5Hash",null,!0)),a.push(new Yt("cacheControl",null,!0)),a.push(new Yt("contentDisposition",null,!0)),a.push(new Yt("contentEncoding",null,!0)),a.push(new Yt("contentLanguage",null,!0)),a.push(new Yt("contentType",null,!0)),a.push(new Yt("metadata","customMetadata",!0)),kl=a,kl}function CC(a,t){function s(){const r=a.bucket,c=a.fullPath,d=new dn(r,c);return t._makeStorageReference(d)}Object.defineProperty(a,"ref",{get:s})}function TC(a,t,s){const r={};r.type="file";const c=s.length;for(let d=0;d<c;d++){const f=s[d];r[f.local]=f.xform(r,t[f.server])}return CC(r,a),r}function lb(a,t,s){const r=sb(t);return r===null?null:TC(a,r,s)}function xC(a,t,s,r){const c=sb(t);if(c===null||!sf(c.downloadTokens))return null;const d=c.downloadTokens;if(d.length===0)return null;const f=encodeURIComponent;return d.split(",").map(y=>{const v=a.bucket,w=a.fullPath,L="/b/"+f(v)+"/o/"+f(w),A=of(L,s,r),C=eb({alt:"media",token:y});return A+C})[0]}function AC(a,t){const s={},r=t.length;for(let c=0;c<r;c++){const d=t[c];d.writable&&(s[d.server]=a[d.local])}return JSON.stringify(s)}class cb{constructor(t,s,r,c){this.url=t,this.method=s,this.handler=r,this.timeout=c,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(a){if(!a)throw af()}function OC(a,t){function s(r,c){const d=lb(a,c,t);return ub(d!==null),d}return s}function MC(a,t){function s(r,c){const d=lb(a,c,t);return ub(d!==null),xC(d,c,a.host,a._protocol)}return s}function db(a){function t(s,r){let c;return s.getStatus()===401?s.getErrorText().includes("Firebase App Check token is invalid")?c=q_():c=V_():s.getStatus()===402?c=G_(a.bucket):s.getStatus()===403?c=Y_(a.path):c=r,c.status=s.getStatus(),c.serverResponse=r.serverResponse,c}return t}function RC(a){const t=db(a);function s(r,c){let d=t(r,c);return r.getStatus()===404&&(d=H_(a.path)),d.serverResponse=c.serverResponse,d}return s}function kC(a,t,s){const r=t.fullServerUrl(),c=of(r,a.host,a._protocol),d="GET",f=a.maxOperationRetryTime,g=new cb(c,d,MC(a,s),f);return g.errorHandler=RC(t),g}function NC(a,t){return a&&a.contentType||t&&t.type()||"application/octet-stream"}function DC(a,t,s){const r=Object.assign({},s);return r.fullPath=a.path,r.size=t.size(),r.contentType||(r.contentType=NC(null,t)),r}function IC(a,t,s,r,c){const d=t.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"};function g(){let X="";for(let j=0;j<2;j++)X=X+Math.random().toString().slice(2);return X}const m=g();f["Content-Type"]="multipart/related; boundary="+m;const y=DC(t,r,c),v=AC(y,s),w="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+m+`\r
Content-Type: `+y.contentType+`\r
\r
`,L=`\r
--`+m+"--",A=ga.getBlob(w,r,L);if(A===null)throw Q_();const C={name:y.fullPath},M=of(d,a.host,a._protocol),R="POST",K=a.maxUploadRetryTime,Y=new cb(M,R,OC(a,s),K);return Y.urlParams=C,Y.headers=f,Y.body=A.uploadData(),Y.errorHandler=db(t),Y}class UC{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ka.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ka.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ka.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,s,r,c,d){if(this.sent_)throw Yr("cannot .send() more than once");if(lo(t)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(s,t,!0),d!==void 0)for(const f in d)d.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,d[f].toString());return c!==void 0?this.xhr_.send(c):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Yr("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Yr("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Yr("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Yr("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class jC extends UC{initXhr(){this.xhr_.responseType="text"}}function fb(){return new jC}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(t,s){this._service=t,s instanceof dn?this._location=s:this._location=dn.makeFromUrl(s,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,s){return new Qa(t,s)}get root(){const t=new dn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rb(this._location.path)}get storage(){return this._service}get parent(){const t=wC(this._location.path);if(t===null)return null;const s=new dn(this._location.bucket,t);return new Qa(this._service,s)}_throwIfRoot(t){if(this._location.path==="")throw eC(t)}}function hb(a,t,s){a._throwIfRoot("uploadBytes");const r=IC(a.storage,a._location,ob(),new ga(t,!0),s);return a.storage.makeRequestWithTokens(r,fb).then(c=>({metadata:c,ref:a}))}function PC(a,t,s=Pn.RAW,r){a._throwIfRoot("uploadString");const c=tb(s,t),d={...r};return d.contentType==null&&c.contentType!=null&&(d.contentType=c.contentType),hb(a,c.data,d)}function zC(a){a._throwIfRoot("getDownloadURL");const t=kC(a.storage,a._location,ob());return a.storage.makeRequestWithTokens(t,fb).then(s=>{if(s===null)throw J_();return s})}function BC(a,t){const s=SC(a._location.path,t),r=new dn(a._location.bucket,s);return new Qa(a.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(a){return/^[A-Za-z]+:\/\//.test(a)}function GC(a,t){return new Qa(a,t)}function pb(a,t){if(a instanceof lf){const s=a;if(s._bucket==null)throw X_();const r=new Qa(s,s._bucket);return t!=null?pb(r,t):r}else return t!==void 0?BC(a,t):a}function VC(a,t){if(t&&HC(t)){if(a instanceof lf)return GC(a,t);throw Hd("To use ref(service, url), the first argument must be a Storage instance.")}else return pb(a,t)}function jm(a,t){const s=t==null?void 0:t[Jy];return s==null?null:dn.makeFromBucketSpec(s,a)}function qC(a,t,s,r={}){a.host=`${t}:${s}`;const c=lo(t);c&&(ry(`https://${a.host}/b`),oy("Storage",!0)),a._isUsingEmulator=!0,a._protocol=c?"https":"http";const{mockUserToken:d}=r;d&&(a._overrideAuthToken=typeof d=="string"?d:iS(d,a.app.options.projectId))}class lf{constructor(t,s,r,c,d,f=!1){this.app=t,this._authProvider=s,this._appCheckProvider=r,this._url=c,this._firebaseVersion=d,this._isUsingEmulator=f,this._bucket=null,this._host=Qy,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=z_,this._maxUploadRetryTime=B_,this._requests=new Set,c!=null?this._bucket=dn.makeFromBucketSpec(c,this._host):this._bucket=jm(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=dn.makeFromBucketSpec(this._url,t):this._bucket=jm(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Um("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Um("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const s=await t.getToken();if(s!==null)return s.accessToken}return null}async _getAppCheckToken(){if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Qa(this,t)}_makeRequest(t,s,r,c,d=!0){if(this._deleted)return new tC($y());{const f=fC(t,this._appId,r,c,s,this._firebaseVersion,d,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(t,s){const[r,c]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,s,r,c).getPromise()}}const Pm="@firebase/storage",zm="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="storage";function xA(a,t,s){return a=Pt(a),hb(a,t,s)}function AA(a,t,s,r){return a=Pt(a),PC(a,t,s,r)}function OA(a){return a=Pt(a),zC(a)}function MA(a,t){return a=Pt(a),VC(a,t)}function YC(a=Yd(),t){a=Pt(a);const r=sc(a,gb).getImmediate({identifier:t}),c=nS("storage");return c&&ZC(r,...c),r}function ZC(a,t,s,r={}){qC(a,t,s,r)}function KC(a,{instanceIdentifier:t}){const s=a.getProvider("app").getImmediate(),r=a.getProvider("auth-internal"),c=a.getProvider("app-check-internal");return new lf(s,r,c,t,Ks)}function FC(){eo(new to(gb,KC,"PUBLIC").setMultipleInstances(!0)),Vs(Pm,zm,""),Vs(Pm,zm,"esm2020")}FC();const WC={apiKey:"AIzaSyCPPR8D8Jk1hMWR2IHBCxSG7u5S3XKnSsk",authDomain:"my-carwashapp-e6aba.firebaseapp.com",projectId:"my-carwashapp-e6aba",storageBucket:"my-carwashapp-e6aba.firebasestorage.app",messagingSenderId:"1095794498344",appId:"1:1095794498344:web:515d51f8f2561ad7a84e1d",measurementId:"G-97W9CVLWP1"},ya=aS(WC),re=sS(ya,{localCache:rS({tabManager:lS()})});cy(ya);P_(ya);const Un=XL(ya),XC=YC(ya),QC=oS(ya),Gd=Object.freeze(Object.defineProperty({__proto__:null,app:ya,auth:Un,db:re,functions:QC,storage:XC},Symbol.toStringTag,{value:"Module"}));class JC{async register(t,s,r){console.log(" Starting registration for:",t);try{console.log(" Creating Firebase Auth user...");const d=(await k0(Un,t,s)).user;console.log(" Firebase Auth user created:",d.uid),console.log(" Sending verification email..."),await ym(d),console.log(" Verification email sent"),r.name&&(console.log(" Updating display name..."),await I0(d,{displayName:r.name}),console.log(" Display name updated"));const f=t.toLowerCase(),g=Se(re,"approved_washers",f),m=await qa(g);let y=r.role||"client",v={...r};if(m.exists()){console.log(" Found approved washer invitation during registration!");const A=m.data();y="washer",v={...v,...A,status:"Active"},await Fn(g)}const w={id:d.uid,email:d.email,name:v.name||"User",role:y,phone:v.phone||"",address:v.address||"",avatar:d.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(v.name||"User")}&background=136dec&color=fff&size=200&bold=true`,createdAt:new Date().toISOString(),...y==="washer"?{driverLicense:v.driverLicense,insuranceNumber:v.insuranceNumber,vehiclePlate:v.vehiclePlate,vehicleModel:v.vehicleModel,completedJobs:0,rating:5,status:"Active",joinedDate:new Date().toISOString()}:{savedVehicles:[]}};if(console.log(" Saving user profile to Firestore...",w),await Tt(Se(re,"users",d.uid),w,{merge:!0}),console.log(" User profile saved to Firestore successfully!"),(await qa(Se(re,"users",d.uid))).exists())console.log(" VERIFIED: User profile exists in Firestore");else throw console.error(" ERROR: User profile NOT found in Firestore after save!"),new Error("Failed to save user profile to Firestore");return{user:d,profile:w}}catch(c){throw console.error(" Registration error:",c),new Error(c.message||"Registration failed")}}async login(t,s){try{const c=(await N0(Un,t,s)).user;if(!c.emailVerified)throw new Error("Please verify your email before logging in. Check your inbox for the verification link.");const d=await qa(Se(re,"users",c.uid));if(!d.exists()){if(this.isAdminEmail(c.email||"")){console.warn(" Admin profile missing in Firestore. Recreating automatically...");const f={id:c.uid,email:c.email,name:c.displayName||"Admin",role:"admin",createdAt:new Date().toISOString(),avatar:c.photoURL||"https://ui-avatars.com/api/?name=Admin&background=136dec&color=fff"};return await Tt(Se(re,"users",c.uid),f,{merge:!0}),{user:c,profile:f}}throw new Error("User profile not found. Please contact support.")}return{user:c,profile:d.data()}}catch(r){throw console.error("Login error:",r),new Error(r.message||"Login failed")}}async logout(){try{await z0(Un)}catch(t){throw console.error("Logout error:",t),new Error(t.message||"Logout failed")}}async resetPassword(t){try{await R0(Un,t)}catch(s){throw console.error("Password reset error:",s),new Error(s.message||"Password reset failed")}}async getCurrentUserProfile(t){try{const s=await qa(Se(re,"users",t));return s.exists()?s.data():null}catch(s){throw console.error("Error fetching user profile:",s),s}}isAdminEmail(t){return["rodfree0@gmail.com"].includes(t.toLowerCase())}async resendVerificationEmail(t){try{if(t.emailVerified)throw new Error("Email is already verified");await ym(t),console.log(" Verification email resent")}catch(s){throw console.error("Error resending verification email:",s),new Error(s.message||"Failed to resend verification email")}}}const Fa=new JC;function so(a){"@babel/helpers - typeof";return so=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},so(a)}function $C(a,t){if(so(a)!="object"||!a)return a;var s=a[Symbol.toPrimitive];if(s!==void 0){var r=s.call(a,t);if(so(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(a)}function eT(a){var t=$C(a,"string");return so(t)=="symbol"?t:t+""}function G(a,t,s){return(t=eT(t))in a?Object.defineProperty(a,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[t]=s,a}function mb(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Rd,Bm;function tT(){if(Bm)return Rd;Bm=1;var a=function(s,r,c,d,f,g,m,y){if(!s){var v;if(r===void 0)v=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var w=[c,d,f,g,m,y],L=0;v=new Error(r.replace(/%s/g,function(){return w[L++]})),v.name="Invariant Violation"}throw v.framesToPop=1,v}};return Rd=a,Rd}var nT=tT(),xt=mb(nT),Ue=h.createContext(null);function iT(){xt(!!h.useContext,"useGoogleMap is React hook and requires React version 16.8+");var a=h.useContext(Ue);return xt(!!a,"useGoogleMap needs a GoogleMap available up in the tree"),a}function aT(a,t,s){return Object.keys(a).reduce(function(c,d){return t(c,a[d],d)},s)}function sT(a,t){Object.keys(a).forEach(s=>t(a[s],s))}function rT(a,t,s,r){var c={},d=(f,g)=>{var m=s[g];m!==t[g]&&(c[g]=m,f(r,m))};return sT(a,d),c}function oT(a,t,s){var r=aT(s,function(d,f,g){return typeof a[g]=="function"&&d.push(google.maps.event.addListener(t,f,a[g])),d},[]);return r}function lT(a){google.maps.event.removeListener(a)}function Be(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];a.forEach(lT)}function je(a){var{updaterMap:t,eventMap:s,prevProps:r,nextProps:c,instance:d}=a,f=oT(c,d,s);return rT(t,r,c,d),f}var Hm={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},Gm={extraMapTypes(a,t){t.forEach(function(r,c){a.mapTypes.set(String(c),r)})},center(a,t){a.setCenter(t)},clickableIcons(a,t){a.setClickableIcons(t)},heading(a,t){a.setHeading(t)},mapTypeId(a,t){a.setMapTypeId(t)},options(a,t){a.setOptions(t)},streetView(a,t){a.setStreetView(t)},tilt(a,t){a.setTilt(t)},zoom(a,t){a.setZoom(t)}};function cT(a){var{children:t,options:s,id:r,mapContainerStyle:c,mapContainerClassName:d,center:f,onClick:g,onDblClick:m,onDrag:y,onDragEnd:v,onDragStart:w,onMouseMove:L,onMouseOut:A,onMouseOver:C,onMouseDown:M,onMouseUp:R,onRightClick:K,onCenterChanged:Y,onLoad:X,onUnmount:j}=a,[I,B]=h.useState(null),F=h.useRef(null),[ne,H]=h.useState(null),[ce,ue]=h.useState(null),[te,de]=h.useState(null),[pe,ve]=h.useState(null),[D,$]=h.useState(null),[se,fe]=h.useState(null),[ge,_e]=h.useState(null),[ye,oe]=h.useState(null),[x,S]=h.useState(null),[P,ae]=h.useState(null),[V,ee]=h.useState(null),[J,le]=h.useState(null);return h.useEffect(()=>{s&&I!==null&&I.setOptions(s)},[I,s]),h.useEffect(()=>{I!==null&&typeof f<"u"&&I.setCenter(f)},[I,f]),h.useEffect(()=>{I&&m&&(ce!==null&&google.maps.event.removeListener(ce),ue(google.maps.event.addListener(I,"dblclick",m)))},[m]),h.useEffect(()=>{I&&v&&(te!==null&&google.maps.event.removeListener(te),de(google.maps.event.addListener(I,"dragend",v)))},[v]),h.useEffect(()=>{I&&w&&(pe!==null&&google.maps.event.removeListener(pe),ve(google.maps.event.addListener(I,"dragstart",w)))},[w]),h.useEffect(()=>{I&&M&&(D!==null&&google.maps.event.removeListener(D),$(google.maps.event.addListener(I,"mousedown",M)))},[M]),h.useEffect(()=>{I&&L&&(se!==null&&google.maps.event.removeListener(se),fe(google.maps.event.addListener(I,"mousemove",L)))},[L]),h.useEffect(()=>{I&&A&&(ge!==null&&google.maps.event.removeListener(ge),_e(google.maps.event.addListener(I,"mouseout",A)))},[A]),h.useEffect(()=>{I&&C&&(ye!==null&&google.maps.event.removeListener(ye),oe(google.maps.event.addListener(I,"mouseover",C)))},[C]),h.useEffect(()=>{I&&R&&(x!==null&&google.maps.event.removeListener(x),S(google.maps.event.addListener(I,"mouseup",R)))},[R]),h.useEffect(()=>{I&&K&&(P!==null&&google.maps.event.removeListener(P),ae(google.maps.event.addListener(I,"rightclick",K)))},[K]),h.useEffect(()=>{I&&g&&(V!==null&&google.maps.event.removeListener(V),ee(google.maps.event.addListener(I,"click",g)))},[g]),h.useEffect(()=>{I&&y&&(J!==null&&google.maps.event.removeListener(J),le(google.maps.event.addListener(I,"drag",y)))},[y]),h.useEffect(()=>{I&&Y&&(ne!==null&&google.maps.event.removeListener(ne),H(google.maps.event.addListener(I,"center_changed",Y)))},[g]),h.useEffect(()=>{var we=F.current===null?null:new google.maps.Map(F.current,s);return B(we),we!==null&&X&&X(we),()=>{we!==null&&j&&j(we)}},[]),E.jsx("div",{id:r,ref:F,style:c,className:d,children:E.jsx(Ue.Provider,{value:I,children:I!==null?t:null})})}h.memo(cT);class RA extends h.PureComponent{constructor(){super(...arguments),G(this,"state",{map:null}),G(this,"registeredEvents",[]),G(this,"mapRef",null),G(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),G(this,"panTo",t=>{var s=this.getInstance();s&&s.panTo(t)}),G(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),G(this,"getRef",t=>{this.mapRef=t})}componentDidMount(){var t=this.getInstance();this.registeredEvents=je({updaterMap:Gm,eventMap:Hm,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{map:t}},this.setMapCallback)}componentDidUpdate(t){this.state.map!==null&&(Be(this.registeredEvents),this.registeredEvents=je({updaterMap:Gm,eventMap:Hm,prevProps:t,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),Be(this.registeredEvents))}render(){return E.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:E.jsx(Ue.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function Vm(a,t,s,r,c,d,f){try{var g=a[d](f),m=g.value}catch(y){return void s(y)}g.done?t(m):Promise.resolve(m).then(r,c)}function vb(a){return function(){var t=this,s=arguments;return new Promise(function(r,c){var d=a.apply(t,s);function f(m){Vm(d,r,c,f,g,"next",m)}function g(m){Vm(d,r,c,f,g,"throw",m)}f(void 0)})}}function yb(a){var{googleMapsApiKey:t,googleMapsClientId:s,version:r="weekly",language:c,region:d,libraries:f,channel:g,mapIds:m,authReferrerPolicy:y,apiUrl:v="https://maps.googleapis.com"}=a,w=[];return xt(t&&s||!(t&&s),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),t?w.push("key=".concat(t)):s&&w.push("client=".concat(s)),r&&w.push("v=".concat(r)),c&&w.push("language=".concat(c)),d&&w.push("region=".concat(d)),f&&f.length&&w.push("libraries=".concat(f.sort().join(","))),g&&w.push("channel=".concat(g)),m&&m.length&&w.push("map_ids=".concat(m.join(","))),y&&w.push("auth_referrer_policy=".concat(y)),w.push("loading=async"),w.push("callback=initMap"),"".concat(v,"/maps/api/js?").concat(w.join("&"))}var ma=typeof document<"u";function bb(a){var{url:t,id:s,nonce:r}=a;return ma?new Promise(function(d,f){var g=document.getElementById(s),m=window;if(g){var y=g.getAttribute("data-state");if(g.src===t&&y!=="error"){if(y==="ready")return d(s);var v=m.initMap,w=g.onerror;m.initMap=function(){v&&v(),d(s)},g.onerror=function(A){w&&w(A),f(A)};return}else g.remove()}var L=document.createElement("script");L.type="text/javascript",L.src=t,L.id=s,L.async=!0,L.nonce=r||"",L.onerror=function(C){L.setAttribute("data-state","error"),f(C)},m.initMap=function(){L.setAttribute("data-state","ready"),d(s)},document.head.appendChild(L)}).catch(c=>{throw console.error("injectScript error: ",c),c}):Promise.reject(new Error("document is undefined"))}function qm(a){var t=a.href;return t&&(t.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||t.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:a.tagName.toLowerCase()==="style"&&a.styleSheet&&a.styleSheet.cssText&&a.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(a.styleSheet.cssText="",!0):a.tagName.toLowerCase()==="style"&&a.innerHTML&&a.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(a.innerHTML="",!0):a.tagName.toLowerCase()==="style"&&!a.styleSheet&&!a.innerHTML}function cf(){var a=document.getElementsByTagName("head")[0];if(a){var t=a.insertBefore.bind(a);a.insertBefore=function(c,d){return qm(c)||Reflect.apply(t,a,[c,d]),c};var s=a.appendChild.bind(a);a.appendChild=function(c){return qm(c)||Reflect.apply(s,a,[c]),c}}}var Zr=!1;function Eb(){return E.jsx("div",{children:"Loading..."})}var ro={id:"script-loader",version:"weekly"};class uT extends h.PureComponent{constructor(){super(...arguments),G(this,"check",null),G(this,"state",{loaded:!1}),G(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),G(this,"isCleaningUp",vb(function*(){function t(s){if(!Zr)s();else if(ma)var r=window.setInterval(function(){Zr||(window.clearInterval(r),s())},1)}return new Promise(t)})),G(this,"cleanup",()=>{Zr=!0;var t=document.getElementById(this.props.id);t&&t.parentNode&&t.parentNode.removeChild(t),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(r){return typeof r.src=="string"&&r.src.includes("maps.googleapis")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(r){return r.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(r){return r.innerText!==void 0&&r.innerText.length>0&&r.innerText.includes(".gm-")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)})}),G(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&cf(),xt(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var t={id:this.props.id,nonce:this.props.nonce,url:yb(this.props)};bb(t).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(s=>{this.props.onError&&this.props.onError(s),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),G(this,"getRef",t=>{this.check=t})}componentDidMount(){if(ma){if(window.google&&window.google.maps&&!Zr){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(s){console.error("Error at injecting script after cleaning up: ",s)})}}componentDidUpdate(t){this.props.libraries!==t.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),ma&&t.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(ma){this.cleanup();var t=()=>{this.check||(delete window.google,Zr=!1)};window.setTimeout(t,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return E.jsxs(E.Fragment,{children:[E.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||E.jsx(Eb,{})]})}}G(uT,"defaultProps",ro);function dT(a,t){if(a==null)return{};var s={};for(var r in a)if({}.hasOwnProperty.call(a,r)){if(t.includes(r))continue;s[r]=a[r]}return s}function uf(a,t){if(a==null)return{};var s,r,c=dT(a,t);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);for(r=0;r<d.length;r++)s=d[r],t.includes(s)||{}.propertyIsEnumerable.call(a,s)&&(c[s]=a[s])}return c}var Ym;function fT(a){var{id:t=ro.id,version:s=ro.version,nonce:r,googleMapsApiKey:c,googleMapsClientId:d,language:f,region:g,libraries:m,preventGoogleFontsLoading:y,channel:v,mapIds:w,authReferrerPolicy:L,apiUrl:A="https://maps.googleapis.com"}=a,C=h.useRef(!1),[M,R]=h.useState(!1),[K,Y]=h.useState(void 0);h.useEffect(function(){return C.current=!0,()=>{C.current=!1}},[]),h.useEffect(function(){ma&&y&&cf()},[y]),h.useEffect(function(){M&&xt(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[M]);var X=yb({version:s,googleMapsApiKey:c,googleMapsClientId:d,language:f,region:g,libraries:m,channel:v,mapIds:w,authReferrerPolicy:L,apiUrl:A});h.useEffect(function(){if(!ma)return;function B(){C.current&&(R(!0),Ym=X)}if(window.google&&window.google.maps&&Ym===X){B();return}bb({id:t,url:X,nonce:r}).then(B).catch(function(ne){C.current&&Y(ne),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(c||"-",") or Client ID (").concat(d||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(ne)})},[t,X,r]);var j=h.useRef(void 0);return h.useEffect(function(){j.current&&m!==j.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),j.current=m},[m]),{isLoaded:M,loadError:K,url:X}}var hT=["loadingElement","onLoad","onError","onUnmount","children"],pT=E.jsx(Eb,{});function gT(a){var{loadingElement:t,onLoad:s,onError:r,onUnmount:c,children:d}=a,f=uf(a,hT),{isLoaded:g,loadError:m}=fT(f);return h.useEffect(function(){g&&typeof s=="function"&&s()},[g,s]),h.useEffect(function(){m&&typeof r=="function"&&r(m)},[m,r]),h.useEffect(function(){return()=>{c&&c()}},[c]),g?d:t||pT}h.memo(gT);function mT(a,t,s,r){function c(d){return d instanceof s?d:new s(function(f){f(d)})}return new(s||(s=Promise))(function(d,f){function g(v){try{y(r.next(v))}catch(w){f(w)}}function m(v){try{y(r.throw(v))}catch(w){f(w)}}function y(v){v.done?d(v.value):c(v.value).then(g,m)}y((r=r.apply(a,[])).next())})}function vT(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var yT=function a(t,s){if(t===s)return!0;if(t&&s&&typeof t=="object"&&typeof s=="object"){if(t.constructor!==s.constructor)return!1;var r,c,d;if(Array.isArray(t)){if(r=t.length,r!=s.length)return!1;for(c=r;c--!==0;)if(!a(t[c],s[c]))return!1;return!0}if(t.constructor===RegExp)return t.source===s.source&&t.flags===s.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===s.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===s.toString();if(d=Object.keys(t),r=d.length,r!==Object.keys(s).length)return!1;for(c=r;c--!==0;)if(!Object.prototype.hasOwnProperty.call(s,d[c]))return!1;for(c=r;c--!==0;){var f=d[c];if(!a(t[f],s[f]))return!1}return!0}return t!==t&&s!==s},bT=vT(yT),Zm="__googleMapsScriptId",Ps;(function(a){a[a.INITIALIZED=0]="INITIALIZED",a[a.LOADING=1]="LOADING",a[a.SUCCESS=2]="SUCCESS",a[a.FAILURE=3]="FAILURE"})(Ps||(Ps={}));class Ga{constructor(t){var{apiKey:s,authReferrerPolicy:r,channel:c,client:d,id:f=Zm,language:g,libraries:m=[],mapIds:y,nonce:v,region:w,retries:L=3,url:A="https://maps.googleapis.com/maps/api/js",version:C}=t;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=s,this.authReferrerPolicy=r,this.channel=c,this.client=d,this.id=f||Zm,this.language=g,this.libraries=m,this.mapIds=y,this.nonce=v,this.region=w,this.retries=L,this.url=A,this.version=C,Ga.instance){if(!bT(this.options,Ga.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(Ga.instance.options)));return Ga.instance}Ga.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Ps.FAILURE:this.done?Ps.SUCCESS:this.loading?Ps.LOADING:Ps.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){var t=this.url;return t+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(t+="&key=".concat(this.apiKey)),this.channel&&(t+="&channel=".concat(this.channel)),this.client&&(t+="&client=".concat(this.client)),this.libraries.length>0&&(t+="&libraries=".concat(this.libraries.join(","))),this.language&&(t+="&language=".concat(this.language)),this.region&&(t+="&region=".concat(this.region)),this.version&&(t+="&v=".concat(this.version)),this.mapIds&&(t+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(t+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),t}deleteScript(){var t=document.getElementById(this.id);t&&t.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((t,s)=>{this.loadCallback(r=>{r?s(r.error):t(window.google)})})}importLibrary(t){return this.execute(),google.maps.importLibrary(t)}loadCallback(t){this.callbacks.push(t),this.execute()}setScript(){var t,s;if(document.getElementById(this.id)){this.callback();return}var r={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(r).forEach(d=>!r[d]&&delete r[d]),!((s=(t=window==null?void 0:window.google)===null||t===void 0?void 0:t.maps)===null||s===void 0)&&s.importLibrary||(d=>{var f,g,m,y="The Google Maps JavaScript API",v="google",w="importLibrary",L="__ib__",A=document,C=window;C=C[v]||(C[v]={});var M=C.maps||(C.maps={}),R=new Set,K=new URLSearchParams,Y=()=>f||(f=new Promise((X,j)=>mT(this,void 0,void 0,function*(){var I;yield g=A.createElement("script"),g.id=this.id,K.set("libraries",[...R]+"");for(m in d)K.set(m.replace(/[A-Z]/g,B=>"_"+B[0].toLowerCase()),d[m]);K.set("callback",v+".maps."+L),g.src=this.url+"?"+K,M[L]=X,g.onerror=()=>f=j(Error(y+" could not load.")),g.nonce=this.nonce||((I=A.querySelector("script[nonce]"))===null||I===void 0?void 0:I.nonce)||"",A.head.append(g)})));M[w]?console.warn(y+" only loads once. Ignoring:",d):M[w]=function(X){for(var j=arguments.length,I=new Array(j>1?j-1:0),B=1;B<j;B++)I[B-1]=arguments[B];return R.add(X)&&Y().then(()=>M[w](X,...I))}})(r);var c=this.libraries.map(d=>this.importLibrary(d));c.length||c.push(this.importLibrary("core")),Promise.all(c).then(()=>this.callback(),d=>{var f=new ErrorEvent("error",{error:d});this.loadErrorCallback(f)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(t){if(this.errors.push(t),this.errors.length<=this.retries){var s=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(s," ms.")),setTimeout(()=>{this.deleteScript(),this.setScript()},s)}else this.onerrorEvent=t,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(t=>{t(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}var ET=["maps"];function wT(a){var{id:t=ro.id,version:s=ro.version,nonce:r,googleMapsApiKey:c,language:d,region:f,libraries:g=ET,preventGoogleFontsLoading:m,mapIds:y,authReferrerPolicy:v}=a,w=h.useRef(!1),[L,A]=h.useState(!1),[C,M]=h.useState(void 0);h.useEffect(function(){return w.current=!0,()=>{w.current=!1}},[]);var R=h.useMemo(()=>new Ga({id:t,apiKey:c,version:s,libraries:g,language:d||"en",region:f||"US",mapIds:y||[],nonce:r||"",authReferrerPolicy:v||"origin"}),[t,c,s,g,d,f,y,r,v]);h.useEffect(function(){L||R.load().then(()=>{w.current&&A(!0)}).catch(X=>{M(X)})},[]),h.useEffect(()=>{ma&&m&&cf()},[m]);var K=h.useRef();return h.useEffect(()=>{K.current&&g!==K.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),K.current=g},[g]),{isLoaded:L,loadError:C}}function Km(a,t){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(a,c).enumerable})),s.push.apply(s,r)}return s}function Fl(a){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Km(Object(s),!0).forEach(function(r){G(a,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):Km(Object(s)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(s,r))})}return a}var Fm={},Wm={options(a,t){a.setOptions(t)}};function ST(a){var{options:t,onLoad:s,onUnmount:r}=a,c=h.useContext(Ue),[d,f]=h.useState(null);return h.useEffect(()=>{d!==null&&d.setMap(c)},[c]),h.useEffect(()=>{t&&d!==null&&d.setOptions(t)},[d,t]),h.useEffect(()=>{var g=new google.maps.TrafficLayer(Fl(Fl({},t),{},{map:c}));return f(g),s&&s(g),()=>{d!==null&&(r&&r(d),d.setMap(null))}},[]),null}h.memo(ST);class LT extends h.PureComponent{constructor(){super(...arguments),G(this,"state",{trafficLayer:null}),G(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),G(this,"registeredEvents",[])}componentDidMount(){var t=new google.maps.TrafficLayer(Fl(Fl({},this.props.options),{},{map:this.context}));this.registeredEvents=je({updaterMap:Wm,eventMap:Fm,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{trafficLayer:t}},this.setTrafficLayerCallback)}componentDidUpdate(t){this.state.trafficLayer!==null&&(Be(this.registeredEvents),this.registeredEvents=je({updaterMap:Wm,eventMap:Fm,prevProps:t,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Be(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}G(LT,"contextType",Ue);function _T(a){var{onLoad:t,onUnmount:s}=a,r=h.useContext(Ue),[c,d]=h.useState(null);return h.useEffect(()=>{c!==null&&c.setMap(r)},[r]),h.useEffect(()=>{var f=new google.maps.BicyclingLayer;return d(f),f.setMap(r),t&&t(f),()=>{f!==null&&(s&&s(f),f.setMap(null))}},[]),null}h.memo(_T);class CT extends h.PureComponent{constructor(){super(...arguments),G(this,"state",{bicyclingLayer:null}),G(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var t=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:t}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}G(CT,"contextType",Ue);function TT(a){var{onLoad:t,onUnmount:s}=a,r=h.useContext(Ue),[c,d]=h.useState(null);return h.useEffect(()=>{c!==null&&c.setMap(r)},[r]),h.useEffect(()=>{var f=new google.maps.TransitLayer;return d(f),f.setMap(r),t&&t(f),()=>{c!==null&&(s&&s(c),c.setMap(null))}},[]),null}h.memo(TT);class xT extends h.PureComponent{constructor(){super(...arguments),G(this,"state",{transitLayer:null}),G(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var t=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:t}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}G(xT,"contextType",Ue);function Xm(a,t){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(a,c).enumerable})),s.push.apply(s,r)}return s}function Wl(a){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Xm(Object(s),!0).forEach(function(r){G(a,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):Xm(Object(s)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(s,r))})}return a}var Qm={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},Jm={drawingMode(a,t){a.setDrawingMode(t)},options(a,t){a.setOptions(t)}};function AT(a){var{options:t,drawingMode:s,onCircleComplete:r,onMarkerComplete:c,onOverlayComplete:d,onPolygonComplete:f,onPolylineComplete:g,onRectangleComplete:m,onLoad:y,onUnmount:v}=a,w=h.useContext(Ue),[L,A]=h.useState(null),[C,M]=h.useState(null),[R,K]=h.useState(null),[Y,X]=h.useState(null),[j,I]=h.useState(null),[B,F]=h.useState(null),[ne,H]=h.useState(null);return h.useEffect(()=>{L!==null&&L.setMap(w)},[w]),h.useEffect(()=>{t&&L!==null&&L.setOptions(t)},[L,t]),h.useEffect(()=>{L!==null&&L.setDrawingMode(s??null)},[L,s]),h.useEffect(()=>{L&&r&&(C!==null&&google.maps.event.removeListener(C),M(google.maps.event.addListener(L,"circlecomplete",r)))},[L,r]),h.useEffect(()=>{L&&c&&(R!==null&&google.maps.event.removeListener(R),K(google.maps.event.addListener(L,"markercomplete",c)))},[L,c]),h.useEffect(()=>{L&&d&&(Y!==null&&google.maps.event.removeListener(Y),X(google.maps.event.addListener(L,"overlaycomplete",d)))},[L,d]),h.useEffect(()=>{L&&f&&(j!==null&&google.maps.event.removeListener(j),I(google.maps.event.addListener(L,"polygoncomplete",f)))},[L,f]),h.useEffect(()=>{L&&g&&(B!==null&&google.maps.event.removeListener(B),F(google.maps.event.addListener(L,"polylinecomplete",g)))},[L,g]),h.useEffect(()=>{L&&m&&(ne!==null&&google.maps.event.removeListener(ne),H(google.maps.event.addListener(L,"rectanglecomplete",m)))},[L,m]),h.useEffect(()=>{xt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var ce=new google.maps.drawing.DrawingManager(Wl(Wl({},t),{},{map:w}));return s&&ce.setDrawingMode(s),r&&M(google.maps.event.addListener(ce,"circlecomplete",r)),c&&K(google.maps.event.addListener(ce,"markercomplete",c)),d&&X(google.maps.event.addListener(ce,"overlaycomplete",d)),f&&I(google.maps.event.addListener(ce,"polygoncomplete",f)),g&&F(google.maps.event.addListener(ce,"polylinecomplete",g)),m&&H(google.maps.event.addListener(ce,"rectanglecomplete",m)),A(ce),y&&y(ce),()=>{L!==null&&(C&&google.maps.event.removeListener(C),R&&google.maps.event.removeListener(R),Y&&google.maps.event.removeListener(Y),j&&google.maps.event.removeListener(j),B&&google.maps.event.removeListener(B),ne&&google.maps.event.removeListener(ne),v&&v(L),L.setMap(null))}},[]),null}h.memo(AT);class OT extends h.PureComponent{constructor(t){super(t),G(this,"registeredEvents",[]),G(this,"state",{drawingManager:null}),G(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),xt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var t=new google.maps.drawing.DrawingManager(Wl(Wl({},this.props.options),{},{map:this.context}));this.registeredEvents=je({updaterMap:Jm,eventMap:Qm,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{drawingManager:t}},this.setDrawingManagerCallback)}componentDidUpdate(t){this.state.drawingManager!==null&&(Be(this.registeredEvents),this.registeredEvents=je({updaterMap:Jm,eventMap:Qm,prevProps:t,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Be(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}G(OT,"contextType",Ue);function $m(a,t){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(a,c).enumerable})),s.push.apply(s,r)}return s}function Gs(a){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?$m(Object(s),!0).forEach(function(r){G(a,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):$m(Object(s)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(s,r))})}return a}var ev={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},tv={animation(a,t){a.setAnimation(t)},clickable(a,t){a.setClickable(t)},cursor(a,t){a.setCursor(t)},draggable(a,t){a.setDraggable(t)},icon(a,t){a.setIcon(t)},label(a,t){a.setLabel(t)},map(a,t){a.setMap(t)},opacity(a,t){a.setOpacity(t)},options(a,t){a.setOptions(t)},position(a,t){a.setPosition(t)},shape(a,t){a.setShape(t)},title(a,t){a.setTitle(t)},visible(a,t){a.setVisible(t)},zIndex(a,t){a.setZIndex(t)}},Xl={};function MT(a){var{position:t,options:s,clusterer:r,noClustererRedraw:c,children:d,draggable:f,visible:g,animation:m,clickable:y,cursor:v,icon:w,label:L,opacity:A,shape:C,title:M,zIndex:R,onClick:K,onDblClick:Y,onDrag:X,onDragEnd:j,onDragStart:I,onMouseOut:B,onMouseOver:F,onMouseUp:ne,onMouseDown:H,onRightClick:ce,onClickableChanged:ue,onCursorChanged:te,onAnimationChanged:de,onDraggableChanged:pe,onFlatChanged:ve,onIconChanged:D,onPositionChanged:$,onShapeChanged:se,onTitleChanged:fe,onVisibleChanged:ge,onZindexChanged:_e,onLoad:ye,onUnmount:oe}=a,x=h.useContext(Ue),[S,P]=h.useState(null),[ae,V]=h.useState(null),[ee,J]=h.useState(null),[le,we]=h.useState(null),[Re,ke]=h.useState(null),[be,et]=h.useState(null),[qe,Ce]=h.useState(null),[zt,Ye]=h.useState(null),[Bt,Ri]=h.useState(null),[Lt,At]=h.useState(null),[Bn,ba]=h.useState(null),[hn,ei]=h.useState(null),[On,Ea]=h.useState(null),[ti,Ja]=h.useState(null),[tn,Ot]=h.useState(null),[Gt,Mt]=h.useState(null),[ki,$a]=h.useState(null),[ni,ii]=h.useState(null),[ai,si]=h.useState(null),[Vt,ri]=h.useState(null),[pn,es]=h.useState(null),[Hn,Ni]=h.useState(null);h.useEffect(()=>{S!==null&&S.setMap(x)},[x]),h.useEffect(()=>{typeof s<"u"&&S!==null&&S.setOptions(s)},[S,s]),h.useEffect(()=>{typeof f<"u"&&S!==null&&S.setDraggable(f)},[S,f]),h.useEffect(()=>{t&&S!==null&&S.setPosition(t)},[S,t]),h.useEffect(()=>{typeof g<"u"&&S!==null&&S.setVisible(g)},[S,g]),h.useEffect(()=>{S==null||S.setAnimation(m)},[S,m]),h.useEffect(()=>{S&&y!==void 0&&S.setClickable(y)},[S,y]),h.useEffect(()=>{S&&v!==void 0&&S.setCursor(v)},[S,v]),h.useEffect(()=>{S&&w!==void 0&&S.setIcon(w)},[S,w]),h.useEffect(()=>{S&&L!==void 0&&S.setLabel(L)},[S,L]),h.useEffect(()=>{S&&A!==void 0&&S.setOpacity(A)},[S,A]),h.useEffect(()=>{S&&C!==void 0&&S.setShape(C)},[S,C]),h.useEffect(()=>{S&&M!==void 0&&S.setTitle(M)},[S,M]),h.useEffect(()=>{S&&R!==void 0&&S.setZIndex(R)},[S,R]),h.useEffect(()=>{S&&Y&&(ae!==null&&google.maps.event.removeListener(ae),V(google.maps.event.addListener(S,"dblclick",Y)))},[Y]),h.useEffect(()=>{S&&j&&(ee!==null&&google.maps.event.removeListener(ee),J(google.maps.event.addListener(S,"dragend",j)))},[j]),h.useEffect(()=>{S&&I&&(le!==null&&google.maps.event.removeListener(le),we(google.maps.event.addListener(S,"dragstart",I)))},[I]),h.useEffect(()=>{S&&H&&(Re!==null&&google.maps.event.removeListener(Re),ke(google.maps.event.addListener(S,"mousedown",H)))},[H]),h.useEffect(()=>{S&&B&&(be!==null&&google.maps.event.removeListener(be),et(google.maps.event.addListener(S,"mouseout",B)))},[B]),h.useEffect(()=>{S&&F&&(qe!==null&&google.maps.event.removeListener(qe),Ce(google.maps.event.addListener(S,"mouseover",F)))},[F]),h.useEffect(()=>{S&&ne&&(zt!==null&&google.maps.event.removeListener(zt),Ye(google.maps.event.addListener(S,"mouseup",ne)))},[ne]),h.useEffect(()=>{S&&ce&&(Bt!==null&&google.maps.event.removeListener(Bt),Ri(google.maps.event.addListener(S,"rightclick",ce)))},[ce]),h.useEffect(()=>{S&&K&&(Lt!==null&&google.maps.event.removeListener(Lt),At(google.maps.event.addListener(S,"click",K)))},[K]),h.useEffect(()=>{S&&X&&(Bn!==null&&google.maps.event.removeListener(Bn),ba(google.maps.event.addListener(S,"drag",X)))},[X]),h.useEffect(()=>{S&&ue&&(hn!==null&&google.maps.event.removeListener(hn),ei(google.maps.event.addListener(S,"clickable_changed",ue)))},[ue]),h.useEffect(()=>{S&&te&&(On!==null&&google.maps.event.removeListener(On),Ea(google.maps.event.addListener(S,"cursor_changed",te)))},[te]),h.useEffect(()=>{S&&de&&(ti!==null&&google.maps.event.removeListener(ti),Ja(google.maps.event.addListener(S,"animation_changed",de)))},[de]),h.useEffect(()=>{S&&pe&&(tn!==null&&google.maps.event.removeListener(tn),Ot(google.maps.event.addListener(S,"draggable_changed",pe)))},[pe]),h.useEffect(()=>{S&&ve&&(Gt!==null&&google.maps.event.removeListener(Gt),Mt(google.maps.event.addListener(S,"flat_changed",ve)))},[ve]),h.useEffect(()=>{S&&D&&(ki!==null&&google.maps.event.removeListener(ki),$a(google.maps.event.addListener(S,"icon_changed",D)))},[D]),h.useEffect(()=>{S&&$&&(ni!==null&&google.maps.event.removeListener(ni),ii(google.maps.event.addListener(S,"position_changed",$)))},[$]),h.useEffect(()=>{S&&se&&(ai!==null&&google.maps.event.removeListener(ai),si(google.maps.event.addListener(S,"shape_changed",se)))},[se]),h.useEffect(()=>{S&&fe&&(Vt!==null&&google.maps.event.removeListener(Vt),ri(google.maps.event.addListener(S,"title_changed",fe)))},[fe]),h.useEffect(()=>{S&&ge&&(pn!==null&&google.maps.event.removeListener(pn),es(google.maps.event.addListener(S,"visible_changed",ge)))},[ge]),h.useEffect(()=>{S&&_e&&(Hn!==null&&google.maps.event.removeListener(Hn),Ni(google.maps.event.addListener(S,"zindex_changed",_e)))},[_e]),h.useEffect(()=>{var oi=Gs(Gs(Gs({},s||Xl),r?Xl:{map:x}),{},{position:t}),Me=new google.maps.Marker(oi);return r?r.addMarker(Me,!!c):Me.setMap(x),t&&Me.setPosition(t),typeof g<"u"&&Me.setVisible(g),typeof f<"u"&&Me.setDraggable(f),typeof y<"u"&&Me.setClickable(y),typeof v=="string"&&Me.setCursor(v),w&&Me.setIcon(w),typeof L<"u"&&Me.setLabel(L),typeof A<"u"&&Me.setOpacity(A),C&&Me.setShape(C),typeof M=="string"&&Me.setTitle(M),typeof R=="number"&&Me.setZIndex(R),Y&&V(google.maps.event.addListener(Me,"dblclick",Y)),j&&J(google.maps.event.addListener(Me,"dragend",j)),I&&we(google.maps.event.addListener(Me,"dragstart",I)),H&&ke(google.maps.event.addListener(Me,"mousedown",H)),B&&et(google.maps.event.addListener(Me,"mouseout",B)),F&&Ce(google.maps.event.addListener(Me,"mouseover",F)),ne&&Ye(google.maps.event.addListener(Me,"mouseup",ne)),ce&&Ri(google.maps.event.addListener(Me,"rightclick",ce)),K&&At(google.maps.event.addListener(Me,"click",K)),X&&ba(google.maps.event.addListener(Me,"drag",X)),ue&&ei(google.maps.event.addListener(Me,"clickable_changed",ue)),te&&Ea(google.maps.event.addListener(Me,"cursor_changed",te)),de&&Ja(google.maps.event.addListener(Me,"animation_changed",de)),pe&&Ot(google.maps.event.addListener(Me,"draggable_changed",pe)),ve&&Mt(google.maps.event.addListener(Me,"flat_changed",ve)),D&&$a(google.maps.event.addListener(Me,"icon_changed",D)),$&&ii(google.maps.event.addListener(Me,"position_changed",$)),se&&si(google.maps.event.addListener(Me,"shape_changed",se)),fe&&ri(google.maps.event.addListener(Me,"title_changed",fe)),ge&&es(google.maps.event.addListener(Me,"visible_changed",ge)),_e&&Ni(google.maps.event.addListener(Me,"zindex_changed",_e)),P(Me),ye&&ye(Me),()=>{ae!==null&&google.maps.event.removeListener(ae),ee!==null&&google.maps.event.removeListener(ee),le!==null&&google.maps.event.removeListener(le),Re!==null&&google.maps.event.removeListener(Re),be!==null&&google.maps.event.removeListener(be),qe!==null&&google.maps.event.removeListener(qe),zt!==null&&google.maps.event.removeListener(zt),Bt!==null&&google.maps.event.removeListener(Bt),Lt!==null&&google.maps.event.removeListener(Lt),hn!==null&&google.maps.event.removeListener(hn),On!==null&&google.maps.event.removeListener(On),ti!==null&&google.maps.event.removeListener(ti),tn!==null&&google.maps.event.removeListener(tn),Gt!==null&&google.maps.event.removeListener(Gt),ki!==null&&google.maps.event.removeListener(ki),ni!==null&&google.maps.event.removeListener(ni),Vt!==null&&google.maps.event.removeListener(Vt),pn!==null&&google.maps.event.removeListener(pn),Hn!==null&&google.maps.event.removeListener(Hn),oe&&oe(Me),r?r.removeMarker(Me,!!c):Me&&Me.setMap(null)}},[]);var Gn=h.useMemo(()=>d?h.Children.map(d,oi=>{if(!h.isValidElement(oi))return oi;var Me=oi;return h.cloneElement(Me,{anchor:S})}):null,[d,S]);return E.jsx(E.Fragment,{children:Gn})||null}h.memo(MT);class RT extends h.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[])}componentDidMount(){var t=this;return vb(function*(){var s=Gs(Gs(Gs({},t.props.options||Xl),t.props.clusterer?Xl:{map:t.context}),{},{position:t.props.position});t.marker=new google.maps.Marker(s),t.props.clusterer?t.props.clusterer.addMarker(t.marker,!!t.props.noClustererRedraw):t.marker.setMap(t.context),t.registeredEvents=je({updaterMap:tv,eventMap:ev,prevProps:{},nextProps:t.props,instance:t.marker}),t.props.onLoad&&t.props.onLoad(t.marker)})()}componentDidUpdate(t){this.marker&&(Be(this.registeredEvents),this.registeredEvents=je({updaterMap:tv,eventMap:ev,prevProps:t,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Be(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var t=this.props.children?h.Children.map(this.props.children,s=>{if(!h.isValidElement(s))return s;var r=s;return h.cloneElement(r,{anchor:this.marker})}):null;return t||null}}G(RT,"contextType",Ue);var kT=(function(){function a(t,s){t.getClusterer().extend(a,google.maps.OverlayView),this.cluster=t,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=s,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(t.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return a.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},a.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},a.prototype.onClick=function(t){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var s=this.cluster.getClusterer();if(google.maps.event.trigger(s,"click",this.cluster),google.maps.event.trigger(s,"clusterclick",this.cluster),s.getZoomOnClick()){var r=s.getMaxZoom(),c=this.cluster.getBounds(),d=s.getMap();d!==null&&"fitBounds"in d&&d.fitBounds(c),this.timeOut=window.setTimeout(function(){var f=s.getMap();if(f!==null){"fitBounds"in f&&f.fitBounds(c);var g=f.getZoom()||0;r!==null&&g>r&&f.setZoom(r+1)}},100)}t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}},a.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},a.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},a.prototype.onAdd=function(){var t;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(t=this.getPanes())===null||t===void 0||t.overlayMouseTarget.appendChild(this.div);var s=this.getMap();s!==null&&(this.boundsChangedListener=google.maps.event.addListener(s,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},a.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},a.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var t=this.getPosFromLatLng(this.center);this.div.style.top=t!==null?"".concat(t.y,"px"):"0",this.div.style.left=t!==null?"".concat(t.x,"px"):"0"}},a.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},a.prototype.show=function(){var t,s,r,c,d,f;if(this.div&&this.center){var g=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,m=this.backgroundPosition.split(" "),y=parseInt(((t=m[0])===null||t===void 0?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),v=parseInt(((s=m[1])===null||s===void 0?void 0:s.replace(/^\s+|\s+$/g,""))||"0",10),w=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(w!==null?"".concat(w.y,"px"):"0","; left: ").concat(w!==null?"".concat(w.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var L=document.createElement("img");L.alt=g,L.src=this.url,L.width=this.width,L.height=this.height,L.setAttribute("style","position: absolute; top: ".concat(v,"px; left: ").concat(y,"px")),this.cluster.getClusterer().enableRetinaIcons||(L.style.clip="rect(-".concat(v,"px, -").concat(y+this.width,"px, -").concat(v+this.height,", -").concat(y,")"));var A=document.createElement("div");A.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(A.innerText="".concat((c=this.sums)===null||c===void 0?void 0:c.text)),!((d=this.sums)===null||d===void 0)&&d.html&&(A.innerHTML="".concat((f=this.sums)===null||f===void 0?void 0:f.html)),this.div.innerHTML="",this.div.appendChild(L),this.div.appendChild(A),this.div.title=g,this.div.style.display=""}this.visible=!0},a.prototype.useStyle=function(t){this.sums=t;var s=this.cluster.getClusterer().getStyles(),r=s[Math.min(s.length-1,Math.max(0,t.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},a.prototype.setCenter=function(t){this.center=t},a.prototype.getPosFromLatLng=function(t){var s=this.getProjection().fromLatLngToDivPixel(t);return s!==null&&(s.x-=this.anchorIcon[1],s.y-=this.anchorIcon[0]),s},a})(),NT=(function(){function a(t){this.markerClusterer=t,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new kT(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return a.prototype.getSize=function(){return this.markers.length},a.prototype.getMarkers=function(){return this.markers},a.prototype.getCenter=function(){return this.center},a.prototype.getMap=function(){return this.map},a.prototype.getClusterer=function(){return this.markerClusterer},a.prototype.getBounds=function(){for(var t=new google.maps.LatLngBounds(this.center,this.center),s=this.getMarkers(),r=0,c=s;r<c.length;r++){var d=c[r],f=d.getPosition();f&&t.extend(f)}return t},a.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},a.prototype.addMarker=function(t){var s;if(this.isMarkerAlreadyAdded(t))return!1;if(this.center){if(this.averageCenter){var r=t.getPosition();if(r){var c=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(c-1)+r.lat())/c,(this.center.lng()*(c-1)+r.lng())/c),this.calculateBounds()}}}else{var r=t.getPosition();r&&(this.center=r,this.calculateBounds())}t.isAdded=!0,this.markers.push(t);var d=this.markers.length,f=this.markerClusterer.getMaxZoom(),g=(s=this.map)===null||s===void 0?void 0:s.getZoom();if(f!==null&&typeof g<"u"&&g>f)t.getMap()!==this.map&&t.setMap(this.map);else if(d<this.minClusterSize)t.getMap()!==this.map&&t.setMap(this.map);else if(d===this.minClusterSize)for(var m=0,y=this.markers;m<y.length;m++){var v=y[m];v.setMap(null)}else t.setMap(null);return!0},a.prototype.isMarkerInClusterBounds=function(t){if(this.bounds!==null){var s=t.getPosition();if(s)return this.bounds.contains(s)}return!1},a.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},a.prototype.updateIcon=function(){var t,s=this.markers.length,r=this.markerClusterer.getMaxZoom(),c=(t=this.map)===null||t===void 0?void 0:t.getZoom();if(r!==null&&typeof c<"u"&&c>r){this.clusterIcon.hide();return}if(s<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},a.prototype.isMarkerAlreadyAdded=function(t){if(this.markers.includes)return this.markers.includes(t);for(var s=0;s<this.markers.length;s++)if(t===this.markers[s])return!0;return!1},a})();function DT(a,t){var s=a.length,r=s.toString().length,c=Math.min(r,t);return{text:s.toString(),index:c,title:""}}var IT=2e3,UT=500,jT="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",PT="png",zT=[53,56,66,78,90],BT="cluster",wb=(function(){function a(t,s,r){s===void 0&&(s=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(a,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||jT,this.imageExtension=r.imageExtension||PT,this.imageSizes=r.imageSizes||zT,this.calculator=r.calculator||DT,this.batchSize=r.batchSize||IT,this.batchSizeIE=r.batchSizeIE||UT,this.clusterClass=r.clusterClass||BT,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(s,!0),this.setMap(t)}return a.prototype.onZoomChanged=function(){var t,s;this.resetViewport(!1),(((t=this.getMap())===null||t===void 0?void 0:t.getZoom())===(this.get("minZoom")||0)||((s=this.getMap())===null||s===void 0?void 0:s.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},a.prototype.onIdle=function(){this.redraw()},a.prototype.onAdd=function(){var t=this.getMap();this.activeMap=t,this.ready=!0,this.repaint(),t!==null&&(this.listeners=[google.maps.event.addListener(t,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(t,"idle",this.onIdle)])},a.prototype.onRemove=function(){for(var t=0,s=this.markers;t<s.length;t++){var r=s[t];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var c=0,d=this.clusters;c<d.length;c++){var f=d[c];f.remove()}this.clusters=[];for(var g=0,m=this.listeners;g<m.length;g++){var y=m[g];google.maps.event.removeListener(y)}this.listeners=[],this.activeMap=null,this.ready=!1},a.prototype.draw=function(){},a.prototype.getMap=function(){return null},a.prototype.getPanes=function(){return null},a.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},a.prototype.setMap=function(){},a.prototype.addListener=function(){return{remove:function(){}}},a.prototype.bindTo=function(){},a.prototype.get=function(){},a.prototype.notify=function(){},a.prototype.set=function(){},a.prototype.setValues=function(){},a.prototype.unbind=function(){},a.prototype.unbindAll=function(){},a.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var t=0;t<this.imageSizes.length;t++)this.styles.push({url:"".concat(this.imagePath+(t+1),".").concat(this.imageExtension),height:this.imageSizes[t]||0,width:this.imageSizes[t]||0})},a.prototype.fitMapToMarkers=function(){for(var t=this.getMarkers(),s=new google.maps.LatLngBounds,r=0,c=t;r<c.length;r++){var d=c[r],f=d.getPosition();f&&s.extend(f)}var g=this.getMap();g!==null&&"fitBounds"in g&&g.fitBounds(s)},a.prototype.getGridSize=function(){return this.gridSize},a.prototype.setGridSize=function(t){this.gridSize=t},a.prototype.getMinimumClusterSize=function(){return this.minClusterSize},a.prototype.setMinimumClusterSize=function(t){this.minClusterSize=t},a.prototype.getMaxZoom=function(){return this.maxZoom},a.prototype.setMaxZoom=function(t){this.maxZoom=t},a.prototype.getStyles=function(){return this.styles},a.prototype.setStyles=function(t){this.styles=t},a.prototype.getTitle=function(){return this.title},a.prototype.setTitle=function(t){this.title=t},a.prototype.getZoomOnClick=function(){return this.zoomOnClick},a.prototype.setZoomOnClick=function(t){this.zoomOnClick=t},a.prototype.getAverageCenter=function(){return this.averageCenter},a.prototype.setAverageCenter=function(t){this.averageCenter=t},a.prototype.getIgnoreHidden=function(){return this.ignoreHidden},a.prototype.setIgnoreHidden=function(t){this.ignoreHidden=t},a.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},a.prototype.setEnableRetinaIcons=function(t){this.enableRetinaIcons=t},a.prototype.getImageExtension=function(){return this.imageExtension},a.prototype.setImageExtension=function(t){this.imageExtension=t},a.prototype.getImagePath=function(){return this.imagePath},a.prototype.setImagePath=function(t){this.imagePath=t},a.prototype.getImageSizes=function(){return this.imageSizes},a.prototype.setImageSizes=function(t){this.imageSizes=t},a.prototype.getCalculator=function(){return this.calculator},a.prototype.setCalculator=function(t){this.calculator=t},a.prototype.getBatchSizeIE=function(){return this.batchSizeIE},a.prototype.setBatchSizeIE=function(t){this.batchSizeIE=t},a.prototype.getClusterClass=function(){return this.clusterClass},a.prototype.setClusterClass=function(t){this.clusterClass=t},a.prototype.getMarkers=function(){return this.markers},a.prototype.getTotalMarkers=function(){return this.markers.length},a.prototype.getClusters=function(){return this.clusters},a.prototype.getTotalClusters=function(){return this.clusters.length},a.prototype.addMarker=function(t,s){this.pushMarkerTo(t),s||this.redraw()},a.prototype.addMarkers=function(t,s){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var c=t[r];c&&this.pushMarkerTo(c)}s||this.redraw()},a.prototype.pushMarkerTo=function(t){var s=this;t.getDraggable()&&google.maps.event.addListener(t,"dragend",function(){s.ready&&(t.isAdded=!1,s.repaint())}),t.isAdded=!1,this.markers.push(t)},a.prototype.removeMarker_=function(t){var s=-1;if(this.markers.indexOf)s=this.markers.indexOf(t);else for(var r=0;r<this.markers.length;r++)if(t===this.markers[r]){s=r;break}return s===-1?!1:(t.setMap(null),this.markers.splice(s,1),!0)},a.prototype.removeMarker=function(t,s){var r=this.removeMarker_(t);return!s&&r&&this.repaint(),r},a.prototype.removeMarkers=function(t,s){for(var r=!1,c=0,d=t;c<d.length;c++){var f=d[c];r=r||this.removeMarker_(f)}return!s&&r&&this.repaint(),r},a.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},a.prototype.repaint=function(){var t=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,c=t;r<c.length;r++){var d=c[r];d.remove()}},0)},a.prototype.getExtendedBounds=function(t){var s=this.getProjection(),r=s.fromLatLngToDivPixel(new google.maps.LatLng(t.getNorthEast().lat(),t.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var c=s.fromLatLngToDivPixel(new google.maps.LatLng(t.getSouthWest().lat(),t.getSouthWest().lng()));if(c!==null&&(c.x-=this.gridSize,c.y+=this.gridSize),r!==null){var d=s.fromDivPixelToLatLng(r);d!==null&&t.extend(d)}if(c!==null){var f=s.fromDivPixelToLatLng(c);f!==null&&t.extend(f)}return t},a.prototype.redraw=function(){this.createClusters(0)},a.prototype.resetViewport=function(t){for(var s=0,r=this.clusters;s<r.length;s++){var c=r[s];c.remove()}this.clusters=[];for(var d=0,f=this.markers;d<f.length;d++){var g=f[d];g.isAdded=!1,t&&g.setMap(null)}},a.prototype.distanceBetweenPoints=function(t,s){var r=6371,c=(s.lat()-t.lat())*Math.PI/180,d=(s.lng()-t.lng())*Math.PI/180,f=Math.sin(c/2)*Math.sin(c/2)+Math.cos(t.lat()*Math.PI/180)*Math.cos(s.lat()*Math.PI/180)*Math.sin(d/2)*Math.sin(d/2);return r*(2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)))},a.prototype.isMarkerInBounds=function(t,s){var r=t.getPosition();return r?s.contains(r):!1},a.prototype.addToClosestCluster=function(t){for(var s,r=4e4,c=null,d=0,f=this.clusters;d<f.length;d++){var g=f[d];s=g;var m=s.getCenter(),y=t.getPosition();if(m&&y){var v=this.distanceBetweenPoints(m,y);v<r&&(r=v,c=s)}}c&&c.isMarkerInClusterBounds(t)?c.addMarker(t):(s=new NT(this),s.addMarker(t),this.clusters.push(s))},a.prototype.createClusters=function(t){var s=this;if(this.ready){t===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),c=r!==null&&("getBounds"in r)?r.getBounds():null,d=(r==null?void 0:r.getZoom())||0,f=d>3?new google.maps.LatLngBounds(c==null?void 0:c.getSouthWest(),c==null?void 0:c.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),g=this.getExtendedBounds(f),m=Math.min(t+this.batchSize,this.markers.length),y=t;y<m;y++){var v=this.markers[y];v&&!v.isAdded&&this.isMarkerInBounds(v,g)&&(!this.ignoreHidden||this.ignoreHidden&&v.getVisible())&&this.addToClosestCluster(v)}if(m<this.markers.length)this.timerRefStatic=window.setTimeout(function(){s.createClusters(m)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var w=0,L=this.clusters;w<L.length;w++){var A=L[w];A.updateIcon()}}}},a.prototype.extend=function(t,s){return(function(c){for(var d in c.prototype){var f=d;this.prototype[f]=c.prototype[f]}return this}).apply(t,[s])},a})();function nv(a,t){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(a,c).enumerable})),s.push.apply(s,r)}return s}function HT(a){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?nv(Object(s),!0).forEach(function(r){G(a,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):nv(Object(s)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(s,r))})}return a}var xn={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},We={averageCenter(a,t){a.setAverageCenter(t)},batchSizeIE(a,t){a.setBatchSizeIE(t)},calculator(a,t){a.setCalculator(t)},clusterClass(a,t){a.setClusterClass(t)},enableRetinaIcons(a,t){a.setEnableRetinaIcons(t)},gridSize(a,t){a.setGridSize(t)},ignoreHidden(a,t){a.setIgnoreHidden(t)},imageExtension(a,t){a.setImageExtension(t)},imagePath(a,t){a.setImagePath(t)},imageSizes(a,t){a.setImageSizes(t)},maxZoom(a,t){a.setMaxZoom(t)},minimumClusterSize(a,t){a.setMinimumClusterSize(t)},styles(a,t){a.setStyles(t)},title(a,t){a.setTitle(t)},zoomOnClick(a,t){a.setZoomOnClick(t)}},GT={};function VT(a){var{children:t,options:s,averageCenter:r,batchSizeIE:c,calculator:d,clusterClass:f,enableRetinaIcons:g,gridSize:m,ignoreHidden:y,imageExtension:v,imagePath:w,imageSizes:L,maxZoom:A,minimumClusterSize:C,styles:M,title:R,zoomOnClick:K,onClick:Y,onClusteringBegin:X,onClusteringEnd:j,onMouseOver:I,onMouseOut:B,onLoad:F,onUnmount:ne}=a,[H,ce]=h.useState(null),ue=h.useContext(Ue),[te,de]=h.useState(null),[pe,ve]=h.useState(null),[D,$]=h.useState(null),[se,fe]=h.useState(null),[ge,_e]=h.useState(null);return h.useEffect(()=>{H&&B&&(se!==null&&google.maps.event.removeListener(se),fe(google.maps.event.addListener(H,xn.onMouseOut,B)))},[B]),h.useEffect(()=>{H&&I&&(ge!==null&&google.maps.event.removeListener(ge),_e(google.maps.event.addListener(H,xn.onMouseOver,I)))},[I]),h.useEffect(()=>{H&&Y&&(te!==null&&google.maps.event.removeListener(te),de(google.maps.event.addListener(H,xn.onClick,Y)))},[Y]),h.useEffect(()=>{H&&X&&(pe!==null&&google.maps.event.removeListener(pe),ve(google.maps.event.addListener(H,xn.onClusteringBegin,X)))},[X]),h.useEffect(()=>{H&&j&&(D!==null&&google.maps.event.removeListener(D),ve(google.maps.event.addListener(H,xn.onClusteringEnd,j)))},[j]),h.useEffect(()=>{typeof r<"u"&&H!==null&&We.averageCenter(H,r)},[H,r]),h.useEffect(()=>{typeof c<"u"&&H!==null&&We.batchSizeIE(H,c)},[H,c]),h.useEffect(()=>{typeof d<"u"&&H!==null&&We.calculator(H,d)},[H,d]),h.useEffect(()=>{typeof f<"u"&&H!==null&&We.clusterClass(H,f)},[H,f]),h.useEffect(()=>{typeof g<"u"&&H!==null&&We.enableRetinaIcons(H,g)},[H,g]),h.useEffect(()=>{typeof m<"u"&&H!==null&&We.gridSize(H,m)},[H,m]),h.useEffect(()=>{typeof y<"u"&&H!==null&&We.ignoreHidden(H,y)},[H,y]),h.useEffect(()=>{typeof v<"u"&&H!==null&&We.imageExtension(H,v)},[H,v]),h.useEffect(()=>{typeof w<"u"&&H!==null&&We.imagePath(H,w)},[H,w]),h.useEffect(()=>{typeof L<"u"&&H!==null&&We.imageSizes(H,L)},[H,L]),h.useEffect(()=>{typeof A<"u"&&H!==null&&We.maxZoom(H,A)},[H,A]),h.useEffect(()=>{typeof C<"u"&&H!==null&&We.minimumClusterSize(H,C)},[H,C]),h.useEffect(()=>{typeof M<"u"&&H!==null&&We.styles(H,M)},[H,M]),h.useEffect(()=>{typeof R<"u"&&H!==null&&We.title(H,R)},[H,R]),h.useEffect(()=>{typeof K<"u"&&H!==null&&We.zoomOnClick(H,K)},[H,K]),h.useEffect(()=>{if(ue){var ye=HT({},s||GT),oe=new wb(ue,[],ye);return r&&We.averageCenter(oe,r),c&&We.batchSizeIE(oe,c),d&&We.calculator(oe,d),f&&We.clusterClass(oe,f),g&&We.enableRetinaIcons(oe,g),m&&We.gridSize(oe,m),y&&We.ignoreHidden(oe,y),v&&We.imageExtension(oe,v),w&&We.imagePath(oe,w),L&&We.imageSizes(oe,L),A&&We.maxZoom(oe,A),C&&We.minimumClusterSize(oe,C),M&&We.styles(oe,M),R&&We.title(oe,R),K&&We.zoomOnClick(oe,K),B&&fe(google.maps.event.addListener(oe,xn.onMouseOut,B)),I&&_e(google.maps.event.addListener(oe,xn.onMouseOver,I)),Y&&de(google.maps.event.addListener(oe,xn.onClick,Y)),X&&ve(google.maps.event.addListener(oe,xn.onClusteringBegin,X)),j&&$(google.maps.event.addListener(oe,xn.onClusteringEnd,j)),ce(oe),F&&F(oe),()=>{se!==null&&google.maps.event.removeListener(se),ge!==null&&google.maps.event.removeListener(ge),te!==null&&google.maps.event.removeListener(te),pe!==null&&google.maps.event.removeListener(pe),D!==null&&google.maps.event.removeListener(D),ne&&ne(oe)}}},[]),H!==null&&t(H)||null}h.memo(VT);class qT extends h.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"state",{markerClusterer:null}),G(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var t=new wb(this.context,[],this.props.options);this.registeredEvents=je({updaterMap:We,eventMap:xn,prevProps:{},nextProps:this.props,instance:t}),this.setState(()=>({markerClusterer:t}),this.setClustererCallback)}}componentDidUpdate(t){this.state.markerClusterer&&(Be(this.registeredEvents),this.registeredEvents=je({updaterMap:We,eventMap:xn,prevProps:t,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Be(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}G(qT,"contextType",Ue);function iv(a){a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation()}var Sb=(function(){function a(t){t===void 0&&(t={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(a,google.maps.OverlayView),this.content=t.content||"",this.disableAutoPan=t.disableAutoPan||!1,this.maxWidth=t.maxWidth||0,this.pixelOffset=t.pixelOffset||new google.maps.Size(0,0),this.position=t.position||new google.maps.LatLng(0,0),this.zIndex=t.zIndex||null,this.boxClass=t.boxClass||"infoBox",this.boxStyle=t.boxStyle||{},this.closeBoxMargin=t.closeBoxMargin||"2px",this.closeBoxURL=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",t.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=t.infoBoxClearance||new google.maps.Size(1,1),typeof t.visible>"u"&&(typeof t.isHidden>"u"?t.visible=!0:t.visible=!t.isHidden),this.isHidden=!t.visible,this.alignBottom=t.alignBottom||!1,this.pane=t.pane||"floatPane",this.enableEventPropagation=t.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return a.prototype.createInfoBoxDiv=function(){var t=this,s=function(v){v.returnValue=!1,v.preventDefault&&v.preventDefault(),t.enableEventPropagation||iv(v)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var c=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-c.left-c.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var d=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],f=0,g=d;f<g.length;f++){var m=g[f];this.eventListeners.push(google.maps.event.addListener(this.div,m,iv))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){t.div&&(t.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",s),google.maps.event.trigger(this,"domready")}},a.prototype.getCloseBoxImg=function(){var t="";return this.closeBoxURL!==""&&(t='<img alt=""',t+=' aria-hidden="true"',t+=" src='"+this.closeBoxURL+"'",t+=" align=right",t+=" style='",t+=" position: relative;",t+=" cursor: pointer;",t+=" margin: "+this.closeBoxMargin+";",t+="'>"),t},a.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},a.prototype.closeClickHandler=function(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},a.prototype.getCloseClickHandler=function(){return this.closeClickHandler},a.prototype.panBox=function(t){if(this.div&&!t){var s=this.getMap();if(s instanceof google.maps.Map){var r=0,c=0,d=s.getBounds();d&&!d.contains(this.position)&&s.setCenter(this.position);var f=s.getDiv(),g=f.offsetWidth,m=f.offsetHeight,y=this.pixelOffset.width,v=this.pixelOffset.height,w=this.div.offsetWidth,L=this.div.offsetHeight,A=this.infoBoxClearance.width,C=this.infoBoxClearance.height,M=this.getProjection(),R=M.fromLatLngToContainerPixel(this.position);R!==null&&(R.x<-y+A?r=R.x+y-A:R.x+w+y+A>g&&(r=R.x+w+y+A-g),this.alignBottom?R.y<-v+C+L?c=R.y+v-C-L:R.y+v+C>m&&(c=R.y+v+C-m):R.y<-v+C?c=R.y+v-C:R.y+L+v+C>m&&(c=R.y+L+v+C-m)),r===0&&c===0||s.panBy(r,c)}}},a.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var t=this.boxStyle;for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(this.div.style[s]=t[s]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},a.prototype.getBoxWidths=function(){var t={top:0,bottom:0,left:0,right:0};if(!this.div)return t;if(document.defaultView){var s=this.div.ownerDocument,r=s&&s.defaultView?s.defaultView.getComputedStyle(this.div,""):null;r&&(t.top=parseInt(r.borderTopWidth||"",10)||0,t.bottom=parseInt(r.borderBottomWidth||"",10)||0,t.left=parseInt(r.borderLeftWidth||"",10)||0,t.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var c=this.div.currentStyle;c&&(t.top=parseInt(c.borderTopWidth||"",10)||0,t.bottom=parseInt(c.borderBottomWidth||"",10)||0,t.left=parseInt(c.borderLeftWidth||"",10)||0,t.right=parseInt(c.borderRightWidth||"",10)||0)}return t},a.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},a.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var t=this.getProjection(),s=t.fromLatLngToDivPixel(this.position);s!==null&&(this.div.style.left=s.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(s.y+this.pixelOffset.height)+"px":this.div.style.top=s.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},a.prototype.setOptions=function(t){t===void 0&&(t={}),typeof t.boxClass<"u"&&(this.boxClass=t.boxClass,this.setBoxStyle()),typeof t.boxStyle<"u"&&(this.boxStyle=t.boxStyle,this.setBoxStyle()),typeof t.content<"u"&&this.setContent(t.content),typeof t.disableAutoPan<"u"&&(this.disableAutoPan=t.disableAutoPan),typeof t.maxWidth<"u"&&(this.maxWidth=t.maxWidth),typeof t.pixelOffset<"u"&&(this.pixelOffset=t.pixelOffset),typeof t.alignBottom<"u"&&(this.alignBottom=t.alignBottom),typeof t.position<"u"&&this.setPosition(t.position),typeof t.zIndex<"u"&&this.setZIndex(t.zIndex),typeof t.closeBoxMargin<"u"&&(this.closeBoxMargin=t.closeBoxMargin),typeof t.closeBoxURL<"u"&&(this.closeBoxURL=t.closeBoxURL),typeof t.infoBoxClearance<"u"&&(this.infoBoxClearance=t.infoBoxClearance),typeof t.isHidden<"u"&&(this.isHidden=t.isHidden),typeof t.visible<"u"&&(this.isHidden=!t.visible),typeof t.enableEventPropagation<"u"&&(this.enableEventPropagation=t.enableEventPropagation),this.div&&this.draw()},a.prototype.setContent=function(t){this.content=t,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof t=="string"?this.div.innerHTML=this.getCloseBoxImg()+t:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(t)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof t=="string"?this.div.innerHTML=this.getCloseBoxImg()+t:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(t))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},a.prototype.setPosition=function(t){this.position=t,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},a.prototype.setVisible=function(t){this.isHidden=!t,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},a.prototype.setZIndex=function(t){this.zIndex=t,this.div&&(this.div.style.zIndex=t+""),google.maps.event.trigger(this,"zindex_changed")},a.prototype.getContent=function(){return this.content},a.prototype.getPosition=function(){return this.position},a.prototype.getZIndex=function(){return this.zIndex},a.prototype.getVisible=function(){var t=this.getMap();return typeof t>"u"||t===null?!1:!this.isHidden},a.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},a.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},a.prototype.open=function(t,s){var r=this;s&&(this.position=s.getPosition(),this.moveListener=google.maps.event.addListener(s,"position_changed",function(){var c=s.getPosition();r.setPosition(c)}),this.mapListener=google.maps.event.addListener(s,"map_changed",function(){r.setMap(s.map)})),this.setMap(t),this.div&&this.panBox()},a.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var t=0,s=this.eventListeners;t<s.length;t++){var r=s[t];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},a.prototype.extend=function(t,s){return(function(c){for(var d in c.prototype)Object.prototype.hasOwnProperty.call(this,d)||(this.prototype[d]=c.prototype[d]);return this}).apply(t,[s])},a})(),YT=["position"],ZT=["position"];function av(a,t){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(a,c).enumerable})),s.push.apply(s,r)}return s}function Ql(a){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?av(Object(s),!0).forEach(function(r){G(a,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):av(Object(s)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(s,r))})}return a}var sv={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},rv={options(a,t){a.setOptions(t)},position(a,t){t instanceof google.maps.LatLng?a.setPosition(t):a.setPosition(new google.maps.LatLng(t.lat,t.lng))},visible(a,t){a.setVisible(t)},zIndex(a,t){a.setZIndex(t)}},KT={};function FT(a){var{children:t,anchor:s,options:r,position:c,zIndex:d,onCloseClick:f,onDomReady:g,onContentChanged:m,onPositionChanged:y,onZindexChanged:v,onLoad:w,onUnmount:L}=a,A=h.useContext(Ue),[C,M]=h.useState(null),[R,K]=h.useState(null),[Y,X]=h.useState(null),[j,I]=h.useState(null),[B,F]=h.useState(null),[ne,H]=h.useState(null),ce=h.useRef(null);return h.useEffect(()=>{A&&C!==null&&(C.close(),s?C.open(A,s):C.getPosition()&&C.open(A))},[A,C,s]),h.useEffect(()=>{r&&C!==null&&C.setOptions(r)},[C,r]),h.useEffect(()=>{if(c&&C!==null){var ue=c instanceof google.maps.LatLng?c:new google.maps.LatLng(c.lat,c.lng);C.setPosition(ue)}},[c]),h.useEffect(()=>{typeof d=="number"&&C!==null&&C.setZIndex(d)},[d]),h.useEffect(()=>{C&&f&&(R!==null&&google.maps.event.removeListener(R),K(google.maps.event.addListener(C,"closeclick",f)))},[f]),h.useEffect(()=>{C&&g&&(Y!==null&&google.maps.event.removeListener(Y),X(google.maps.event.addListener(C,"domready",g)))},[g]),h.useEffect(()=>{C&&m&&(j!==null&&google.maps.event.removeListener(j),I(google.maps.event.addListener(C,"content_changed",m)))},[m]),h.useEffect(()=>{C&&y&&(B!==null&&google.maps.event.removeListener(B),F(google.maps.event.addListener(C,"position_changed",y)))},[y]),h.useEffect(()=>{C&&v&&(ne!==null&&google.maps.event.removeListener(ne),H(google.maps.event.addListener(C,"zindex_changed",v)))},[v]),h.useEffect(()=>{if(A){var ue=r||KT,{position:te}=ue,de=uf(ue,YT),pe;te&&!(te instanceof google.maps.LatLng)&&(pe=new google.maps.LatLng(te.lat,te.lng));var ve=new Sb(Ql(Ql({},de),pe?{position:pe}:{}));ce.current=document.createElement("div"),M(ve),f&&K(google.maps.event.addListener(ve,"closeclick",f)),g&&X(google.maps.event.addListener(ve,"domready",g)),m&&I(google.maps.event.addListener(ve,"content_changed",m)),y&&F(google.maps.event.addListener(ve,"position_changed",y)),v&&H(google.maps.event.addListener(ve,"zindex_changed",v)),ve.setContent(ce.current),s?ve.open(A,s):ve.getPosition()?ve.open(A):xt(!1,"You must provide either an anchor or a position prop for <InfoBox>."),w&&w(ve)}return()=>{C!==null&&(R&&google.maps.event.removeListener(R),j&&google.maps.event.removeListener(j),Y&&google.maps.event.removeListener(Y),B&&google.maps.event.removeListener(B),ne&&google.maps.event.removeListener(ne),L&&L(C),C.close())}},[]),ce.current?Zs.createPortal(h.Children.only(t),ce.current):null}h.memo(FT);class WT extends h.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"containerElement",null),G(this,"state",{infoBox:null}),G(this,"open",(t,s)=>{s?this.context!==null&&t.open(this.context,s):t.getPosition()?this.context!==null&&t.open(this.context):xt(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),G(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var t=this.props.options||{},{position:s}=t,r=uf(t,ZT),c;s&&!(s instanceof google.maps.LatLng)&&(c=new google.maps.LatLng(s.lat,s.lng));var d=new Sb(Ql(Ql({},r),c?{position:c}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=je({updaterMap:rv,eventMap:sv,prevProps:{},nextProps:this.props,instance:d}),this.setState({infoBox:d},this.setInfoBoxCallback)}componentDidUpdate(t){var{infoBox:s}=this.state;s!==null&&(Be(this.registeredEvents),this.registeredEvents=je({updaterMap:rv,eventMap:sv,prevProps:t,nextProps:this.props,instance:s}))}componentWillUnmount(){var{onUnmount:t}=this.props,{infoBox:s}=this.state;s!==null&&(t&&t(s),Be(this.registeredEvents),s.close())}render(){return this.containerElement?Zs.createPortal(h.Children.only(this.props.children),this.containerElement):null}}G(WT,"contextType",Ue);var kd,ov;function XT(){return ov||(ov=1,kd=function a(t,s){if(t===s)return!0;if(t&&s&&typeof t=="object"&&typeof s=="object"){if(t.constructor!==s.constructor)return!1;var r,c,d;if(Array.isArray(t)){if(r=t.length,r!=s.length)return!1;for(c=r;c--!==0;)if(!a(t[c],s[c]))return!1;return!0}if(t.constructor===RegExp)return t.source===s.source&&t.flags===s.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===s.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===s.toString();if(d=Object.keys(t),r=d.length,r!==Object.keys(s).length)return!1;for(c=r;c--!==0;)if(!Object.prototype.hasOwnProperty.call(s,d[c]))return!1;for(c=r;c--!==0;){var f=d[c];if(!a(t[f],s[f]))return!1}return!0}return t!==t&&s!==s}),kd}var QT=XT(),lv=mb(QT),cv=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Nd=1,Kr=8;class df{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[s,r]=new Uint8Array(t,0,2);if(s!==219)throw new Error("Data does not appear to be in a KDBush format.");var c=r>>4;if(c!==Nd)throw new Error("Got v".concat(c," data when expected v").concat(Nd,"."));var d=cv[r&15];if(!d)throw new Error("Unrecognized array type.");var[f]=new Uint16Array(t,2,1),[g]=new Uint32Array(t,4,1);return new df(g,f,d,t)}constructor(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,c=arguments.length>3?arguments[3]:void 0;if(isNaN(t)||t<0)throw new Error("Unpexpected numItems value: ".concat(t,"."));this.numItems=+t,this.nodeSize=Math.min(Math.max(+s,2),65535),this.ArrayType=r,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;var d=cv.indexOf(this.ArrayType),f=t*2*this.ArrayType.BYTES_PER_ELEMENT,g=t*this.IndexArrayType.BYTES_PER_ELEMENT,m=(8-g%8)%8;if(d<0)throw new Error("Unexpected typed array class: ".concat(r,"."));c&&c instanceof ArrayBuffer?(this.data=c,this.ids=new this.IndexArrayType(this.data,Kr,t),this.coords=new this.ArrayType(this.data,Kr+g+m,t*2),this._pos=t*2,this._finished=!0):(this.data=new ArrayBuffer(Kr+f+g+m),this.ids=new this.IndexArrayType(this.data,Kr,t),this.coords=new this.ArrayType(this.data,Kr+g+m,t*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(Nd<<4)+d]),new Uint16Array(this.data,2,1)[0]=s,new Uint32Array(this.data,4,1)[0]=t)}add(t,s){var r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=t,this.coords[this._pos++]=s,r}finish(){var t=this._pos>>1;if(t!==this.numItems)throw new Error("Added ".concat(t," items when expected ").concat(this.numItems,"."));return Vd(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,s,r,c){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:d,coords:f,nodeSize:g}=this,m=[0,d.length-1,0],y=[];m.length;){var v=m.pop()||0,w=m.pop()||0,L=m.pop()||0;if(w-L<=g){for(var A=L;A<=w;A++){var C=f[2*A],M=f[2*A+1];C>=t&&C<=r&&M>=s&&M<=c&&y.push(d[A])}continue}var R=L+w>>1,K=f[2*R],Y=f[2*R+1];K>=t&&K<=r&&Y>=s&&Y<=c&&y.push(d[R]),(v===0?t<=K:s<=Y)&&(m.push(L),m.push(R-1),m.push(1-v)),(v===0?r>=K:c>=Y)&&(m.push(R+1),m.push(w),m.push(1-v))}return y}within(t,s,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:c,coords:d,nodeSize:f}=this,g=[0,c.length-1,0],m=[],y=r*r;g.length;){var v=g.pop()||0,w=g.pop()||0,L=g.pop()||0;if(w-L<=f){for(var A=L;A<=w;A++)uv(d[2*A],d[2*A+1],t,s)<=y&&m.push(c[A]);continue}var C=L+w>>1,M=d[2*C],R=d[2*C+1];uv(M,R,t,s)<=y&&m.push(c[C]),(v===0?t-r<=M:s-r<=R)&&(g.push(L),g.push(C-1),g.push(1-v)),(v===0?t+r>=M:s+r>=R)&&(g.push(C+1),g.push(w),g.push(1-v))}return m}}function Vd(a,t,s,r,c,d){if(!(c-r<=s)){var f=r+c>>1;Lb(a,t,f,r,c,d),Vd(a,t,s,r,f-1,1-d),Vd(a,t,s,f+1,c,1-d)}}function Lb(a,t,s,r,c,d){for(;c>r;){if(c-r>600){var f=c-r+1,g=s-r+1,m=Math.log(f),y=.5*Math.exp(2*m/3),v=.5*Math.sqrt(m*y*(f-y)/f)*(g-f/2<0?-1:1),w=Math.max(r,Math.floor(s-g*y/f+v)),L=Math.min(c,Math.floor(s+(f-g)*y/f+v));Lb(a,t,s,w,L,d)}var A=t[2*s+d],C=r,M=c;for(Fr(a,t,r,s),t[2*c+d]>A&&Fr(a,t,r,c);C<M;){for(Fr(a,t,C,M),C++,M--;t[2*C+d]<A;)C++;for(;t[2*M+d]>A;)M--}t[2*r+d]===A?Fr(a,t,r,M):(M++,Fr(a,t,M,c)),M<=s&&(r=M+1),s<=M&&(c=M-1)}}function Fr(a,t,s,r){Dd(a,s,r),Dd(t,2*s,2*r),Dd(t,2*s+1,2*r+1)}function Dd(a,t,s){var r=a[t];a[t]=a[s],a[s]=r}function uv(a,t,s,r){var c=a-s,d=t-r;return c*c+d*d}var JT={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:a=>a},dv=Math.fround||(a=>t=>(a[0]=+t,a[0]))(new Float32Array(1)),za=2,ca=3,Id=4,la=5,_b=6;class $T{constructor(t){this.options=Object.assign(Object.create(JT),t),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(t){var{log:s,minZoom:r,maxZoom:c}=this.options;s&&console.time("total time");var d="prepare ".concat(t.length," points");s&&console.time(d),this.points=t;for(var f=[],g=0;g<t.length;g++){var m=t[g];if(m.geometry){var[y,v]=m.geometry.coordinates,w=dv(Nl(y)),L=dv(Dl(v));f.push(w,L,1/0,g,-1,1),this.options.reduce&&f.push(0)}}var A=this.trees[c+1]=this._createTree(f);s&&console.timeEnd(d);for(var C=c;C>=r;C--){var M=+Date.now();A=this.trees[C]=this._createTree(this._cluster(A,C)),s&&console.log("z%d: %d clusters in %dms",C,A.numItems,+Date.now()-M)}return s&&console.timeEnd("total time"),this}getClusters(t,s){var r=((t[0]+180)%360+360)%360-180,c=Math.max(-90,Math.min(90,t[1])),d=t[2]===180?180:((t[2]+180)%360+360)%360-180,f=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)r=-180,d=180;else if(r>d){var g=this.getClusters([r,c,180,f],s),m=this.getClusters([-180,c,d,f],s);return g.concat(m)}var y=this.trees[this._limitZoom(s)],v=y.range(Nl(r),Dl(f),Nl(d),Dl(c)),w=y.data,L=[];for(var A of v){var C=this.stride*A;L.push(w[C+la]>1?fv(w,C,this.clusterProps):this.points[w[C+ca]])}return L}getChildren(t){var s=this._getOriginId(t),r=this._getOriginZoom(t),c="No cluster with the specified id.",d=this.trees[r];if(!d)throw new Error(c);var f=d.data;if(s*this.stride>=f.length)throw new Error(c);var g=this.options.radius/(this.options.extent*Math.pow(2,r-1)),m=f[s*this.stride],y=f[s*this.stride+1],v=d.within(m,y,g),w=[];for(var L of v){var A=L*this.stride;f[A+Id]===t&&w.push(f[A+la]>1?fv(f,A,this.clusterProps):this.points[f[A+ca]])}if(w.length===0)throw new Error(c);return w}getLeaves(t,s,r){s=s||10,r=r||0;var c=[];return this._appendLeaves(c,t,s,r,0),c}getTile(t,s,r){var c=this.trees[this._limitZoom(t)],d=Math.pow(2,t),{extent:f,radius:g}=this.options,m=g/f,y=(r-m)/d,v=(r+1+m)/d,w={features:[]};return this._addTileFeatures(c.range((s-m)/d,y,(s+1+m)/d,v),c.data,s,r,d,w),s===0&&this._addTileFeatures(c.range(1-m/d,y,1,v),c.data,d,r,d,w),s===d-1&&this._addTileFeatures(c.range(0,y,m/d,v),c.data,-1,r,d,w),w.features.length?w:null}getClusterExpansionZoom(t){for(var s=this._getOriginZoom(t)-1;s<=this.options.maxZoom;){var r=this.getChildren(t);if(s++,r.length!==1)break;t=r[0].properties.cluster_id}return s}_appendLeaves(t,s,r,c,d){var f=this.getChildren(s);for(var g of f){var m=g.properties;if(m&&m.cluster?d+m.point_count<=c?d+=m.point_count:d=this._appendLeaves(t,m.cluster_id,r,c,d):d<c?d++:t.push(g),t.length===r)break}return d}_createTree(t){for(var s=new df(t.length/this.stride|0,this.options.nodeSize,Float32Array),r=0;r<t.length;r+=this.stride)s.add(t[r],t[r+1]);return s.finish(),s.data=t,s}_addTileFeatures(t,s,r,c,d,f){for(var g of t){var m=g*this.stride,y=s[m+la]>1,v=void 0,w=void 0,L=void 0;if(y)v=Cb(s,m,this.clusterProps),w=s[m],L=s[m+1];else{var A=this.points[s[m+ca]];v=A.properties;var[C,M]=A.geometry.coordinates;w=Nl(C),L=Dl(M)}var R={type:1,geometry:[[Math.round(this.options.extent*(w*d-r)),Math.round(this.options.extent*(L*d-c))]],tags:v},K=void 0;y||this.options.generateId?K=s[m+ca]:K=this.points[s[m+ca]].id,K!==void 0&&(R.id=K),f.features.push(R)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(Math.floor(+t),this.options.maxZoom+1))}_cluster(t,s){for(var{radius:r,extent:c,reduce:d,minPoints:f}=this.options,g=r/(c*Math.pow(2,s)),m=t.data,y=[],v=this.stride,w=0;w<m.length;w+=v)if(!(m[w+za]<=s)){m[w+za]=s;var L=m[w],A=m[w+1],C=t.within(m[w],m[w+1],g),M=m[w+la],R=M;for(var K of C){var Y=K*v;m[Y+za]>s&&(R+=m[Y+la])}if(R>M&&R>=f){var X=L*M,j=A*M,I=void 0,B=-1,F=((w/v|0)<<5)+(s+1)+this.points.length;for(var ne of C){var H=ne*v;if(!(m[H+za]<=s)){m[H+za]=s;var ce=m[H+la];X+=m[H]*ce,j+=m[H+1]*ce,m[H+Id]=F,d&&(I||(I=this._map(m,w,!0),B=this.clusterProps.length,this.clusterProps.push(I)),d(I,this._map(m,H)))}}m[w+Id]=F,y.push(X/R,j/R,1/0,F,-1,R),d&&y.push(B)}else{for(var ue=0;ue<v;ue++)y.push(m[w+ue]);if(R>1)for(var te of C){var de=te*v;if(!(m[de+za]<=s)){m[de+za]=s;for(var pe=0;pe<v;pe++)y.push(m[de+pe])}}}}return y}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,s,r){if(t[s+la]>1){var c=this.clusterProps[t[s+_b]];return r?Object.assign({},c):c}var d=this.points[t[s+ca]].properties,f=this.options.map(d);return r&&f===d?Object.assign({},f):f}}function fv(a,t,s){return{type:"Feature",id:a[t+ca],properties:Cb(a,t,s),geometry:{type:"Point",coordinates:[ex(a[t]),tx(a[t+1])]}}}function Cb(a,t,s){var r=a[t+la],c=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,d=a[t+_b],f=d===-1?{}:Object.assign({},s[d]);return Object.assign(f,{cluster:!0,cluster_id:a[t+ca],point_count:r,point_count_abbreviated:c})}function Nl(a){return a/360+.5}function Dl(a){var t=Math.sin(a*Math.PI/180),s=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return s<0?0:s>1?1:s}function ex(a){return(a-.5)*360}function tx(a){var t=(180-a*360)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function nx(a,t){var s={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&t.indexOf(r)<0&&(s[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,r=Object.getOwnPropertySymbols(a);c<r.length;c++)t.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(a,r[c])&&(s[r[c]]=a[r[c]]);return s}class un{static isAdvancedMarkerAvailable(t){return google.maps.marker&&t.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(t){return google.maps.marker&&t instanceof google.maps.marker.AdvancedMarkerElement}static setMap(t,s){this.isAdvancedMarker(t)?t.map=s:t.setMap(s)}static getPosition(t){if(this.isAdvancedMarker(t)){if(t.position){if(t.position instanceof google.maps.LatLng)return t.position;if(t.position.lat&&t.position.lng)return new google.maps.LatLng(t.position.lat,t.position.lng)}return new google.maps.LatLng(null)}return t.getPosition()}static getVisible(t){return this.isAdvancedMarker(t)?!0:t.getVisible()}}class qd{constructor(t){var{markers:s,position:r}=t;this.markers=s,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(!(this.markers.length===0&&!this._position)){var t=new google.maps.LatLngBounds(this._position,this._position);for(var s of this.markers)t.extend(un.getPosition(s));return t}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(t=>un.getVisible(t)).length}push(t){this.markers.push(t)}delete(){this.marker&&(un.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class ix{constructor(t){var{maxZoom:s=16}=t;this.maxZoom=s}noop(t){var{markers:s}=t;return ax(s)}}var ax=a=>{var t=a.map(s=>new qd({position:un.getPosition(s),markers:[s]}));return t};class sx extends ix{constructor(t){var{maxZoom:s,radius:r=60}=t,c=nx(t,["maxZoom","radius"]);super({maxZoom:s}),this.state={zoom:-1},this.superCluster=new $T(Object.assign({maxZoom:this.maxZoom,radius:r},c))}calculate(t){var s=!1,r={zoom:t.map.getZoom()};if(!lv(t.markers,this.markers)){s=!0,this.markers=[...t.markers];var c=this.markers.map(d=>{var f=un.getPosition(d),g=[f.lng(),f.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:g},properties:{marker:d}}});this.superCluster.load(c)}return s||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(s=!lv(this.state,r)),this.state=r,s&&(this.clusters=this.cluster(t)),{clusters:this.clusters,changed:s}}cluster(t){var{map:s}=t;return this.superCluster.getClusters([-180,-90,180,90],Math.round(s.getZoom())).map(r=>this.transformCluster(r))}transformCluster(t){var{geometry:{coordinates:[s,r]},properties:c}=t;if(c.cluster)return new qd({markers:this.superCluster.getLeaves(c.cluster_id,1/0).map(f=>f.properties.marker),position:{lat:r,lng:s}});var d=c.marker;return new qd({markers:[d],position:un.getPosition(d)})}}class rx{constructor(t,s){this.markers={sum:t.length};var r=s.map(d=>d.count),c=r.reduce((d,f)=>d+f,0);this.clusters={count:s.length,markers:{mean:c/s.length,sum:c,min:Math.min(...r),max:Math.max(...r)}}}}class ox{render(t,s,r){var{count:c,position:d}=t,f=c>Math.max(10,s.clusters.markers.mean)?"#ff0000":"#0000ff",g='<svg fill="'.concat(f,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(c,`</text>
</svg>`),m="Cluster of ".concat(c," markers"),y=Number(google.maps.Marker.MAX_ZINDEX)+c;if(un.isAdvancedMarkerAvailable(r)){var v=new DOMParser,w=v.parseFromString(g,"image/svg+xml").documentElement;w.setAttribute("transform","translate(0 25)");var L={map:r,position:d,zIndex:y,title:m,content:w};return new google.maps.marker.AdvancedMarkerElement(L)}var A={position:d,zIndex:y,title:m,icon:{url:"data:image/svg+xml;base64,".concat(btoa(g)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(A)}}function lx(a,t){for(var s in t.prototype)a.prototype[s]=t.prototype[s]}class ff{constructor(){lx(ff,google.maps.OverlayView)}}var $r;(function(a){a.CLUSTERING_BEGIN="clusteringbegin",a.CLUSTERING_END="clusteringend",a.CLUSTER_CLICK="click"})($r||($r={}));var cx=(a,t,s)=>{s.fitBounds(t.bounds)};class ux extends ff{constructor(t){var{map:s,markers:r=[],algorithmOptions:c={},algorithm:d=new sx(c),renderer:f=new ox,onClusterClick:g=cx}=t;super(),this.markers=[...r],this.clusters=[],this.algorithm=d,this.renderer=f,this.onClusterClick=g,s&&this.setMap(s)}addMarker(t,s){this.markers.includes(t)||(this.markers.push(t),s||this.render())}addMarkers(t,s){t.forEach(r=>{this.addMarker(r,!0)}),s||this.render()}removeMarker(t,s){var r=this.markers.indexOf(t);return r===-1?!1:(un.setMap(t,null),this.markers.splice(r,1),s||this.render(),!0)}removeMarkers(t,s){var r=!1;return t.forEach(c=>{r=this.removeMarker(c,!0)||r}),r&&!s&&this.render(),r}clearMarkers(t){this.markers.length=0,t||this.render()}render(){var t=this.getMap();if(t instanceof google.maps.Map&&t.getProjection()){google.maps.event.trigger(this,$r.CLUSTERING_BEGIN,this);var{clusters:s,changed:r}=this.algorithm.calculate({markers:this.markers,map:t,mapCanvasProjection:this.getProjection()});if(r||r==null){var c=new Set;for(var d of s)d.markers.length==1&&c.add(d.markers[0]);var f=[];for(var g of this.clusters)g.marker!=null&&(g.markers.length==1?c.has(g.marker)||un.setMap(g.marker,null):f.push(g.marker));this.clusters=s,this.renderClusters(),requestAnimationFrame(()=>f.forEach(m=>un.setMap(m,null)))}google.maps.event.trigger(this,$r.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(t=>un.setMap(t,null)),this.clusters.forEach(t=>t.delete()),this.clusters=[]}renderClusters(){var t=new rx(this.markers,this.clusters),s=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,t,s),r.markers.forEach(c=>un.setMap(c,null)),this.onClusterClick&&r.marker.addListener("click",c=>{google.maps.event.trigger(this,$r.CLUSTER_CLICK,r),this.onClusterClick(c,r,s)})),un.setMap(r.marker,s)})}}function hv(a,t){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(a,c).enumerable})),s.push.apply(s,r)}return s}function pv(a){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?hv(Object(s),!0).forEach(function(r){G(a,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):hv(Object(s)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(s,r))})}return a}function dx(a){var t=iT(),[s,r]=h.useState(null);return h.useEffect(()=>{if(t&&s===null){var c=new ux(pv(pv({},a),{},{map:t}));r(c)}},[t]),s}function fx(a){var{children:t,options:s}=a,r=dx(s);return r!==null?t(r):null}h.memo(fx);var gv={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},mv={options(a,t){a.setOptions(t)},position(a,t){a.setPosition(t)},zIndex(a,t){a.setZIndex(t)}};function hx(a){var{children:t,anchor:s,options:r,position:c,zIndex:d,onCloseClick:f,onDomReady:g,onContentChanged:m,onPositionChanged:y,onZindexChanged:v,onLoad:w,onUnmount:L}=a,A=h.useContext(Ue),[C,M]=h.useState(null),[R,K]=h.useState(null),[Y,X]=h.useState(null),[j,I]=h.useState(null),[B,F]=h.useState(null),[ne,H]=h.useState(null),ce=h.useRef(null);return h.useEffect(()=>{C!==null&&(C.close(),s?C.open(A,s):C.getPosition()&&C.open(A))},[A,C,s]),h.useEffect(()=>{r&&C!==null&&C.setOptions(r)},[C,r]),h.useEffect(()=>{c&&C!==null&&C.setPosition(c)},[c]),h.useEffect(()=>{typeof d=="number"&&C!==null&&C.setZIndex(d)},[d]),h.useEffect(()=>{C&&f&&(R!==null&&google.maps.event.removeListener(R),K(google.maps.event.addListener(C,"closeclick",f)))},[f]),h.useEffect(()=>{C&&g&&(Y!==null&&google.maps.event.removeListener(Y),X(google.maps.event.addListener(C,"domready",g)))},[g]),h.useEffect(()=>{C&&m&&(j!==null&&google.maps.event.removeListener(j),I(google.maps.event.addListener(C,"content_changed",m)))},[m]),h.useEffect(()=>{C&&y&&(B!==null&&google.maps.event.removeListener(B),F(google.maps.event.addListener(C,"position_changed",y)))},[y]),h.useEffect(()=>{C&&v&&(ne!==null&&google.maps.event.removeListener(ne),H(google.maps.event.addListener(C,"zindex_changed",v)))},[v]),h.useEffect(()=>{var ue=new google.maps.InfoWindow(r);return M(ue),ce.current=document.createElement("div"),f&&K(google.maps.event.addListener(ue,"closeclick",f)),g&&X(google.maps.event.addListener(ue,"domready",g)),m&&I(google.maps.event.addListener(ue,"content_changed",m)),y&&F(google.maps.event.addListener(ue,"position_changed",y)),v&&H(google.maps.event.addListener(ue,"zindex_changed",v)),ue.setContent(ce.current),c&&ue.setPosition(c),d&&ue.setZIndex(d),s?ue.open(A,s):ue.getPosition()?ue.open(A):xt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),w&&w(ue),()=>{R&&google.maps.event.removeListener(R),j&&google.maps.event.removeListener(j),Y&&google.maps.event.removeListener(Y),B&&google.maps.event.removeListener(B),ne&&google.maps.event.removeListener(ne),L&&L(ue),ue.close()}},[]),ce.current?Zs.createPortal(h.Children.only(t),ce.current):null}h.memo(hx);class px extends h.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"containerElement",null),G(this,"state",{infoWindow:null}),G(this,"open",(t,s)=>{s?t.open(this.context,s):t.getPosition()?t.open(this.context):xt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),G(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var t=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=je({updaterMap:mv,eventMap:gv,prevProps:{},nextProps:this.props,instance:t}),this.setState(()=>({infoWindow:t}),this.setInfoWindowCallback)}componentDidUpdate(t){this.state.infoWindow!==null&&(Be(this.registeredEvents),this.registeredEvents=je({updaterMap:mv,eventMap:gv,prevProps:t,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(Be(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Zs.createPortal(h.Children.only(this.props.children),this.containerElement):null}}G(px,"contextType",Ue);function vv(a,t){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(a,c).enumerable})),s.push.apply(s,r)}return s}function Jl(a){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?vv(Object(s),!0).forEach(function(r){G(a,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):vv(Object(s)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(s,r))})}return a}var yv={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},bv={draggable(a,t){a.setDraggable(t)},editable(a,t){a.setEditable(t)},map(a,t){a.setMap(t)},options(a,t){a.setOptions(t)},path(a,t){a.setPath(t)},visible(a,t){a.setVisible(t)}},gx={};function mx(a){var{options:t,draggable:s,editable:r,visible:c,path:d,onDblClick:f,onDragEnd:g,onDragStart:m,onMouseDown:y,onMouseMove:v,onMouseOut:w,onMouseOver:L,onMouseUp:A,onRightClick:C,onClick:M,onDrag:R,onLoad:K,onUnmount:Y}=a,X=h.useContext(Ue),[j,I]=h.useState(null),[B,F]=h.useState(null),[ne,H]=h.useState(null),[ce,ue]=h.useState(null),[te,de]=h.useState(null),[pe,ve]=h.useState(null),[D,$]=h.useState(null),[se,fe]=h.useState(null),[ge,_e]=h.useState(null),[ye,oe]=h.useState(null),[x,S]=h.useState(null),[P,ae]=h.useState(null);return h.useEffect(()=>{j!==null&&j.setMap(X)},[X]),h.useEffect(()=>{typeof t<"u"&&j!==null&&j.setOptions(t)},[j,t]),h.useEffect(()=>{typeof s<"u"&&j!==null&&j.setDraggable(s)},[j,s]),h.useEffect(()=>{typeof r<"u"&&j!==null&&j.setEditable(r)},[j,r]),h.useEffect(()=>{typeof c<"u"&&j!==null&&j.setVisible(c)},[j,c]),h.useEffect(()=>{typeof d<"u"&&j!==null&&j.setPath(d)},[j,d]),h.useEffect(()=>{j&&f&&(B!==null&&google.maps.event.removeListener(B),F(google.maps.event.addListener(j,"dblclick",f)))},[f]),h.useEffect(()=>{j&&g&&(ne!==null&&google.maps.event.removeListener(ne),H(google.maps.event.addListener(j,"dragend",g)))},[g]),h.useEffect(()=>{j&&m&&(ce!==null&&google.maps.event.removeListener(ce),ue(google.maps.event.addListener(j,"dragstart",m)))},[m]),h.useEffect(()=>{j&&y&&(te!==null&&google.maps.event.removeListener(te),de(google.maps.event.addListener(j,"mousedown",y)))},[y]),h.useEffect(()=>{j&&v&&(pe!==null&&google.maps.event.removeListener(pe),ve(google.maps.event.addListener(j,"mousemove",v)))},[v]),h.useEffect(()=>{j&&w&&(D!==null&&google.maps.event.removeListener(D),$(google.maps.event.addListener(j,"mouseout",w)))},[w]),h.useEffect(()=>{j&&L&&(se!==null&&google.maps.event.removeListener(se),fe(google.maps.event.addListener(j,"mouseover",L)))},[L]),h.useEffect(()=>{j&&A&&(ge!==null&&google.maps.event.removeListener(ge),_e(google.maps.event.addListener(j,"mouseup",A)))},[A]),h.useEffect(()=>{j&&C&&(ye!==null&&google.maps.event.removeListener(ye),oe(google.maps.event.addListener(j,"rightclick",C)))},[C]),h.useEffect(()=>{j&&M&&(x!==null&&google.maps.event.removeListener(x),S(google.maps.event.addListener(j,"click",M)))},[M]),h.useEffect(()=>{j&&R&&(P!==null&&google.maps.event.removeListener(P),ae(google.maps.event.addListener(j,"drag",R)))},[R]),h.useEffect(()=>{var V=new google.maps.Polyline(Jl(Jl({},t||gx),{},{map:X}));return d&&V.setPath(d),typeof c<"u"&&V.setVisible(c),typeof r<"u"&&V.setEditable(r),typeof s<"u"&&V.setDraggable(s),f&&F(google.maps.event.addListener(V,"dblclick",f)),g&&H(google.maps.event.addListener(V,"dragend",g)),m&&ue(google.maps.event.addListener(V,"dragstart",m)),y&&de(google.maps.event.addListener(V,"mousedown",y)),v&&ve(google.maps.event.addListener(V,"mousemove",v)),w&&$(google.maps.event.addListener(V,"mouseout",w)),L&&fe(google.maps.event.addListener(V,"mouseover",L)),A&&_e(google.maps.event.addListener(V,"mouseup",A)),C&&oe(google.maps.event.addListener(V,"rightclick",C)),M&&S(google.maps.event.addListener(V,"click",M)),R&&ae(google.maps.event.addListener(V,"drag",R)),I(V),K&&K(V),()=>{B!==null&&google.maps.event.removeListener(B),ne!==null&&google.maps.event.removeListener(ne),ce!==null&&google.maps.event.removeListener(ce),te!==null&&google.maps.event.removeListener(te),pe!==null&&google.maps.event.removeListener(pe),D!==null&&google.maps.event.removeListener(D),se!==null&&google.maps.event.removeListener(se),ge!==null&&google.maps.event.removeListener(ge),ye!==null&&google.maps.event.removeListener(ye),x!==null&&google.maps.event.removeListener(x),Y&&Y(V),V.setMap(null)}},[]),null}h.memo(mx);class vx extends h.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"state",{polyline:null}),G(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var t=new google.maps.Polyline(Jl(Jl({},this.props.options),{},{map:this.context}));this.registeredEvents=je({updaterMap:bv,eventMap:yv,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{polyline:t}},this.setPolylineCallback)}componentDidUpdate(t){this.state.polyline!==null&&(Be(this.registeredEvents),this.registeredEvents=je({updaterMap:bv,eventMap:yv,prevProps:t,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Be(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}G(vx,"contextType",Ue);function Ev(a,t){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(a,c).enumerable})),s.push.apply(s,r)}return s}function wv(a){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Ev(Object(s),!0).forEach(function(r){G(a,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):Ev(Object(s)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(s,r))})}return a}var Sv={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Lv={draggable(a,t){a.setDraggable(t)},editable(a,t){a.setEditable(t)},map(a,t){a.setMap(t)},options(a,t){a.setOptions(t)},path(a,t){a.setPath(t)},paths(a,t){a.setPaths(t)},visible(a,t){a.setVisible(t)}};function yx(a){var{options:t,draggable:s,editable:r,visible:c,path:d,paths:f,onDblClick:g,onDragEnd:m,onDragStart:y,onMouseDown:v,onMouseMove:w,onMouseOut:L,onMouseOver:A,onMouseUp:C,onRightClick:M,onClick:R,onDrag:K,onLoad:Y,onUnmount:X,onEdit:j}=a,I=h.useContext(Ue),[B,F]=h.useState(null),[ne,H]=h.useState(null),[ce,ue]=h.useState(null),[te,de]=h.useState(null),[pe,ve]=h.useState(null),[D,$]=h.useState(null),[se,fe]=h.useState(null),[ge,_e]=h.useState(null),[ye,oe]=h.useState(null),[x,S]=h.useState(null),[P,ae]=h.useState(null),[V,ee]=h.useState(null);return h.useEffect(()=>{B!==null&&B.setMap(I)},[I]),h.useEffect(()=>{typeof t<"u"&&B!==null&&B.setOptions(t)},[B,t]),h.useEffect(()=>{typeof s<"u"&&B!==null&&B.setDraggable(s)},[B,s]),h.useEffect(()=>{typeof r<"u"&&B!==null&&B.setEditable(r)},[B,r]),h.useEffect(()=>{typeof c<"u"&&B!==null&&B.setVisible(c)},[B,c]),h.useEffect(()=>{typeof d<"u"&&B!==null&&B.setPath(d)},[B,d]),h.useEffect(()=>{typeof f<"u"&&B!==null&&B.setPaths(f)},[B,f]),h.useEffect(()=>{B&&typeof g=="function"&&(ne!==null&&google.maps.event.removeListener(ne),H(google.maps.event.addListener(B,"dblclick",g)))},[g]),h.useEffect(()=>{B&&(google.maps.event.addListener(B.getPath(),"insert_at",()=>{j==null||j(B)}),google.maps.event.addListener(B.getPath(),"set_at",()=>{j==null||j(B)}),google.maps.event.addListener(B.getPath(),"remove_at",()=>{j==null||j(B)}))},[B,j]),h.useEffect(()=>{B&&typeof m=="function"&&(ce!==null&&google.maps.event.removeListener(ce),ue(google.maps.event.addListener(B,"dragend",m)))},[m]),h.useEffect(()=>{B&&typeof y=="function"&&(te!==null&&google.maps.event.removeListener(te),de(google.maps.event.addListener(B,"dragstart",y)))},[y]),h.useEffect(()=>{B&&typeof v=="function"&&(pe!==null&&google.maps.event.removeListener(pe),ve(google.maps.event.addListener(B,"mousedown",v)))},[v]),h.useEffect(()=>{B&&typeof w=="function"&&(D!==null&&google.maps.event.removeListener(D),$(google.maps.event.addListener(B,"mousemove",w)))},[w]),h.useEffect(()=>{B&&typeof L=="function"&&(se!==null&&google.maps.event.removeListener(se),fe(google.maps.event.addListener(B,"mouseout",L)))},[L]),h.useEffect(()=>{B&&typeof A=="function"&&(ge!==null&&google.maps.event.removeListener(ge),_e(google.maps.event.addListener(B,"mouseover",A)))},[A]),h.useEffect(()=>{B&&typeof C=="function"&&(ye!==null&&google.maps.event.removeListener(ye),oe(google.maps.event.addListener(B,"mouseup",C)))},[C]),h.useEffect(()=>{B&&typeof M=="function"&&(x!==null&&google.maps.event.removeListener(x),S(google.maps.event.addListener(B,"rightclick",M)))},[M]),h.useEffect(()=>{B&&typeof R=="function"&&(P!==null&&google.maps.event.removeListener(P),ae(google.maps.event.addListener(B,"click",R)))},[R]),h.useEffect(()=>{B&&typeof K=="function"&&(V!==null&&google.maps.event.removeListener(V),ee(google.maps.event.addListener(B,"drag",K)))},[K]),h.useEffect(()=>{var J=new google.maps.Polygon(wv(wv({},t),{},{map:I}));return d&&J.setPath(d),f&&J.setPaths(f),typeof c<"u"&&J.setVisible(c),typeof r<"u"&&J.setEditable(r),typeof s<"u"&&J.setDraggable(s),g&&H(google.maps.event.addListener(J,"dblclick",g)),m&&ue(google.maps.event.addListener(J,"dragend",m)),y&&de(google.maps.event.addListener(J,"dragstart",y)),v&&ve(google.maps.event.addListener(J,"mousedown",v)),w&&$(google.maps.event.addListener(J,"mousemove",w)),L&&fe(google.maps.event.addListener(J,"mouseout",L)),A&&_e(google.maps.event.addListener(J,"mouseover",A)),C&&oe(google.maps.event.addListener(J,"mouseup",C)),M&&S(google.maps.event.addListener(J,"rightclick",M)),R&&ae(google.maps.event.addListener(J,"click",R)),K&&ee(google.maps.event.addListener(J,"drag",K)),F(J),Y&&Y(J),()=>{ne!==null&&google.maps.event.removeListener(ne),ce!==null&&google.maps.event.removeListener(ce),te!==null&&google.maps.event.removeListener(te),pe!==null&&google.maps.event.removeListener(pe),D!==null&&google.maps.event.removeListener(D),se!==null&&google.maps.event.removeListener(se),ge!==null&&google.maps.event.removeListener(ge),ye!==null&&google.maps.event.removeListener(ye),x!==null&&google.maps.event.removeListener(x),P!==null&&google.maps.event.removeListener(P),X&&X(J),J.setMap(null)}},[]),null}h.memo(yx);class bx extends h.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[])}componentDidMount(){var t=this.props.options||{};this.polygon=new google.maps.Polygon(t),this.polygon.setMap(this.context),this.registeredEvents=je({updaterMap:Lv,eventMap:Sv,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(t){this.polygon&&(Be(this.registeredEvents),this.registeredEvents=je({updaterMap:Lv,eventMap:Sv,prevProps:t,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),Be(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}G(bx,"contextType",Ue);function _v(a,t){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(a,c).enumerable})),s.push.apply(s,r)}return s}function $l(a){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?_v(Object(s),!0).forEach(function(r){G(a,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):_v(Object(s)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(s,r))})}return a}var Cv={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Tv={bounds(a,t){a.setBounds(t)},draggable(a,t){a.setDraggable(t)},editable(a,t){a.setEditable(t)},map(a,t){a.setMap(t)},options(a,t){a.setOptions(t)},visible(a,t){a.setVisible(t)}};function Ex(a){var{options:t,bounds:s,draggable:r,editable:c,visible:d,onDblClick:f,onDragEnd:g,onDragStart:m,onMouseDown:y,onMouseMove:v,onMouseOut:w,onMouseOver:L,onMouseUp:A,onRightClick:C,onClick:M,onDrag:R,onBoundsChanged:K,onLoad:Y,onUnmount:X}=a,j=h.useContext(Ue),[I,B]=h.useState(null),[F,ne]=h.useState(null),[H,ce]=h.useState(null),[ue,te]=h.useState(null),[de,pe]=h.useState(null),[ve,D]=h.useState(null),[$,se]=h.useState(null),[fe,ge]=h.useState(null),[_e,ye]=h.useState(null),[oe,x]=h.useState(null),[S,P]=h.useState(null),[ae,V]=h.useState(null),[ee,J]=h.useState(null);return h.useEffect(()=>{I!==null&&I.setMap(j)},[j]),h.useEffect(()=>{typeof t<"u"&&I!==null&&I.setOptions(t)},[I,t]),h.useEffect(()=>{typeof r<"u"&&I!==null&&I.setDraggable(r)},[I,r]),h.useEffect(()=>{typeof c<"u"&&I!==null&&I.setEditable(c)},[I,c]),h.useEffect(()=>{typeof d<"u"&&I!==null&&I.setVisible(d)},[I,d]),h.useEffect(()=>{typeof s<"u"&&I!==null&&I.setBounds(s)},[I,s]),h.useEffect(()=>{I&&f&&(F!==null&&google.maps.event.removeListener(F),ne(google.maps.event.addListener(I,"dblclick",f)))},[f]),h.useEffect(()=>{I&&g&&(H!==null&&google.maps.event.removeListener(H),ce(google.maps.event.addListener(I,"dragend",g)))},[g]),h.useEffect(()=>{I&&m&&(ue!==null&&google.maps.event.removeListener(ue),te(google.maps.event.addListener(I,"dragstart",m)))},[m]),h.useEffect(()=>{I&&y&&(de!==null&&google.maps.event.removeListener(de),pe(google.maps.event.addListener(I,"mousedown",y)))},[y]),h.useEffect(()=>{I&&v&&(ve!==null&&google.maps.event.removeListener(ve),D(google.maps.event.addListener(I,"mousemove",v)))},[v]),h.useEffect(()=>{I&&w&&($!==null&&google.maps.event.removeListener($),se(google.maps.event.addListener(I,"mouseout",w)))},[w]),h.useEffect(()=>{I&&L&&(fe!==null&&google.maps.event.removeListener(fe),ge(google.maps.event.addListener(I,"mouseover",L)))},[L]),h.useEffect(()=>{I&&A&&(_e!==null&&google.maps.event.removeListener(_e),ye(google.maps.event.addListener(I,"mouseup",A)))},[A]),h.useEffect(()=>{I&&C&&(oe!==null&&google.maps.event.removeListener(oe),x(google.maps.event.addListener(I,"rightclick",C)))},[C]),h.useEffect(()=>{I&&M&&(S!==null&&google.maps.event.removeListener(S),P(google.maps.event.addListener(I,"click",M)))},[M]),h.useEffect(()=>{I&&R&&(ae!==null&&google.maps.event.removeListener(ae),V(google.maps.event.addListener(I,"drag",R)))},[R]),h.useEffect(()=>{I&&K&&(ee!==null&&google.maps.event.removeListener(ee),J(google.maps.event.addListener(I,"bounds_changed",K)))},[K]),h.useEffect(()=>{var le=new google.maps.Rectangle($l($l({},t),{},{map:j}));return typeof d<"u"&&le.setVisible(d),typeof c<"u"&&le.setEditable(c),typeof r<"u"&&le.setDraggable(r),typeof s<"u"&&le.setBounds(s),f&&ne(google.maps.event.addListener(le,"dblclick",f)),g&&ce(google.maps.event.addListener(le,"dragend",g)),m&&te(google.maps.event.addListener(le,"dragstart",m)),y&&pe(google.maps.event.addListener(le,"mousedown",y)),v&&D(google.maps.event.addListener(le,"mousemove",v)),w&&se(google.maps.event.addListener(le,"mouseout",w)),L&&ge(google.maps.event.addListener(le,"mouseover",L)),A&&ye(google.maps.event.addListener(le,"mouseup",A)),C&&x(google.maps.event.addListener(le,"rightclick",C)),M&&P(google.maps.event.addListener(le,"click",M)),R&&V(google.maps.event.addListener(le,"drag",R)),K&&J(google.maps.event.addListener(le,"bounds_changed",K)),B(le),Y&&Y(le),()=>{F!==null&&google.maps.event.removeListener(F),H!==null&&google.maps.event.removeListener(H),ue!==null&&google.maps.event.removeListener(ue),de!==null&&google.maps.event.removeListener(de),ve!==null&&google.maps.event.removeListener(ve),$!==null&&google.maps.event.removeListener($),fe!==null&&google.maps.event.removeListener(fe),_e!==null&&google.maps.event.removeListener(_e),oe!==null&&google.maps.event.removeListener(oe),S!==null&&google.maps.event.removeListener(S),ae!==null&&google.maps.event.removeListener(ae),ee!==null&&google.maps.event.removeListener(ee),X&&X(le),le.setMap(null)}},[]),null}h.memo(Ex);class wx extends h.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"state",{rectangle:null}),G(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var t=new google.maps.Rectangle($l($l({},this.props.options),{},{map:this.context}));this.registeredEvents=je({updaterMap:Tv,eventMap:Cv,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{rectangle:t}},this.setRectangleCallback)}componentDidUpdate(t){this.state.rectangle!==null&&(Be(this.registeredEvents),this.registeredEvents=je({updaterMap:Tv,eventMap:Cv,prevProps:t,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Be(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}G(wx,"contextType",Ue);function xv(a,t){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(a,c).enumerable})),s.push.apply(s,r)}return s}function ec(a){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?xv(Object(s),!0).forEach(function(r){G(a,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):xv(Object(s)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(s,r))})}return a}var Av={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Ov={center(a,t){a.setCenter(t)},draggable(a,t){a.setDraggable(t)},editable(a,t){a.setEditable(t)},map(a,t){a.setMap(t)},options(a,t){a.setOptions(t)},radius(a,t){a.setRadius(t)},visible(a,t){a.setVisible(t)}},Sx={};function Lx(a){var{options:t,center:s,radius:r,draggable:c,editable:d,visible:f,onDblClick:g,onDragEnd:m,onDragStart:y,onMouseDown:v,onMouseMove:w,onMouseOut:L,onMouseOver:A,onMouseUp:C,onRightClick:M,onClick:R,onDrag:K,onCenterChanged:Y,onRadiusChanged:X,onLoad:j,onUnmount:I}=a,B=h.useContext(Ue),[F,ne]=h.useState(null),[H,ce]=h.useState(null),[ue,te]=h.useState(null),[de,pe]=h.useState(null),[ve,D]=h.useState(null),[$,se]=h.useState(null),[fe,ge]=h.useState(null),[_e,ye]=h.useState(null),[oe,x]=h.useState(null),[S,P]=h.useState(null),[ae,V]=h.useState(null),[ee,J]=h.useState(null),[le,we]=h.useState(null),[Re,ke]=h.useState(null);return h.useEffect(()=>{F!==null&&F.setMap(B)},[B]),h.useEffect(()=>{typeof t<"u"&&F!==null&&F.setOptions(t)},[F,t]),h.useEffect(()=>{typeof c<"u"&&F!==null&&F.setDraggable(c)},[F,c]),h.useEffect(()=>{typeof d<"u"&&F!==null&&F.setEditable(d)},[F,d]),h.useEffect(()=>{typeof f<"u"&&F!==null&&F.setVisible(f)},[F,f]),h.useEffect(()=>{typeof r=="number"&&F!==null&&F.setRadius(r)},[F,r]),h.useEffect(()=>{typeof s<"u"&&F!==null&&F.setCenter(s)},[F,s]),h.useEffect(()=>{F&&g&&(H!==null&&google.maps.event.removeListener(H),ce(google.maps.event.addListener(F,"dblclick",g)))},[g]),h.useEffect(()=>{F&&m&&(ue!==null&&google.maps.event.removeListener(ue),te(google.maps.event.addListener(F,"dragend",m)))},[m]),h.useEffect(()=>{F&&y&&(de!==null&&google.maps.event.removeListener(de),pe(google.maps.event.addListener(F,"dragstart",y)))},[y]),h.useEffect(()=>{F&&v&&(ve!==null&&google.maps.event.removeListener(ve),D(google.maps.event.addListener(F,"mousedown",v)))},[v]),h.useEffect(()=>{F&&w&&($!==null&&google.maps.event.removeListener($),se(google.maps.event.addListener(F,"mousemove",w)))},[w]),h.useEffect(()=>{F&&L&&(fe!==null&&google.maps.event.removeListener(fe),ge(google.maps.event.addListener(F,"mouseout",L)))},[L]),h.useEffect(()=>{F&&A&&(_e!==null&&google.maps.event.removeListener(_e),ye(google.maps.event.addListener(F,"mouseover",A)))},[A]),h.useEffect(()=>{F&&C&&(oe!==null&&google.maps.event.removeListener(oe),x(google.maps.event.addListener(F,"mouseup",C)))},[C]),h.useEffect(()=>{F&&M&&(S!==null&&google.maps.event.removeListener(S),P(google.maps.event.addListener(F,"rightclick",M)))},[M]),h.useEffect(()=>{F&&R&&(ae!==null&&google.maps.event.removeListener(ae),V(google.maps.event.addListener(F,"click",R)))},[R]),h.useEffect(()=>{F&&K&&(ee!==null&&google.maps.event.removeListener(ee),J(google.maps.event.addListener(F,"drag",K)))},[K]),h.useEffect(()=>{F&&Y&&(le!==null&&google.maps.event.removeListener(le),we(google.maps.event.addListener(F,"center_changed",Y)))},[R]),h.useEffect(()=>{F&&X&&(Re!==null&&google.maps.event.removeListener(Re),ke(google.maps.event.addListener(F,"radius_changed",X)))},[X]),h.useEffect(()=>{var be=new google.maps.Circle(ec(ec({},t||Sx),{},{map:B}));return typeof r=="number"&&be.setRadius(r),typeof s<"u"&&be.setCenter(s),typeof r=="number"&&be.setRadius(r),typeof f<"u"&&be.setVisible(f),typeof d<"u"&&be.setEditable(d),typeof c<"u"&&be.setDraggable(c),g&&ce(google.maps.event.addListener(be,"dblclick",g)),m&&te(google.maps.event.addListener(be,"dragend",m)),y&&pe(google.maps.event.addListener(be,"dragstart",y)),v&&D(google.maps.event.addListener(be,"mousedown",v)),w&&se(google.maps.event.addListener(be,"mousemove",w)),L&&ge(google.maps.event.addListener(be,"mouseout",L)),A&&ye(google.maps.event.addListener(be,"mouseover",A)),C&&x(google.maps.event.addListener(be,"mouseup",C)),M&&P(google.maps.event.addListener(be,"rightclick",M)),R&&V(google.maps.event.addListener(be,"click",R)),K&&J(google.maps.event.addListener(be,"drag",K)),Y&&we(google.maps.event.addListener(be,"center_changed",Y)),X&&ke(google.maps.event.addListener(be,"radius_changed",X)),ne(be),j&&j(be),()=>{H!==null&&google.maps.event.removeListener(H),ue!==null&&google.maps.event.removeListener(ue),de!==null&&google.maps.event.removeListener(de),ve!==null&&google.maps.event.removeListener(ve),$!==null&&google.maps.event.removeListener($),fe!==null&&google.maps.event.removeListener(fe),_e!==null&&google.maps.event.removeListener(_e),oe!==null&&google.maps.event.removeListener(oe),S!==null&&google.maps.event.removeListener(S),ae!==null&&google.maps.event.removeListener(ae),le!==null&&google.maps.event.removeListener(le),Re!==null&&google.maps.event.removeListener(Re),I&&I(be),be.setMap(null)}},[]),null}h.memo(Lx);class _x extends h.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"state",{circle:null}),G(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var t=new google.maps.Circle(ec(ec({},this.props.options),{},{map:this.context}));this.registeredEvents=je({updaterMap:Ov,eventMap:Av,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{circle:t}},this.setCircleCallback)}componentDidUpdate(t){this.state.circle!==null&&(Be(this.registeredEvents),this.registeredEvents=je({updaterMap:Ov,eventMap:Av,prevProps:t,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var t;this.props.onUnmount&&this.props.onUnmount(this.state.circle),Be(this.registeredEvents),(t=this.state.circle)===null||t===void 0||t.setMap(null)}}render(){return null}}G(_x,"contextType",Ue);function Mv(a,t){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(a,c).enumerable})),s.push.apply(s,r)}return s}function tc(a){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Mv(Object(s),!0).forEach(function(r){G(a,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):Mv(Object(s)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(s,r))})}return a}var Rv={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},kv={add(a,t){a.add(t)},addgeojson(a,t,s){a.addGeoJson(t,s)},contains(a,t){a.contains(t)},foreach(a,t){a.forEach(t)},loadgeojson(a,t,s,r){a.loadGeoJson(t,s,r)},overridestyle(a,t,s){a.overrideStyle(t,s)},remove(a,t){a.remove(t)},revertstyle(a,t){a.revertStyle(t)},controlposition(a,t){a.setControlPosition(t)},controls(a,t){a.setControls(t)},drawingmode(a,t){a.setDrawingMode(t)},map(a,t){a.setMap(t)},style(a,t){a.setStyle(t)},togeojson(a,t){a.toGeoJson(t)}};function Cx(a){var{options:t,onClick:s,onDblClick:r,onMouseDown:c,onMouseMove:d,onMouseOut:f,onMouseOver:g,onMouseUp:m,onRightClick:y,onAddFeature:v,onRemoveFeature:w,onRemoveProperty:L,onSetGeometry:A,onSetProperty:C,onLoad:M,onUnmount:R}=a,K=h.useContext(Ue),[Y,X]=h.useState(null),[j,I]=h.useState(null),[B,F]=h.useState(null),[ne,H]=h.useState(null),[ce,ue]=h.useState(null),[te,de]=h.useState(null),[pe,ve]=h.useState(null),[D,$]=h.useState(null),[se,fe]=h.useState(null),[ge,_e]=h.useState(null),[ye,oe]=h.useState(null),[x,S]=h.useState(null),[P,ae]=h.useState(null),[V,ee]=h.useState(null);return h.useEffect(()=>{Y!==null&&Y.setMap(K)},[K]),h.useEffect(()=>{Y&&r&&(j!==null&&google.maps.event.removeListener(j),I(google.maps.event.addListener(Y,"dblclick",r)))},[r]),h.useEffect(()=>{Y&&c&&(B!==null&&google.maps.event.removeListener(B),F(google.maps.event.addListener(Y,"mousedown",c)))},[c]),h.useEffect(()=>{Y&&d&&(ne!==null&&google.maps.event.removeListener(ne),H(google.maps.event.addListener(Y,"mousemove",d)))},[d]),h.useEffect(()=>{Y&&f&&(ce!==null&&google.maps.event.removeListener(ce),ue(google.maps.event.addListener(Y,"mouseout",f)))},[f]),h.useEffect(()=>{Y&&g&&(te!==null&&google.maps.event.removeListener(te),de(google.maps.event.addListener(Y,"mouseover",g)))},[g]),h.useEffect(()=>{Y&&m&&(pe!==null&&google.maps.event.removeListener(pe),ve(google.maps.event.addListener(Y,"mouseup",m)))},[m]),h.useEffect(()=>{Y&&y&&(D!==null&&google.maps.event.removeListener(D),$(google.maps.event.addListener(Y,"rightclick",y)))},[y]),h.useEffect(()=>{Y&&s&&(se!==null&&google.maps.event.removeListener(se),fe(google.maps.event.addListener(Y,"click",s)))},[s]),h.useEffect(()=>{Y&&v&&(ge!==null&&google.maps.event.removeListener(ge),_e(google.maps.event.addListener(Y,"addfeature",v)))},[v]),h.useEffect(()=>{Y&&w&&(ye!==null&&google.maps.event.removeListener(ye),oe(google.maps.event.addListener(Y,"removefeature",w)))},[w]),h.useEffect(()=>{Y&&L&&(x!==null&&google.maps.event.removeListener(x),S(google.maps.event.addListener(Y,"removeproperty",L)))},[L]),h.useEffect(()=>{Y&&A&&(P!==null&&google.maps.event.removeListener(P),ae(google.maps.event.addListener(Y,"setgeometry",A)))},[A]),h.useEffect(()=>{Y&&C&&(V!==null&&google.maps.event.removeListener(V),ee(google.maps.event.addListener(Y,"setproperty",C)))},[C]),h.useEffect(()=>{if(K!==null){var J=new google.maps.Data(tc(tc({},t),{},{map:K}));r&&I(google.maps.event.addListener(J,"dblclick",r)),c&&F(google.maps.event.addListener(J,"mousedown",c)),d&&H(google.maps.event.addListener(J,"mousemove",d)),f&&ue(google.maps.event.addListener(J,"mouseout",f)),g&&de(google.maps.event.addListener(J,"mouseover",g)),m&&ve(google.maps.event.addListener(J,"mouseup",m)),y&&$(google.maps.event.addListener(J,"rightclick",y)),s&&fe(google.maps.event.addListener(J,"click",s)),v&&_e(google.maps.event.addListener(J,"addfeature",v)),w&&oe(google.maps.event.addListener(J,"removefeature",w)),L&&S(google.maps.event.addListener(J,"removeproperty",L)),A&&ae(google.maps.event.addListener(J,"setgeometry",A)),C&&ee(google.maps.event.addListener(J,"setproperty",C)),X(J),M&&M(J)}return()=>{Y&&(j!==null&&google.maps.event.removeListener(j),B!==null&&google.maps.event.removeListener(B),ne!==null&&google.maps.event.removeListener(ne),ce!==null&&google.maps.event.removeListener(ce),te!==null&&google.maps.event.removeListener(te),pe!==null&&google.maps.event.removeListener(pe),D!==null&&google.maps.event.removeListener(D),se!==null&&google.maps.event.removeListener(se),ge!==null&&google.maps.event.removeListener(ge),ye!==null&&google.maps.event.removeListener(ye),x!==null&&google.maps.event.removeListener(x),P!==null&&google.maps.event.removeListener(P),V!==null&&google.maps.event.removeListener(V),R&&R(Y),Y.setMap(null))}},[]),null}h.memo(Cx);class Tx extends h.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"state",{data:null}),G(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var t=new google.maps.Data(tc(tc({},this.props.options),{},{map:this.context}));this.registeredEvents=je({updaterMap:kv,eventMap:Rv,prevProps:{},nextProps:this.props,instance:t}),this.setState(()=>({data:t}),this.setDataCallback)}}componentDidUpdate(t){this.state.data!==null&&(Be(this.registeredEvents),this.registeredEvents=je({updaterMap:kv,eventMap:Rv,prevProps:t,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Be(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}G(Tx,"contextType",Ue);function Nv(a,t){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(a,c).enumerable})),s.push.apply(s,r)}return s}function Dv(a){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Nv(Object(s),!0).forEach(function(r){G(a,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):Nv(Object(s)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(s,r))})}return a}var Iv={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},Uv={options(a,t){a.setOptions(t)},url(a,t){a.setUrl(t)},zIndex(a,t){a.setZIndex(t)}};class xx extends h.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"state",{kmlLayer:null}),G(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var t=new google.maps.KmlLayer(Dv(Dv({},this.props.options),{},{map:this.context}));this.registeredEvents=je({updaterMap:Uv,eventMap:Iv,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{kmlLayer:t}},this.setKmlLayerCallback)}componentDidUpdate(t){this.state.kmlLayer!==null&&(Be(this.registeredEvents),this.registeredEvents=je({updaterMap:Uv,eventMap:Iv,prevProps:t,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Be(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}G(xx,"contextType",Ue);function Tb(a,t){return typeof t=="function"?t(a.offsetWidth,a.offsetHeight):{x:0,y:0}}function Ax(a,t){return new t(a.lat,a.lng)}function Ox(a,t){return new t(new google.maps.LatLng(a.ne.lat,a.ne.lng),new google.maps.LatLng(a.sw.lat,a.sw.lng))}function Mx(a,t,s){return a instanceof t?a:s(a,t)}function Rx(a,t,s){return a instanceof t?a:s(a,t)}function kx(a,t,s){var r=a&&a.fromLatLngToDivPixel(s.getNorthEast()),c=a&&a.fromLatLngToDivPixel(s.getSouthWest());return r&&c?{left:"".concat(c.x+t.x,"px"),top:"".concat(r.y+t.y,"px"),width:"".concat(r.x-c.x-t.x,"px"),height:"".concat(c.y-r.y-t.y,"px")}:{left:"-9999px",top:"-9999px"}}function Nx(a,t,s){var r=a&&a.fromLatLngToDivPixel(s);if(r){var{x:c,y:d}=r;return{left:"".concat(c+t.x,"px"),top:"".concat(d+t.y,"px")}}return{left:"-9999px",top:"-9999px"}}function xb(a,t,s,r){return s!==void 0?kx(a,t,Rx(s,google.maps.LatLngBounds,Ox)):Nx(a,t,Mx(r,google.maps.LatLng,Ax))}function Dx(a,t){return a.left===t.left&&a.top===t.top&&a.width===t.height&&a.height===t.height}function jv(a,t){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(a,c).enumerable})),s.push.apply(s,r)}return s}function Ix(a){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?jv(Object(s),!0).forEach(function(r){G(a,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):jv(Object(s)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(s,r))})}return a}function Ux(a,t,s,r,c){class d extends google.maps.OverlayView{constructor(g,m,y,v){super(),this.container=g,this.pane=m,this.position=y,this.bounds=v}onAdd(){var g,m=(g=this.getPanes())===null||g===void 0?void 0:g[this.pane];m==null||m.appendChild(this.container)}draw(){var g=this.getProjection(),m=Ix({},this.container?Tb(this.container,c):{x:0,y:0}),y=xb(g,m,this.bounds,this.position);for(var[v,w]of Object.entries(y))this.container.style[v]=w}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new d(a,t,s,r)}function Pv(a,t){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(a,c).enumerable})),s.push.apply(s,r)}return s}function jx(a){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Pv(Object(s),!0).forEach(function(r){G(a,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):Pv(Object(s)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(s,r))})}return a}function zv(a){if(!a)return"";var t=a instanceof google.maps.LatLng?a:new google.maps.LatLng(a.lat,a.lng);return t+""}function Bv(a){if(!a)return"";var t=a instanceof google.maps.LatLngBounds?a:new google.maps.LatLngBounds(new google.maps.LatLng(a.south,a.east),new google.maps.LatLng(a.north,a.west));return t+""}function Px(a){var{position:t,bounds:s,mapPaneName:r,zIndex:c,onLoad:d,onUnmount:f,getPixelPositionOffset:g,children:m}=a,y=h.useContext(Ue),v=h.useMemo(()=>{var L=document.createElement("div");return L.style.position="absolute",L},[]),w=h.useMemo(()=>Ux(v,r,t,s,g),[v,r,t,s]);return h.useEffect(()=>(d==null||d(w),w==null||w.setMap(y),()=>{f==null||f(w),w==null||w.setMap(null)}),[y,w]),h.useEffect(()=>{v.style.zIndex="".concat(c)},[c,v]),Zs.createPortal(m,v)}h.memo(Px);class Xs extends h.PureComponent{constructor(t){super(t),G(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),G(this,"updatePane",()=>{var r=this.props.mapPaneName,c=this.overlayView.getPanes();xt(!!r,"OverlayView requires props.mapPaneName but got %s",r),c?this.setState({paneEl:c[r]}):this.setState({paneEl:null})}),G(this,"onAdd",()=>{var r,c;this.updatePane(),(r=(c=this.props).onLoad)===null||r===void 0||r.call(c,this.overlayView)}),G(this,"onPositionElement",()=>{var r=this.overlayView.getProjection(),c=jx({x:0,y:0},this.containerRef.current?Tb(this.containerRef.current,this.props.getPixelPositionOffset):{}),d=xb(r,c,this.props.bounds,this.props.position);if(!Dx(d,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var f,g,m,y;this.setState({containerStyle:{top:(f=d.top)!==null&&f!==void 0?f:0,left:(g=d.left)!==null&&g!==void 0?g:0,width:(m=d.width)!==null&&m!==void 0?m:0,height:(y=d.height)!==null&&y!==void 0?y:0,position:"absolute"}})}}),G(this,"draw",()=>{this.onPositionElement()}),G(this,"onRemove",()=>{var r,c;this.setState(()=>({paneEl:null})),(r=(c=this.props).onUnmount)===null||r===void 0||r.call(c,this.overlayView)}),this.containerRef=h.createRef();var s=new google.maps.OverlayView;s.onAdd=this.onAdd,s.draw=this.draw,s.onRemove=this.onRemove,this.overlayView=s}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(t){var s=zv(t.position),r=zv(this.props.position),c=Bv(t.bounds),d=Bv(this.props.bounds);(s!==r||c!==d)&&this.overlayView.draw(),t.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var t=this.state.paneEl;return t?Zs.createPortal(E.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:h.Children.only(this.props.children)}),t):null}}G(Xs,"FLOAT_PANE","floatPane");G(Xs,"MAP_PANE","mapPane");G(Xs,"MARKER_LAYER","markerLayer");G(Xs,"OVERLAY_LAYER","overlayLayer");G(Xs,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");G(Xs,"contextType",Ue);function zx(){}function Hv(a,t){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(a,c).enumerable})),s.push.apply(s,r)}return s}function Gv(a){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Hv(Object(s),!0).forEach(function(r){G(a,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):Hv(Object(s)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(s,r))})}return a}var Vv={onDblClick:"dblclick",onClick:"click"},qv={opacity(a,t){a.setOpacity(t)}};function Bx(a){var{url:t,bounds:s,options:r,visible:c}=a,d=h.useContext(Ue),f=new google.maps.LatLngBounds(new google.maps.LatLng(s.south,s.west),new google.maps.LatLng(s.north,s.east)),g=h.useMemo(()=>new google.maps.GroundOverlay(t,f,r),[]);return h.useEffect(()=>{g!==null&&g.setMap(d)},[d]),h.useEffect(()=>{typeof t<"u"&&g!==null&&(g.set("url",t),g.setMap(d))},[g,t]),h.useEffect(()=>{typeof c<"u"&&g!==null&&g.setOpacity(c?1:0)},[g,c]),h.useEffect(()=>{var m=new google.maps.LatLngBounds(new google.maps.LatLng(s.south,s.west),new google.maps.LatLng(s.north,s.east));typeof s<"u"&&g!==null&&(g.set("bounds",m),g.setMap(d))},[g,s]),null}h.memo(Bx);class Ab extends h.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"state",{groundOverlay:null}),G(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){xt(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var t=new google.maps.GroundOverlay(this.props.url,this.props.bounds,Gv(Gv({},this.props.options),{},{map:this.context}));this.registeredEvents=je({updaterMap:qv,eventMap:Vv,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{groundOverlay:t}},this.setGroundOverlayCallback)}componentDidUpdate(t){this.state.groundOverlay!==null&&(Be(this.registeredEvents),this.registeredEvents=je({updaterMap:qv,eventMap:Vv,prevProps:t,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}G(Ab,"defaultProps",{onLoad:zx});G(Ab,"contextType",Ue);function Yv(a,t){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(a,c).enumerable})),s.push.apply(s,r)}return s}function nc(a){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Yv(Object(s),!0).forEach(function(r){G(a,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):Yv(Object(s)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(s,r))})}return a}var Zv={},Kv={data(a,t){a.setData(t)},map(a,t){a.setMap(t)},options(a,t){a.setOptions(t)}};function Hx(a){var{data:t,onLoad:s,onUnmount:r,options:c}=a,d=h.useContext(Ue),[f,g]=h.useState(null);return h.useEffect(()=>{google.maps.visualization||xt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),h.useEffect(()=>{xt(!!t,"data property is required in HeatmapLayer %s",t)},[t]),h.useEffect(()=>{f!==null&&f.setMap(d)},[d]),h.useEffect(()=>{c&&f!==null&&f.setOptions(c)},[f,c]),h.useEffect(()=>{var m=new google.maps.visualization.HeatmapLayer(nc(nc({},c),{},{data:t,map:d}));return g(m),s&&s(m),()=>{f!==null&&(r&&r(f),f.setMap(null))}},[]),null}h.memo(Hx);class Gx extends h.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"state",{heatmapLayer:null}),G(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){xt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),xt(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var t=new google.maps.visualization.HeatmapLayer(nc(nc({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=je({updaterMap:Kv,eventMap:Zv,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{heatmapLayer:t}},this.setHeatmapLayerCallback)}componentDidUpdate(t){Be(this.registeredEvents),this.registeredEvents=je({updaterMap:Kv,eventMap:Zv,prevProps:t,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Be(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}G(Gx,"contextType",Ue);var Fv={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},Wv={register(a,t,s){a.registerPanoProvider(t,s)},links(a,t){a.setLinks(t)},motionTracking(a,t){a.setMotionTracking(t)},options(a,t){a.setOptions(t)},pano(a,t){a.setPano(t)},position(a,t){a.setPosition(t)},pov(a,t){a.setPov(t)},visible(a,t){a.setVisible(t)},zoom(a,t){a.setZoom(t)}};class Vx extends h.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"state",{streetViewPanorama:null}),G(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var t,s,r=(t=(s=this.context)===null||s===void 0?void 0:s.getStreetView())!==null&&t!==void 0?t:null;this.registeredEvents=je({updaterMap:Wv,eventMap:Fv,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({streetViewPanorama:r}),this.setStreetViewPanoramaCallback)}componentDidUpdate(t){this.state.streetViewPanorama!==null&&(Be(this.registeredEvents),this.registeredEvents=je({updaterMap:Wv,eventMap:Fv,prevProps:t,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Be(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}G(Vx,"contextType",Ue);class qx extends h.PureComponent{constructor(){super(...arguments),G(this,"state",{streetViewService:null}),G(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var t=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:t}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}G(qx,"contextType",Ue);var Xv={onDirectionsChanged:"directions_changed"},Qv={directions(a,t){a.setDirections(t)},map(a,t){a.setMap(t)},options(a,t){a.setOptions(t)},panel(a,t){a.setPanel(t)},routeIndex(a,t){a.setRouteIndex(t)}};class Yx extends h.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"state",{directionsRenderer:null}),G(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var t=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=je({updaterMap:Qv,eventMap:Xv,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{directionsRenderer:t}},this.setDirectionsRendererCallback)}componentDidUpdate(t){this.state.directionsRenderer!==null&&(Be(this.registeredEvents),this.registeredEvents=je({updaterMap:Qv,eventMap:Xv,prevProps:t,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Be(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}G(Yx,"contextType",Ue);var Jv={onPlacesChanged:"places_changed"},$v={bounds(a,t){a.setBounds(t)}};class Zx extends h.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"containerElement",h.createRef()),G(this,"state",{searchBox:null}),G(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(xt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var t=this.containerElement.current.querySelector("input");if(t!==null){var s=new google.maps.places.SearchBox(t,this.props.options);this.registeredEvents=je({updaterMap:$v,eventMap:Jv,prevProps:{},nextProps:this.props,instance:s}),this.setState(function(){return{searchBox:s}},this.setSearchBoxCallback)}}}componentDidUpdate(t){this.state.searchBox!==null&&(Be(this.registeredEvents),this.registeredEvents=je({updaterMap:$v,eventMap:Jv,prevProps:t,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Be(this.registeredEvents))}render(){return E.jsx("div",{ref:this.containerElement,children:h.Children.only(this.props.children)})}}G(Zx,"contextType",Ue);var ey={onPlaceChanged:"place_changed"},ty={bounds(a,t){a.setBounds(t)},restrictions(a,t){a.setComponentRestrictions(t)},fields(a,t){a.setFields(t)},options(a,t){a.setOptions(t)},types(a,t){a.setTypes(t)}};class Ob extends h.PureComponent{constructor(){super(...arguments),G(this,"registeredEvents",[]),G(this,"containerElement",h.createRef()),G(this,"state",{autocomplete:null}),G(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var t;xt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var s=(t=this.containerElement.current)===null||t===void 0?void 0:t.querySelector("input");if(s){var r=new google.maps.places.Autocomplete(s,this.props.options);this.registeredEvents=je({updaterMap:ty,eventMap:ey,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({autocomplete:r}),this.setAutocompleteCallback)}}componentDidUpdate(t){Be(this.registeredEvents),this.registeredEvents=je({updaterMap:ty,eventMap:ey,prevProps:t,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&Be(this.registeredEvents)}render(){return E.jsx("div",{ref:this.containerElement,className:this.props.className,children:h.Children.only(this.props.children)})}}G(Ob,"defaultProps",{className:""});G(Ob,"contextType",Ue);var Oe=(a=>(a.ONBOARDING="ONBOARDING",a.LOGIN="LOGIN",a.REGISTER="REGISTER",a.RECOVER_PASSWORD="RECOVER_PASSWORD",a.RESET_PASSWORD="RESET_PASSWORD",a.WASHER_REGISTRATION="WASHER_REGISTRATION",a.CLIENT_HOME="CLIENT_HOME",a.CLIENT_VEHICLE="CLIENT_VEHICLE",a.CLIENT_DATE_TIME="CLIENT_DATE_TIME",a.CLIENT_ADDRESS="CLIENT_ADDRESS",a.CLIENT_SERVICE_SELECT="CLIENT_SERVICE_SELECT",a.CLIENT_CONDITION_CHECK="CLIENT_CONDITION_CHECK",a.CLIENT_PAYMENT="CLIENT_PAYMENT",a.CLIENT_PAYMENT_METHODS="CLIENT_PAYMENT_METHODS",a.CLIENT_CONFIRM="CLIENT_CONFIRM",a.CLIENT_BOOKINGS="CLIENT_BOOKINGS",a.CLIENT_PROFILE="CLIENT_PROFILE",a.CLIENT_RATING="CLIENT_RATING",a.CLIENT_GARAGE="CLIENT_GARAGE",a.CLIENT_REPORT_ISSUE="CLIENT_REPORT_ISSUE",a.CLIENT_TRACKING="CLIENT_TRACKING",a.WASHER_DASHBOARD="WASHER_DASHBOARD",a.WASHER_ORDER_QUEUE="WASHER_ORDER_QUEUE",a.WASHER_JOBS="WASHER_JOBS",a.WASHER_JOB_DETAILS="WASHER_JOB_DETAILS",a.WASHER_EARNINGS="WASHER_EARNINGS",a.WASHER_SETTINGS="WASHER_SETTINGS",a.WASHER_PROFILE="WASHER_PROFILE",a.ADMIN_DASHBOARD="ADMIN_DASHBOARD",a.ADMIN_TEAM="ADMIN_TEAM",a.ADMIN_ANALYTICS="ADMIN_ANALYTICS",a.ADMIN_CLIENTS="ADMIN_CLIENTS",a.ADMIN_PRICING="ADMIN_PRICING",a.ADMIN_PAYROLL="ADMIN_PAYROLL",a.ADMIN_DISCOUNTS="ADMIN_DISCOUNTS",a.ADMIN_FINANCIAL_REPORTS="ADMIN_FINANCIAL_REPORTS",a.ADMIN_WASHER_EARNINGS="ADMIN_WASHER_EARNINGS",a.ADMIN_WASHER_HISTORY="ADMIN_WASHER_HISTORY",a.ADMIN_APP_EARNINGS="ADMIN_APP_EARNINGS",a.ADMIN_TAX_REPORTS="ADMIN_TAX_REPORTS",a.ADMIN_SETTINGS="ADMIN_SETTINGS",a.ADMIN_ISSUES="ADMIN_ISSUES",a.ADMIN_SERVICE_AREA="ADMIN_SERVICE_AREA",a.ADMIN_QUOTES="ADMIN_QUOTES",a.NATIVE_TEST="NATIVE_TEST",a))(Oe||{});const Kx=({title:a,isOpen:t,onClose:s,content:r})=>t?E.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:E.jsxs("div",{className:"bg-surface-dark w-full max-w-2xl max-h-[85vh] rounded-2xl flex flex-col border border-white/10 shadow-2xl",children:[E.jsxs("div",{className:"p-5 border-b border-white/10 flex justify-between items-center bg-surface-dark rounded-t-2xl",children:[E.jsx("h2",{className:"text-xl font-bold text-white tracking-tight",children:a}),E.jsx("button",{onClick:s,className:"p-2 hover:bg-white/10 rounded-lg transition-colors text-slate-400 hover:text-white",children:E.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),E.jsx("div",{className:"flex-1 overflow-y-auto p-6 text-slate-300 text-sm leading-relaxed space-y-4 custom-scrollbar",children:r==="terms"?E.jsx(Fx,{}):E.jsx(Wx,{})}),E.jsx("div",{className:"p-5 border-t border-white/10 flex justify-end bg-surface-dark rounded-b-2xl",children:E.jsx("button",{onClick:s,className:"px-6 py-2.5 bg-primary text-black font-bold rounded-xl hover:bg-primary-dark transition-colors active:scale-[0.98]",children:"I Understand"})})]})}):null,Fx=()=>E.jsxs(E.Fragment,{children:[E.jsx("h3",{className:"text-white font-bold text-lg mb-2",children:"1. ACCEPTANCE OF TERMS"}),E.jsx("p",{children:'By accessing or using the My Carwash App service ("Service"), you agree to be bound by these Terms of Service ("Terms"). These Terms constitute a legally binding agreement between you and My Carwash App. IF YOU DO NOT AGREE TO THESE TERMS, YOU MAY NOT ACCESS OR USE THE SERVICE.'}),E.jsx("h3",{className:"text-white font-bold text-lg mb-2 mt-4",children:"2. SERVICE LIMITATIONS & LIABILITY"}),E.jsx("p",{className:"uppercase font-bold text-xs text-red-400 mb-1",children:"PLEASE READ CAREFULLY"}),E.jsx("p",{children:"TO THE MAXIMUM EXTENT PERMITTED BY APPLICABLE LAW, MY CARWASH APP AND ITS AFFILIATES, OFFICERS, EMPLOYEES, AGENTS, PARTNERS AND LICENSORS SHALL NOT BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL OR PUNITIVE DAMAGES, INCLUDING WITHOUT LIMITATION, LOSS OF PROFITS, DATA, USE, GOODWILL, OR OTHER INTANGIBLE LOSSES, RESULTING FROM YOUR ACCESS TO OR USE OF OR INABILITY TO ACCESS OR USE THE SERVICE."}),E.jsx("p",{className:"mt-2",children:"We are NOT responsible for:"}),E.jsxs("ul",{className:"list-disc pl-5 mt-1 space-y-1",children:[E.jsx("li",{children:"Pre-existing damage to vehicles, known or unknown."}),E.jsx("li",{children:"Damage caused by loose items left inside the vehicle."}),E.jsx("li",{children:"Mechanical malfunctions or electrical issues that occur during or after service."}),E.jsx("li",{children:"Damage to non-original equipment (aftermarket parts) or customized vehicle wraps/films."}),E.jsx("li",{children:"Loss of personal property left in the vehicle."})]}),E.jsx("h3",{className:"text-white font-bold text-lg mb-2 mt-4",children:"3. CANCELLATION & FEES"}),E.jsx("p",{children:"You acknowledge that time is reserved specifically for your appointment."}),E.jsxs("ul",{className:"list-disc pl-5 mt-1 space-y-1",children:[E.jsxs("li",{children:[E.jsx("strong",{children:"Cancellation Fee:"})," If an order is cancelled after a washer has been assigned, a cancellation fee of ",E.jsx("strong",{children:"$15.00"})," will be charged to compensate the washer for their time and travel."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Waiting Time:"})," We offer a 10-minute grace period upon arrival. If the washer is kept waiting beyond 10 minutes, a waiting fee of ",E.jsx("strong",{children:"$10.00"})," will be charged."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"No-Shows:"})," If we cannot access the vehicle or contact you after the grace period, it may be considered a cancellation subject to the fees above."]})]}),E.jsx("h3",{className:"text-white font-bold text-lg mb-2 mt-4",children:"4. INDEMNIFICATION"}),E.jsx("p",{children:"You agree to indemnify and hold My Carwash App harmless from any claim or demand, including reasonable attorneys' fees, made by any third party due to or arising out of your breach of these Terms or your violation of any law or the rights of a third party."}),E.jsx("h3",{className:"text-white font-bold text-lg mb-2 mt-4",children:"5. SERVICE REFUSAL"}),E.jsx("p",{children:"We reserve the right to refuse service to anyone for any reason at any time, including but not limited to vehicles in unsafe condition, biohazards present in the vehicle, or abusive behavior towards our staff."})]}),Wx=()=>E.jsxs(E.Fragment,{children:[E.jsx("h3",{className:"text-white font-bold text-lg mb-2",children:"1. DATA COLLECTION"}),E.jsx("p",{children:"We collect information you provide directly to us, such as your name, email address, phone number, vehicle information, and payment information. We also automatically collect location data when you use the Service to facilitate washer arrival."}),E.jsx("h3",{className:"text-white font-bold text-lg mb-2 mt-4",children:"2. USE OF INFORMATION"}),E.jsx("p",{children:"We use the information we collect to:"}),E.jsxs("ul",{className:"list-disc pl-5 mt-1 space-y-1",children:[E.jsx("li",{children:"Provide, maintain, and improve our services."}),E.jsx("li",{children:"Process transactions and send related information, including confirmations and receipts."}),E.jsx("li",{children:"Send you technical notices, updates, security alerts, and support messages."}),E.jsx("li",{children:"Respond to your comments, questions, and requests."})]}),E.jsx("h3",{className:"text-white font-bold text-lg mb-2 mt-4",children:"3. INFORMATION SHARING"}),E.jsx("p",{children:"We may share aggregated or de-identified information, which cannot reasonably be used to identify you. We do not sell your personal data to third parties. We may disclose your information if required by law or to protect the rights and safety of My Carwash App or others."}),E.jsx("h3",{className:"text-white font-bold text-lg mb-2 mt-4",children:"4. LOCATION SERVICES"}),E.jsx("p",{children:"To use our services, you must authorize the collection of location data. This data is used to coordinate service delivery time and location. You may stop sharing location data at any time by adjusting your device settings, but this will limit your ability to use the Service."})]}),hf=a=>{const t=(a==null?void 0:a.code)||"",s=(a==null?void 0:a.message)||"";return t.includes("invalid-credential")||t.includes("wrong-password")||t.includes("user-not-found")?"Invalid email or password. Please try again.":t.includes("email-already-in-use")?"This email is already registered. Please sign in instead.":t.includes("weak-password")?"Password is too weak. Please use at least 6 characters.":t.includes("invalid-email")?"Please enter a valid email address.":t.includes("network-request-failed")?"Network error. Please check your connection and try again.":t.includes("too-many-requests")?"Too many attempts. Please try again later.":s.toLowerCase().includes("firebase")?"An error occurred. Please try again.":s||"An error occurred. Please try again."},Ya=({label:a,type:t,value:s,onChange:r,placeholder:c})=>{const[d,f]=h.useState(!1),g=t==="password",m=g?d?"text":"password":t;return E.jsxs("div",{className:"mb-5",children:[E.jsx("label",{className:"block text-xs uppercase text-slate-400 font-bold mb-2 ml-1",children:a}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:m,value:s,onChange:r,placeholder:c,className:"w-full bg-white/5 border border-white/10 rounded-xl p-4 md:p-4 text-white placeholder-slate-500 focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary transition-all pr-12 text-base min-h-[48px]",style:{fontSize:"16px"}}),g&&E.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-white transition-colors p-2 min-h-[44px] min-w-[44px] flex items-center justify-center",children:E.jsx("span",{className:"material-symbols-outlined text-xl",children:d?"visibility":"visibility_off"})})]})]})},pf=({children:a,onClick:t,disabled:s,variant:r="primary"})=>E.jsx("button",{onClick:t,disabled:s,className:`w-full min-h-[56px] h-auto py-4 rounded-xl font-bold text-lg transition-all flex items-center justify-center gap-2 touch-manipulation ${s?"opacity-50 cursor-not-allowed":""} ${r==="primary"?"bg-primary text-white hover:bg-primary-dark shadow-lg shadow-primary/20 active:scale-[0.98]":"bg-white/5 text-white hover:bg-white/10 border border-white/10 active:scale-[0.98]"}`,style:{fontSize:"18px"},children:a}),Xx=({navigate:a})=>{const[t,s]=h.useState(""),[r,c]=h.useState(""),[d,f]=h.useState(""),[g,m]=h.useState(!1),y=async v=>{v.preventDefault(),m(!0),f("");try{await Fa.login(t,r)}catch(w){f(hf(w))}finally{m(!1)}};return E.jsxs("div",{className:"flex flex-col min-h-screen bg-background-dark p-6 overflow-y-auto",children:[E.jsxs("div",{className:"flex-1 flex flex-col justify-center max-w-md mx-auto w-full py-8",children:[E.jsxs("div",{className:"mb-8 text-center",children:[E.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 flex items-center justify-center mx-auto mb-6 overflow-hidden",children:E.jsx("img",{src:"/logo.webp",alt:"Logo",className:"w-full h-full object-contain"})}),E.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:"Welcome Back"}),E.jsx("p",{className:"text-slate-400 text-base",children:"Sign in to continue to your dashboard"})]}),d&&E.jsxs("div",{className:`border rounded-xl p-4 mb-6 flex items-start gap-3 ${d.includes("sent")||d.includes("Check your email")?"bg-green-500/10 border-green-500/20":"bg-red-500/10 border-red-500/20"}`,children:[E.jsx("span",{className:`material-symbols-outlined mt-0.5 text-xl ${d.includes("sent")||d.includes("Check your email")?"text-green-500":"text-red-500"}`,children:d.includes("sent")||d.includes("Check your email")?"check_circle":"error"}),E.jsx("p",{className:`text-sm ${d.includes("sent")||d.includes("Check your email")?"text-green-200":"text-red-200"}`,children:d})]}),E.jsxs("form",{onSubmit:y,children:[E.jsx(Ya,{label:"Email Address",type:"email",value:t,onChange:v=>s(v.target.value),placeholder:"name@example.com"}),E.jsx(Ya,{label:"Password",type:"password",value:r,onChange:v=>c(v.target.value),placeholder:""}),E.jsx("div",{className:"flex justify-end mb-6",children:E.jsx("button",{type:"button",onClick:()=>a(Oe.RECOVER_PASSWORD),className:"text-sm text-primary font-bold min-h-[44px] px-2 py-2 hover:underline",children:"Forgot Password?"})}),E.jsx(pf,{disabled:g,onClick:y,children:g?"Signing In...":"Sign In"})]}),E.jsxs("p",{className:"mt-8 text-center text-xs text-slate-500",children:[" 2025 My Carwash App. All rights reserved.",E.jsx("br",{}),E.jsx("span",{className:"text-primary font-bold",children:"v5.0 - SEMI TRUCK EDITION "})]}),E.jsx("div",{className:"mt-8 text-center",children:E.jsxs("p",{className:"text-slate-400 text-base",children:["Don't have an account?"," ",E.jsx("button",{onClick:()=>a(Oe.REGISTER),className:"text-primary font-bold hover:underline min-h-[44px] px-2 py-2 inline-flex items-center",children:"Create Account"})]})}),E.jsx("div",{className:"mt-4 text-center",children:E.jsxs("button",{onClick:()=>a(Oe.WASHER_REGISTRATION),className:"text-sm text-slate-500 font-medium hover:text-white transition-colors min-h-[44px] px-4 py-2",children:["Want to work with us? ",E.jsx("span",{className:"underline",children:"Join our Team"})]})})]}),E.jsx("div",{className:"text-center pb-4",children:E.jsxs("button",{onClick:()=>a(Oe.ONBOARDING),className:"text-slate-500 text-sm font-bold flex items-center justify-center gap-1 hover:text-white transition-colors min-h-[44px] px-4 py-2 mx-auto",children:[E.jsx("span",{className:"material-symbols-outlined text-base",children:"arrow_back"})," Back to Home"]})})]})},Qx=({navigate:a})=>{const[t,s]=h.useState(""),[r,c]=h.useState(""),[d,f]=h.useState(!1),[g,m]=h.useState(!1),y=async v=>{if(v.preventDefault(),m(!0),c(""),!t){c("Please enter your email address"),f(!1),m(!1);return}try{await Fa.resetPassword(t),c("Password reset email sent! Check your inbox and spam folder."),f(!0)}catch(w){c(hf(w)),f(!1)}finally{m(!1)}};return E.jsxs("div",{className:"flex flex-col min-h-screen bg-background-dark p-6 overflow-y-auto",children:[E.jsxs("div",{className:"flex-1 flex flex-col justify-center max-w-md mx-auto w-full py-8",children:[E.jsxs("div",{className:"mb-8 text-center",children:[E.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 flex items-center justify-center mx-auto mb-6 overflow-hidden",children:E.jsx("img",{src:"/logo.webp",alt:"Logo",className:"w-full h-full object-contain"})}),E.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:"Forgot Password?"}),E.jsx("p",{className:"text-slate-400 text-base",children:"No worries! Enter your email and we'll send you reset instructions."})]}),r&&E.jsxs("div",{className:`border rounded-xl p-4 mb-6 flex items-start gap-3 ${d?"bg-green-500/10 border-green-500/20":"bg-red-500/10 border-red-500/20"}`,children:[E.jsx("span",{className:`material-symbols-outlined mt-0.5 text-xl ${d?"text-green-500":"text-red-500"}`,children:d?"check_circle":"error"}),E.jsx("p",{className:`text-sm ${d?"text-green-200":"text-red-200"}`,children:r})]}),E.jsxs("form",{onSubmit:y,children:[E.jsx(Ya,{label:"Email Address",type:"email",value:t,onChange:v=>s(v.target.value),placeholder:"name@example.com"}),E.jsx(pf,{disabled:g,onClick:y,children:g?"Sending...":"Send Reset Link"})]}),E.jsx("div",{className:"mt-8 text-center",children:E.jsxs("p",{className:"text-slate-400 text-base",children:["Remember your password?"," ",E.jsx("button",{onClick:()=>a(Oe.LOGIN),className:"text-primary font-bold hover:underline min-h-[44px] px-2 py-2 inline-flex items-center",children:"Back to Sign In"})]})})]}),E.jsx("div",{className:"text-center pb-4",children:E.jsxs("button",{onClick:()=>a(Oe.ONBOARDING),className:"text-slate-500 text-sm font-bold flex items-center justify-center gap-1 hover:text-white transition-colors min-h-[44px] px-4 py-2 mx-auto",children:[E.jsx("span",{className:"material-symbols-outlined text-base",children:"arrow_back"})," Back to Home"]})})]})},Jx=({navigate:a})=>{const[t,s]=h.useState(""),[r,c]=h.useState(""),[d,f]=h.useState(""),[g,m]=h.useState(""),[y,v]=h.useState(""),[w,L]=h.useState(""),[A,C]=h.useState(""),[M,R]=h.useState(""),[K,Y]=h.useState(""),[X,j]=h.useState(""),[I,B]=h.useState(!1),[F,ne]=h.useState(!1),[H,ce]=h.useState(null),ue=async te=>{if(te.preventDefault(),B(!0),j(""),!F){j("You must accept the Terms & Conditions to create an account."),B(!1);return}try{const de=`${w}, ${A}, ${M} ${K}`,pe=Fa.isAdminEmail(t)?"admin":"client";await Fa.register(t,r,{name:`${d} ${g}`,phone:y,address:de,role:pe})}catch(de){j(hf(de)),B(!1)}};return E.jsxs("div",{className:"flex flex-col h-full bg-background-dark p-6 overflow-y-auto",children:[E.jsxs("div",{className:"flex-1 flex flex-col justify-center max-w-md mx-auto w-full",children:[E.jsxs("div",{className:"mb-8 text-center pt-8",children:[E.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Create Account"}),E.jsx("p",{className:"text-slate-400",children:"Join us to get the best car wash service"})]}),X&&E.jsxs("div",{className:`border rounded-xl p-4 mb-6 flex items-start gap-3 ${X.includes("created")||X.includes("verify")?"bg-green-500/10 border-green-500/20":"bg-red-500/10 border-red-500/20"}`,children:[E.jsx("span",{className:`material-symbols-outlined mt-0.5 ${X.includes("created")||X.includes("verify")?"text-green-500":"text-red-500"}`,children:X.includes("created")||X.includes("verify")?"check_circle":"error"}),E.jsx("p",{className:`text-sm ${X.includes("created")||X.includes("verify")?"text-green-200":"text-red-200"}`,children:X})]}),E.jsxs("form",{onSubmit:ue,children:[E.jsxs("div",{className:"flex gap-3",children:[E.jsx("div",{className:"flex-1",children:E.jsx(Ya,{label:"First Name",value:d,onChange:te=>f(te.target.value),placeholder:"John"})}),E.jsx("div",{className:"flex-1",children:E.jsx(Ya,{label:"Last Name",value:g,onChange:te=>m(te.target.value),placeholder:"Doe"})})]}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"block text-slate-400 text-sm font-bold mb-2",children:"Phone Number"}),E.jsx("input",{type:"tel",value:y,onChange:te=>{let de=te.target.value.replace(/\D/g,"");de.length>11&&(de=de.slice(0,11)),de.length>0&&de[0]!=="1"&&(de="1"+de);let pe="+";de.length>0&&(pe+=de.substring(0,1)),de.length>1&&(pe+=" ("+de.substring(1,4)),de.length>4&&(pe+=") "+de.substring(4,7)),de.length>7&&(pe+="-"+de.substring(7,11)),v(pe)},placeholder:"+1 (555) 000-0000",className:"w-full bg-white/5 border border-white/10 rounded-xl p-4 text-white placeholder-slate-600 focus:outline-none focus:border-primary transition-all"})]}),E.jsxs("div",{className:"mb-4 p-4 bg-white/5 rounded-xl border border-white/10",children:[E.jsxs("label",{className:"block text-slate-400 text-sm font-bold mb-3 flex items-center gap-2",children:[E.jsx("span",{className:"material-symbols-outlined text-primary text-lg",children:"location_on"}),"Service Address",E.jsx("span",{className:"text-xs text-slate-500",children:"(To verify coverage)"})]}),E.jsxs("div",{className:"mb-3",children:[E.jsx("label",{className:"block text-slate-500 text-xs uppercase font-bold mb-1",children:"Street Address"}),E.jsx("input",{type:"text",value:w,onChange:te=>L(te.target.value),placeholder:"123 Main Street",className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white placeholder-slate-600 focus:outline-none focus:border-primary transition-all text-sm"})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-slate-500 text-xs uppercase font-bold mb-1",children:"City"}),E.jsx("input",{type:"text",value:A,onChange:te=>C(te.target.value),placeholder:"Houston",className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white placeholder-slate-600 focus:outline-none focus:border-primary transition-all text-sm"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-slate-500 text-xs uppercase font-bold mb-1",children:"State"}),E.jsx("input",{type:"text",value:M,onChange:te=>R(te.target.value.toUpperCase().slice(0,2)),placeholder:"TX",maxLength:2,className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white placeholder-slate-600 focus:outline-none focus:border-primary transition-all text-sm uppercase"})]})]}),E.jsxs("div",{className:"mb-2",children:[E.jsx("label",{className:"block text-slate-500 text-xs uppercase font-bold mb-1",children:"ZIP Code"}),E.jsx("input",{type:"text",value:K,onChange:te=>Y(te.target.value.replace(/\D/g,"").slice(0,5)),placeholder:"77001",maxLength:5,className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white placeholder-slate-600 focus:outline-none focus:border-primary transition-all text-sm"})]}),w.length>5&&A.length>2&&K.length===5&&E.jsxs("div",{className:"mt-3 flex items-center gap-2 text-xs p-2 bg-green-500/10 rounded-lg border border-green-500/20",children:[E.jsx("span",{className:"material-symbols-outlined text-green-400 text-sm",children:"check_circle"}),E.jsx("span",{className:"text-green-400",children:"Service available in your area!"})]})]}),E.jsx(Ya,{label:"Email Address",type:"email",value:t,onChange:te=>s(te.target.value),placeholder:"name@example.com"}),E.jsx(Ya,{label:"Password",type:"password",value:r,onChange:te=>c(te.target.value),placeholder:"Min 6 characters"}),E.jsxs("div",{className:"mb-6 flex items-start gap-3 p-2",children:[E.jsx("div",{className:"relative flex items-center h-5 mt-1",children:E.jsx("input",{id:"terms",type:"checkbox",checked:F,onChange:te=>ne(te.target.checked),className:"w-5 h-5 bg-white/5 border border-white/20 rounded focus:ring-primary focus:ring-offset-background-dark text-primary cursor-pointer accent-primary"})}),E.jsxs("label",{htmlFor:"terms",className:"text-sm text-slate-400 select-none cursor-pointer",children:["I agree to the"," ",E.jsx("button",{type:"button",onClick:te=>{te.preventDefault(),ce("terms")},className:"text-primary hover:text-white hover:underline font-bold transition-colors",children:"Terms & Conditions"})," ","and"," ",E.jsx("button",{type:"button",onClick:te=>{te.preventDefault(),ce("privacy")},className:"text-primary hover:text-white hover:underline font-bold transition-colors",children:"Privacy Policy"}),"."]})]}),E.jsx("div",{className:"mt-2 mb-6",children:E.jsx(pf,{disabled:I||!F,onClick:ue,children:I?"Creating Account...":"Sign Up"})})]}),E.jsx(Kx,{isOpen:!!H,onClose:()=>ce(null),title:H==="terms"?"Terms & Conditions":"Privacy Policy",content:H==="terms"?"terms":"privacy"}),E.jsx("div",{className:"text-center",children:E.jsxs("p",{className:"text-slate-400",children:["Already have an account?"," ",E.jsx("button",{onClick:()=>a(Oe.LOGIN),className:"text-primary font-bold hover:underline",children:"Sign In"})]})})]}),E.jsx("div",{className:"text-center pb-4",children:E.jsxs("button",{onClick:()=>a(Oe.ONBOARDING),className:"text-slate-500 text-sm font-bold flex items-center justify-center gap-1 hover:text-white transition-colors",children:[E.jsx("span",{className:"material-symbols-outlined text-base",children:"arrow_back"})," Back to Home"]})})]})},Ud=[{url:"/ceramic_coating.webp",title:"Premium Ceramic Coating",desc:"Professional nano-ceramic protection that shields your paint from UV rays, dirt, and scratches with a stunning mirror finish"},{url:"/wheel_polish.webp",title:"Professional Wheel Detailing",desc:"Deep cleaning and polishing of rims, tires, and brake calipers for a showroom-quality shine"},{url:"/paint_restoration.webp",title:"Paint Correction & Restoration",desc:"Expert buffing and polishing to remove swirl marks, scratches, and oxidation - bringing back your car's original brilliance"},{url:"/interior_detail.webp",title:"Complete Interior Detailing",desc:"Deep cleaning, conditioning, and protection for seats, carpets, dashboard, and every interior surface"}],$x=({navigate:a,onOpenChat:t})=>{const[s,r]=h.useState(0),[c,d]=h.useState(!0);Xn.useEffect(()=>{if(!c)return;const g=setInterval(()=>{r(m=>(m+1)%Ud.length)},4500);return()=>clearInterval(g)},[c]);const f=Ud[s];return E.jsxs("div",{className:"flex flex-col h-full bg-background-dark text-white relative overflow-hidden items-center",children:[Ud.map((g,m)=>E.jsx("div",{className:`absolute inset-0 z-0 bg-cover bg-center transition-opacity duration-700 pointer-events-none ${m===s?"opacity-100":"opacity-0"}`,style:{backgroundImage:`url("${g.url}")`},children:E.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/20 via-black/40 to-background-dark z-0"})},m)),E.jsxs("div",{className:"w-full max-w-md h-full flex flex-col items-center relative z-10 px-6 py-12 md:py-8 justify-between",children:[E.jsx("div",{className:"pt-8 md:pt-12"}),E.jsxs("div",{className:"flex-1 w-full flex flex-col justify-center items-center text-center px-2",children:[E.jsx("p",{className:"text-3xl md:text-4xl font-black text-blue-400 drop-shadow-lg mb-6 transition-all duration-500 leading-tight",children:f.title}),E.jsx("p",{className:"text-lg md:text-2xl text-white drop-shadow-lg leading-relaxed max-w-sm mx-auto transition-all duration-500 opacity-95 font-medium",children:f.desc})]}),E.jsx("div",{className:"w-full flex flex-col items-center",children:E.jsxs("div",{className:"flex flex-col gap-3 w-full",children:[E.jsx("button",{onClick:()=>a(Oe.REGISTER),className:"w-full h-14 bg-blue-600 hover:bg-blue-700 rounded-2xl text-white font-bold text-lg transition-all shadow-xl shadow-blue-600/30 active:scale-[0.98] flex items-center justify-center",children:"Create Account"}),E.jsx("button",{onClick:()=>a(Oe.LOGIN),className:"w-full h-14 bg-slate-800/60 hover:bg-slate-700/60 rounded-2xl text-white font-semibold text-lg transition-all backdrop-blur-md border border-white/5 active:scale-[0.98] flex items-center justify-center",children:"I have an account"}),E.jsxs("button",{onClick:()=>a(Oe.WASHER_REGISTRATION),className:"text-sm text-slate-400 font-medium py-3 hover:text-white transition-colors",children:["Looking for work? ",E.jsx("span",{className:"text-blue-400 underline",children:"Join our Team"})]})]})})]})]})},eA=({screen:a,navigate:t})=>a===Oe.ONBOARDING?E.jsx(E.Fragment,{children:E.jsx($x,{navigate:t,onOpenChat:()=>{}})}):a===Oe.LOGIN?E.jsx(E.Fragment,{children:E.jsx(Xx,{navigate:t})}):a===Oe.REGISTER?E.jsx(E.Fragment,{children:E.jsx(Jx,{navigate:t})}):a===Oe.RECOVER_PASSWORD?E.jsx(E.Fragment,{children:E.jsx(Qx,{navigate:t})}):null,tA=(a,t)=>{const[s,r]=h.useState([]),[c,d]=h.useState([]),[f,g]=h.useState([]),[m,y]=h.useState([]),[v,w]=h.useState([]),[L,A]=h.useState([]),[C,M]=h.useState([]),[R,K]=h.useState([]),[Y,X]=h.useState([]),[j,I]=h.useState([]),[B,F]=h.useState([]),[ne,H]=h.useState([]),[ce,ue]=h.useState([]),[te,de]=h.useState([]),[pe,ve]=h.useState([]),[D,$]=h.useState(null),[se,fe]=h.useState(!0),[ge,_e]=h.useState(null),ye=h.useMemo(()=>{const x=new Date;return x.setMonth(x.getMonth()-3),x.toISOString().split("T")[0]},[]),oe=h.useMemo(()=>Date.now()-10080*60*1e3,[]);return h.useEffect(()=>{try{const x=Ct(lt(re,"packages"),V=>{try{const ee=V.docs.map(J=>({id:J.id,...J.data()}));console.log(" FIRESTORE: Loaded packages:",ee.length,ee),y(ee),_e(null)}catch(ee){console.error(" Error processing packages:",ee),_e(ee.message||"Error processing packages"),y([])}},V=>{console.error(" Error loading packages from Firestore:",V),_e(V.message||"Error loading packages from Firestore"),y([])}),S=Ct(lt(re,"addons"),V=>{try{w(V.docs.map(ee=>({id:ee.id,...ee.data()})))}catch(ee){console.error(" Error processing addons:",ee),w([])}},V=>{console.error(" Error loading addons:",V),w([])}),P=Ct(lt(re,"vehicle_types"),V=>{try{A(V.docs.map(ee=>({id:ee.id,...ee.data()})))}catch(ee){console.error(" Error processing vehicle types:",ee),A([])}},V=>{console.error(" Error loading vehicle types:",V),A([])}),ae=Ct(Se(re,"settings","service_area"),V=>{try{V.exists()&&$({id:V.id,...V.data()})}catch(ee){console.error(" Error processing service area:",ee)}},V=>{console.error(" Error loading service area:",V)});return()=>{x(),S(),P(),ae()}}catch(x){return console.error(" Critical error setting up Firestore listeners:",x),()=>{}}},[]),h.useEffect(()=>{if(!a){r([]);return}let x;if(t==="washer")x=Zt(lt(re,"orders"),In("washerId","==",a.uid),Cn(50));else if(t==="client")x=Zt(lt(re,"orders"),In("clientId","==",a.uid),Cn(30));else if(t==="admin")x=Zt(lt(re,"orders"),In("date",">=",ye),Cn(150));else return;const S=Ct(x,ae=>{const V=ae.docs.map(ee=>({id:ee.id,...ee.data()}));if(t==="washer")r(ee=>{const J=V,le=ee.filter(ke=>ke.status==="Pending"&&ke.washerId!==a.uid);return[...J,...le].filter((ke,be,et)=>et.findIndex(qe=>qe.id===ke.id)===be).sort((ke,be)=>be.date.localeCompare(ke.date))});else{const ee=[...V].sort((J,le)=>le.date.localeCompare(J.date));r(ee)}fe(!1)},ae=>{console.error(" Error loading orders from Firestore:",ae),ae.code==="failed-precondition"&&console.warn(" Firestore Index missing. Falling back to non-ordered query. Link to fix:",ae.message),fe(!1)});let P=()=>{};if(t==="washer"){const ae=Zt(lt(re,"orders"),In("status","==","Pending"),Cn(30));P=Ct(ae,V=>{const ee=V.docs.map(J=>({id:J.id,...J.data()}));r(J=>[...J.filter(ke=>ke.washerId===a.uid),...ee].filter((ke,be,et)=>et.findIndex(qe=>qe.id===ke.id)===be).sort((ke,be)=>be.date.localeCompare(ke.date)))})}return()=>{S(),P()}},[a==null?void 0:a.uid,t,ye]),h.useEffect(()=>{if(!a||t!=="admin"){d([]),g([]);return}const x=Zt(lt(re,"users"),Cn(500));return Ct(x,P=>{const ae=P.docs.map(V=>({id:V.id,...V.data()}));g(ae.filter(V=>V.role==="admin"||V.role==="washer")),d(ae.filter(V=>V.role==="client"||!V.role))})},[a==null?void 0:a.uid,t]),h.useEffect(()=>{if(!a)return;const x=Zt(lt(re,"messages"),In("timestamp",">=",oe),Cn(100)),S=Ct(x,ee=>{const J=ee.docs.map(le=>({id:le.id,...le.data()}));ue(J.sort((le,we)=>{var be,et,qe,Ce;const Re=((et=(be=le.timestamp)==null?void 0:be.toMillis)==null?void 0:et.call(be))||le.timestamp||0,ke=((Ce=(qe=we.timestamp)==null?void 0:qe.toMillis)==null?void 0:Ce.call(qe))||we.timestamp||0;return Re-ke}))});let P;t==="washer"?P=Zt(lt(re,"notifications"),In("userId","in",[a.uid,"washer-broadcast"]),Cn(50)):P=Zt(lt(re,"notifications"),In("userId","==",a.uid),Cn(50));const ae=Ct(P,ee=>{const J=ee.docs.map(le=>({id:le.id,...le.data()}));de(J.sort((le,we)=>{var be,et,qe,Ce;const Re=((et=(be=le.timestamp)==null?void 0:be.toMillis)==null?void 0:et.call(be))||le.timestamp||0;return(((Ce=(qe=we.timestamp)==null?void 0:qe.toMillis)==null?void 0:Ce.call(qe))||we.timestamp||0)-Re}))}),V=Ct(lt(re,"discounts"),ee=>{try{M(ee.docs.map(J=>({id:J.id,...J.data()})))}catch(J){console.error(" Error processing discounts:",J),M([])}},ee=>{console.error(" Error loading discounts:",ee),M([])});return()=>{S(),ae(),V()}},[a==null?void 0:a.uid,oe]),h.useEffect(()=>{if(!a||t!=="admin"){K([]),X([]),I([]),F([]),H([]),K([]),X([]),I([]),F([]),H([]),ve([]);return}const x=Ct(Zt(lt(re,"issues"),Cn(50)),J=>{const le=J.docs.map(we=>({id:we.id,...we.data()}));H(le.sort((we,Re)=>{var et,qe,Ce,zt;const ke=((qe=(et=we.timestamp)==null?void 0:et.toMillis)==null?void 0:qe.call(et))||we.timestamp||0;return(((zt=(Ce=Re.timestamp)==null?void 0:Ce.toMillis)==null?void 0:zt.call(Ce))||Re.timestamp||0)-ke}))}),S=Ct(lt(re,"deductions"),J=>{K(J.docs.map(le=>({id:le.id,...le.data()})))}),P=Ct(lt(re,"bonuses"),J=>{X(J.docs.map(le=>({id:le.id,...le.data()})))}),ae=Ct(Zt(lt(re,"payments"),Cn(50)),J=>{const le=J.docs.map(we=>({id:we.id,...we.data()}));I(le.sort((we,Re)=>(Re.paidDate||"").localeCompare(we.paidDate||"")))}),V=Ct(Zt(lt(re,"payroll_periods"),Cn(12)),J=>{const le=J.docs.map(we=>({id:we.id,...we.data()}));F(le.sort((we,Re)=>(Re.startDate||"").localeCompare(we.startDate||"")))}),ee=Ct(Zt(lt(re,"washer_applications"),Cn(50)),J=>{ve(J.docs.map(le=>({id:le.id,...le.data()})))});return()=>{x(),S(),P(),ae(),V(),ee()}},[a==null?void 0:a.uid,t]),{orders:s,clients:c,team:f,packages:m,packagesError:ge,addons:v,vehicleTypes:L,discounts:C,deductions:R,bonuses:Y,payments:j,payrollPeriods:B,issues:ne,messages:ce,notifications:te,serviceArea:D,washerApplications:pe,loading:se}},nA=(a,t=[])=>{const s=a.basePrice||a.price||0,r=a.waitingCharge||0,c=a.discountAmount||0,d=s+r,f=0,g=d+f-c,m=[];let y=0;t&&t.length>0&&(y=t.reduce((Y,X)=>{const j=g*(X.percentage/100);return m.push({name:X.name,percentage:X.percentage,amount:j}),Y+j},0));const v=g,w=a.tip||0,L=v+w,A=v-y,C=w,M=A+C,R=v>0?A/v*100:0;return{servicesSubtotal:d,asapFee:f,discountAmount:c,subtotalAfterDiscount:g,fees:m,totalFees:y,clientTotal:v,tipAmount:w,grandTotal:L,washerCommissionRate:R,washerBaseEarnings:A,washerTipEarnings:C,washerGrossEarnings:M,appRevenue:y,globalFeesSnapshot:t,discountCodeSnapshot:a.discountCode}},Mb=()=>{const a=async(x,S,P="")=>{const ae=Se(re,"settings","counters");try{return await Ol(re,async V=>{const ee=await V.get(ae);let J=1;return ee.exists()?(J=(ee.data()[x]||0)+1,V.set(ae,{[x]:J},{merge:!0})):V.set(ae,{[x]:1}),P+J.toString().padStart(S,"0")})}catch(V){return console.error(`Error generating sequence for ${x}`,V),`${P}${Date.now()}`}},t=async x=>{try{if(!x.clientId)throw new Error("Client ID is required");if(!x.address||x.address.trim()==="")throw new Error("Address is required");if(!x.vehicleConfigs||x.vehicleConfigs.length===0)throw new Error("At least one vehicle configuration is required");if(typeof x.price!="number"||x.price<=0)throw new Error("Valid price is required");if(x.appliedDiscountId){const we=Se(re,"discounts",x.appliedDiscountId);try{await Ol(re,async Re=>{const ke=await Re.get(we);if(!ke.exists())throw new Error("Discount code not found");const be=ke.data(),et=be.usageCount||0,qe=et+1;if(be.usageLimit&&qe>be.usageLimit)throw new Error("Discount usage limit exceeded");Re.update(we,{usageCount:qe}),console.log(` Discount ${x.appliedDiscountId} usage incremented: ${et}  ${qe}`)})}catch(Re){throw console.error(" Error updating discount usage:",Re),new Error(`Failed to apply discount: ${Re.message}`)}}const S=await a("orderCounter",0,""),P=`ord_${Date.now()}_${Math.random().toString(36).substr(2,5)}`,{id:ae,...V}=x,ee=Object.entries(V).reduce((we,[Re,ke])=>(ke!==void 0&&(we[Re]=ke),we),{}),J=Se(re,"orders",P),le={...ee,id:P,displayId:S,createdAt:Ha.now(),status:"Pending",date:ee.date||new Date().toISOString().split("T")[0]};console.log(` CREATING ORDER: ${P} (Display: #${S})`),await Tt(J,le);try{await ye("washer-broadcast","New Order Available! ",`New request #${S} at ${le.address}. Claim it now!`,"success","WASHER_JOB_DETAILS",P)}catch(we){console.warn(" Failed to send notifications:",we)}return P}catch(S){throw console.error(" Error creating order:",S),S}},s=async(x,S)=>{try{const P=Se(re,"orders",x);await Tn(P,S)}catch(P){throw console.error("Error updating order:",P),P}},r=async(x,S,P,ae)=>{const V=Se(re,"orders",x);Se(re,"settings","counters");try{return await Ol(re,async ee=>{const J=await ee.get(V);if(!J.exists())throw new Error("Order not found");const le=J.data();if(le.status!=="Pending")throw new Error("Order already taken");return ee.update(V,{washerId:S,washerName:P,status:"Assigned",washerAvatar:ae||""}),le.displayId})}catch(ee){throw console.error("Error grabbing order:",ee),ee}},c=async(x,S)=>{try{console.log(" submitOrderRating called with:",{orderId:x,ratingData:S});const P=Se(re,"orders",x),ae=await qa(P);if(!ae.exists())throw new Error("Order not found");const V=ae.data(),ee=V.basePrice||V.price||0,J=Se(re,"settings","fees"),le=await qa(J),we=le.exists()?le.data().fees||[]:[],Re=nA({...V,tip:S.tip,basePrice:ee},we),ke={rating:S.clientRating,review:S.clientReview,tip:S.tip,tipAmount:S.tip};if(await s(x,ke),S.washerId)try{const be=Zt(lt(re,"orders"),In("washerId","==",S.washerId),In("status","==","Completed")),et=await vd(be);let qe=0,Ce=0;et.forEach(Ri=>{const Lt=Ri.data();Lt.rating&&(qe+=Lt.rating,Ce++)});const zt=Ce>0?qe/Ce:S.clientRating,Ye=3600*1e3,Bt=Ha.fromMillis(Date.now()+Ye);await Tn(Se(re,"users",S.washerId),{rating:parseFloat(zt.toFixed(1)),status:"Available",nextAvailableTime:Bt,completedJobs:Ce})}catch(be){console.warn(" Could not update washer profile (non-critical):",be)}}catch(P){throw console.error(" Error in submitOrderRating:",P),P}},d=x=>{if(x==null||typeof x!="object")return x;if(Array.isArray(x))return x.map(d);const S={};return Object.keys(x).forEach(P=>{if(P==="")return;const ae=x[P];ae!==null&&typeof ae=="object"?S[P]=d(ae):S[P]=ae}),S},f=async x=>{try{console.log(" Attempting to save package:",x.id,x);const S=d(x),P=Se(re,"packages",x.id);await Tt(P,S,{merge:!0}),console.log(" Package saved successfully:",x.id)}catch(S){throw console.error(" Error saving package:",S),S}},g=async x=>{try{await Fn(Se(re,"packages",x))}catch(S){throw console.error("Error deleting package:",S),S}},m=async x=>{try{console.log(" Attempting to save addon:",x.id,x);const S=d(x),P=Se(re,"addons",x.id);await Tt(P,S,{merge:!0}),console.log(" Addon saved successfully:",x.id)}catch(S){throw console.error(" Error saving addon:",S),S}},y=async x=>{try{await Fn(Se(re,"addons",x))}catch(S){throw console.error("Error deleting addon:",S),S}},v=async(x,S)=>{try{const P=Se(re,"users",x);await Tt(P,S,{merge:!0})}catch(P){throw console.error(" Error updating profile:",P),P}},w=async x=>{try{const S=Se(re,"users",x);await Fn(S)}catch(S){throw console.error(" Error deleting user:",S),S}},L=async x=>{try{const S=Se(re,"users",x.id),P={...x,createdAt:Ha.now(),updatedAt:Ha.now()};await Tt(S,P,{merge:!0})}catch(S){throw console.error(" Error adding client to Firestore:",S),S}},A=async x=>{try{const S=x.id||`vt_${Date.now()}`;console.log(" Attempting to save vehicle type:",S,x);const P=Se(re,"vehicle_types",S);await Tt(P,{...x,id:S},{merge:!0}),console.log(" Vehicle type saved successfully:",S)}catch(S){throw console.error(" Error saving vehicle type:",S),S}},C=async x=>{try{await Fn(Se(re,"vehicle_types",x))}catch(S){throw console.error("Error deleting vehicle type:",S),S}},M=async x=>{try{const S=`app_${Date.now()}`,P=Se(re,"washer_applications",S),ae={...x,id:S,role:"washer",status:"Applicant",joinedDate:new Date().toISOString(),completedJobs:0,rating:0};return await Tt(P,ae),S}catch(S){throw console.error("Error submitting application:",S),S}},R=async(x,S)=>{try{const P=S.email.toLowerCase(),ae=Se(re,"approved_washers",P);await Tt(ae,{...S,role:"washer",status:"Active",approvedAt:new Date().toISOString()}),await Fn(Se(re,"washer_applications",x)),await(await jt(()=>import("./NotificationService-zFEosYM1-1769119750716.js"),[]).then(ee=>ee.NotificationService)).sendEmail(S.email," Welcome to the Team! Your Washer Application Has Been Approved",`Hi ${S.name},

Great news! Your application to join our car wash team has been approved!

You can now log in to the Washer Panel using the same credentials you used when you applied:

Email: ${S.email}

Simply visit our app and log in. You'll automatically be directed to the Washer Dashboard where you can start accepting jobs.

Welcome aboard!

Best regards,
The Car Wash Team`)}catch(P){throw console.error("Error approving washer application:",P),P}},K=async x=>{try{await Fn(Se(re,"washer_applications",x))}catch(S){throw console.error("Error rejecting washer application:",S),S}},Y=async(x,S)=>{try{const P=Se(re,"orders",x),{Timestamp:ae}=await jt(async()=>{const{Timestamp:V}=await import("./firebase-Dp89RMPZ-1769119750716.js").then(ee=>ee.ac);return{Timestamp:V}},[]);await Tn(P,{washerLocation:{...S,lastLocationUpdate:ae.now()}})}catch(P){console.error("Error updating GPS location:",P)}},X=async x=>{try{const S=`disc_${Date.now()}`,P=Se(re,"discounts",S);return await Tt(P,{...x,id:S,usageCount:0}),S}catch(S){throw console.error("Error creating discount:",S),S}},j=async(x,S)=>{try{const P=Se(re,"discounts",x);await Tn(P,S)}catch(P){throw console.error("Error updating discount:",P),P}},I=async x=>{try{await Fn(Se(re,"discounts",x))}catch(S){throw console.error("Error deleting discount:",S),S}},B=async(x,S)=>{try{const P=Zt(lt(re,"discounts"),In("code","==",x.toUpperCase())),ae=await vd(P);if(ae.empty)return null;const V=ae.docs[0].data();return!V.active||V.validFrom&&new Date(V.validFrom)>new Date||V.validUntil&&new Date(V.validUntil)<new Date||V.usageLimit&&V.usageCount>=V.usageLimit||V.minimumOrderAmount&&S<V.minimumOrderAmount?null:V}catch(P){return console.error("Error validating discount:",P),null}},F=async x=>{try{const S=Se(re,"discounts",x),P=await vd(Zt(lt(re,"discounts"),In("id","==",x)));if(!P.empty){const ae=P.docs[0].data().usageCount||0;await Tn(S,{usageCount:ae+1})}}catch(S){console.error("Error incrementing discount usage:",S)}},ne=async x=>{try{const S=`ded_${Date.now()}`,P=Se(re,"deductions",S);return await Tt(P,{...x,id:S,status:"pending"}),S}catch(S){throw console.error("Error creating deduction:",S),S}},H=async(x,S)=>{try{const P=Se(re,"deductions",x);await Tn(P,S)}catch(P){throw console.error("Error updating deduction:",P),P}},ce=async x=>{try{await Fn(Se(re,"deductions",x))}catch(S){throw console.error("Error deleting deduction:",S),S}},ue=async x=>{try{const S=`bon_${Date.now()}`,P=Se(re,"bonuses",S);return await Tt(P,{...x,id:S,status:"pending"}),S}catch(S){throw console.error("Error creating bonus:",S),S}},te=async(x,S)=>{try{const P=Se(re,"bonuses",x);await Tn(P,S)}catch(P){throw console.error("Error updating bonus:",P),P}},de=async x=>{try{await Fn(Se(re,"bonuses",x))}catch(S){throw console.error("Error deleting bonus:",S),S}},pe=async x=>{try{const S=`pay_${Date.now()}`,P=Se(re,"payments",S);return await Tt(P,{...x,id:S}),S}catch(S){throw console.error("Error creating payment:",S),S}},ve=async(x,S=!1)=>{try{const P=Se(re,"orders",x);return await Ol(re,async ae=>{const V=await ae.get(P);if(!V.exists())throw new Error("Order not found");const ee=V.data();console.log(" CancelOrder Transaction - Data:",ee);const J=!!(ee.washerId&&ee.washerId.trim()!==""),le=ee.status!=="Pending",we=J&&le;console.log(" CancelOrder - Logic:",{hasWasher:J,isNotPending:le,shouldChargeFee:we});const Re={status:"Cancelled",updatedAt:Ha.now()};return we?(Re.price=10,Re.cancellationFee=10,Re.washerEarnings=10,Re.appRevenue=0,Re.paymentStatus="Pending"):(Re.price=0,Re.washerEarnings=0),console.log(" Updating Order in Firestore:",x,Re),ae.update(P,Re),console.log(` Transaction step for ${x} completed locally.`),{orderData:ee,shouldChargeFee:we}}).then(async({orderData:ae,shouldChargeFee:V})=>{ae.washerId&&await ye(ae.washerId,"Order Cancelled ",V?"Order cancelled. You receive $10 cancellation fee.":"Order cancelled by client.",V?"success":"error","WASHER_DASHBOARD",x),ae.clientId&&await ye(ae.clientId,"Order Cancelled",V?"Order cancelled. A $10 fee applies as a washer was assigned.":"Order cancelled successfully.","info","CLIENT_HOME",x)})}catch(P){throw console.error("Error cancelling order:",P),P}},D=async x=>{try{const S=Se(lt(re,"test_notifications"));await Tt(S,{userId:x,title:"Prueba de Notificacin ",body:"Si ves esto, las notificaciones push estn funcionando correctamente.",timestamp:Date.now(),status:"pending"}),console.log("Test notification triggered for user:",x)}catch(S){throw console.error("Error triggering test notification:",S),S}},$=async x=>{try{const S=`period_${Date.now()}`,P=Se(re,"payroll_periods",S);return await Tt(P,{...x,id:S}),S}catch(S){throw console.error("Error creating payroll period:",S),S}},se=async(x,S)=>{try{const P=Se(re,"payroll_periods",x);await Tn(P,S)}catch(P){throw console.error("Error updating payroll period:",P),P}},fe=async x=>{try{const S={clientId:x.clientId,clientEmail:x.clientEmail,subject:x.subject,description:x.description,timestamp:Date.now(),status:"Open"};return x.orderId&&x.orderId!==void 0&&(S.orderId=x.orderId),x.image&&(S.image=x.image),await yd(lt(re,"issues"),S),"success"}catch(S){throw console.error("Error creating issue:",S),S}},ge=async(x,S)=>{try{const P=Se(re,"issues",x);await Tn(P,S)}catch(P){throw console.error("Error updating issue:",P),P}},_e=async(x,S,P,ae,V="text")=>{try{return await yd(lt(re,"messages"),{senderId:x,receiverId:S,orderId:P,content:ae,type:V,timestamp:Date.now(),read:!1}),await ye(S,"New Message",V==="image"?"Sent you an image":ae.length>50?`${ae.substring(0,47)}...`:ae,"info","CLIENT_HOME",P),"success"}catch(ee){throw console.error("Error sending message:",ee),ee}},ye=async(x,S,P,ae="info",V,ee)=>{try{const J={userId:x,title:S,message:P,type:ae,read:!1,timestamp:Date.now()};V!==void 0&&(J.linkTo=V),ee!==void 0&&(J.relatedId=ee),await yd(lt(re,"notifications"),J)}catch(J){throw console.error("Error creating notification:",J),J}};return{createOrder:t,updateOrder:s,grabOrder:r,cancelOrder:ve,savePackage:f,deletePackage:g,saveAddon:m,deleteAddon:y,updateUserProfile:v,deleteUser:w,addClient:L,saveVehicleType:A,deleteVehicleType:C,submitWasherApplication:M,approveWasherApplication:R,rejectWasherApplication:K,updateOrderLocation:Y,createDiscount:X,updateDiscount:j,deleteDiscount:I,validateDiscount:B,incrementDiscountUsage:F,createDeduction:ne,updateDeduction:H,deleteDeduction:ce,createBonus:ue,updateBonus:te,deleteBonus:de,createPayment:pe,createPayrollPeriod:$,updatePayrollPeriod:se,createIssue:fe,updateIssue:ge,sendMessage:_e,addNotification:ye,markNotificationRead:async x=>{try{const S=Se(re,"notifications",x);await Tn(S,{read:!0})}catch(S){throw console.error("Error marking notification read:",S),S}},submitOrderRating:c,testPushNotification:D,saveServiceArea:async x=>{await Tt(Se(re,"settings","service_area"),x)}}},iA=({navigate:a,onBack:t,initialData:s})=>{const{submitWasherApplication:r}=Mb(),[c,d]=h.useState(1),[f,g]=h.useState(!1),m=(s==null?void 0:s.address)||"",[y,v]=h.useState({name:(s==null?void 0:s.name)||"",email:(s==null?void 0:s.email)||"",phone:(s==null?void 0:s.phone)||"",ssn:"",street:m,city:"",state:"",zip:"",address:"",experience:"",vehicleType:"",vehicleModel:"",vehiclePlate:"",licenseNumber:"",licenseImage:null,carImage:null,equipmentImage:null}),w=M=>{if(!M)return M;const R=M.replace(/[^\d]/g,""),K=R.length;return K<4?R:K<7?`(${R.slice(0,3)}) ${R.slice(3)}`:`(${R.slice(0,3)}) ${R.slice(3,6)}-${R.slice(6,10)}`},L=M=>{if(!M)return M;const R=M.replace(/[^\d]/g,""),K=R.length;return K<4?R:K<6?`${R.slice(0,3)}-${R.slice(3)}`:`${R.slice(0,3)}-${R.slice(3,5)}-${R.slice(5,9)}`},A=async M=>{try{const{Camera:R,CameraResultType:K,CameraSource:Y}=await jt(async()=>{const{Camera:j,CameraResultType:I,CameraSource:B}=await import("./index-1bqWgyMR-1769119750716.js");return{Camera:j,CameraResultType:I,CameraSource:B}},__vite__mapDeps([4,1,2,3])),X=await R.getPhoto({quality:60,allowEditing:!1,resultType:K.DataUrl,source:Y.Camera,width:1024});X.dataUrl&&v(j=>({...j,[M]:X.dataUrl}))}catch(R){console.error("Camera error:",R),R.message}},C=async M=>{M.preventDefault(),g(!0);try{const R=`${y.street}, ${y.city}, ${y.state} ${y.zip}`;await r({...y,address:R,role:"washer",status:"Applicant",submittedAt:Date.now()}),d(3)}catch(R){console.error("Failed to submit application:",R)}finally{g(!1)}};return E.jsxs("div",{className:"min-h-screen bg-slate-900 text-white flex items-center justify-center p-4 relative",children:[E.jsx("button",{onClick:()=>t?t():a(Oe.LOGIN),className:"absolute top-4 left-4 p-2 bg-white/5 hover:bg-white/10 rounded-full transition-colors z-10",children:E.jsx("span",{className:"material-symbols-outlined text-slate-400",children:"arrow_back"})}),E.jsxs("div",{className:"max-w-md w-full bg-slate-800 p-8 rounded-2xl border border-white/10 max-h-[95vh] overflow-y-auto custom-scrollbar relative",children:[E.jsxs("div",{className:"text-center mb-8",children:[E.jsx("div",{className:"w-40 h-40 flex items-center justify-center mx-auto mb-6",children:E.jsx("img",{src:"/logo.webp",alt:"Logo",className:"w-full h-full object-contain"})}),E.jsx("h1",{className:"text-2xl font-bold",children:"Join Our Team"}),E.jsx("p",{className:"text-slate-400",children:"Become a Washer and earn on your schedule."})]}),c===1&&E.jsxs("form",{onSubmit:()=>d(2),className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-bold mb-2 text-slate-400",children:"PERSONAL DETAILS"}),E.jsx("input",{required:!0,type:"text",placeholder:"Full Name",className:"w-full bg-black/30 border border-white/10 rounded-xl p-3 mb-3 text-white focus:border-primary focus:outline-none",value:y.name,onChange:M=>v({...y,name:M.target.value})}),E.jsx("input",{required:!0,type:"email",placeholder:"Email Address",className:"w-full bg-black/30 border border-white/10 rounded-xl p-3 mb-3 text-white focus:border-primary focus:outline-none",value:y.email,onChange:M=>v({...y,email:M.target.value})}),E.jsx("input",{required:!0,type:"tel",placeholder:"Phone (555) 000-0000",className:"w-full bg-black/30 border border-white/10 rounded-xl p-3 mb-3 text-white focus:border-primary focus:outline-none",value:y.phone,onChange:M=>v({...y,phone:w(M.target.value)}),maxLength:14}),E.jsx("input",{required:!0,type:"text",placeholder:"SSN (XXX-XX-XXXX)",className:"w-full bg-black/30 border border-white/10 rounded-xl p-3 mb-3 text-white focus:border-primary focus:outline-none",value:y.ssn,onChange:M=>v({...y,ssn:L(M.target.value)}),maxLength:11}),E.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2 mt-4",children:"Home Address"}),E.jsx("input",{required:!0,type:"text",placeholder:"Street Address (e.g. 123 Main St)",className:"w-full bg-black/30 border border-white/10 rounded-xl p-3 mb-3 text-white focus:border-primary focus:outline-none",value:y.street,onChange:M=>v({...y,street:M.target.value})}),E.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[E.jsx("input",{required:!0,type:"text",placeholder:"City",className:"w-full bg-black/30 border border-white/10 rounded-xl p-3 text-white focus:border-primary focus:outline-none",value:y.city,onChange:M=>v({...y,city:M.target.value})}),E.jsx("input",{required:!0,type:"text",placeholder:"State (TX)",maxLength:2,className:"w-full bg-black/30 border border-white/10 rounded-xl p-3 text-white focus:border-primary focus:outline-none uppercase",value:y.state,onChange:M=>v({...y,state:M.target.value.toUpperCase()})})]}),E.jsx("input",{required:!0,type:"text",placeholder:"ZIP Code",maxLength:5,className:"w-full bg-black/30 border border-white/10 rounded-xl p-3 text-white focus:border-primary focus:outline-none",value:y.zip,onChange:M=>v({...y,zip:M.target.value.replace(/\D/g,"")})})]}),E.jsx("button",{className:"w-full bg-primary text-black font-bold py-3 rounded-xl hover:bg-primary-dark shadow-lg shadow-primary/20",children:"Next: Requirements"})]}),c===2&&E.jsxs("form",{onSubmit:C,className:"space-y-4 animate-in slide-in-from-right max-h-[60vh] overflow-y-auto pr-2 custom-scrollbar",children:[E.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/10",children:[E.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2",children:"Driver's License"}),E.jsx("input",{required:!0,type:"text",placeholder:"License Number",className:"w-full bg-black/30 border border-white/10 rounded-xl p-3 mb-3 text-white",value:y.licenseNumber,onChange:M=>v({...y,licenseNumber:M.target.value})}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsxs("button",{type:"button",onClick:()=>A("licenseImage"),className:"flex-1 cursor-pointer bg-black/30 border border-dashed border-white/20 rounded-xl p-3 flex items-center justify-center gap-2 hover:bg-white/5 transition-colors",children:[E.jsx("span",{className:"material-symbols-outlined text-slate-400",children:"id_card"}),E.jsx("span",{className:"text-xs text-slate-300",children:y.licenseImage?"License Uploaded":"Upload Photo"})]}),y.licenseImage&&E.jsx("span",{className:"material-symbols-outlined text-green-500",children:"check_circle"})]})]}),E.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/10",children:[E.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2",children:"Vehicle Details"}),E.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[E.jsx("input",{required:!0,type:"text",placeholder:"Make & Model",className:"w-full bg-black/30 border border-white/10 rounded-xl p-3 text-white",value:y.vehicleModel,onChange:M=>v({...y,vehicleModel:M.target.value})}),E.jsx("input",{required:!0,type:"text",placeholder:"Plate Number",className:"w-full bg-black/30 border border-white/10 rounded-xl p-3 text-white",value:y.vehiclePlate,onChange:M=>v({...y,vehiclePlate:M.target.value})})]}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsxs("button",{type:"button",onClick:()=>A("carImage"),className:"flex-1 cursor-pointer bg-black/30 border border-dashed border-white/20 rounded-xl p-3 flex items-center justify-center gap-2 hover:bg-white/5 transition-colors",children:[E.jsx("span",{className:"material-symbols-outlined text-slate-400",children:"directions_car"}),E.jsx("span",{className:"text-xs text-slate-300",children:y.carImage?"Photo Uploaded":"Upload Car Photo"})]}),y.carImage&&E.jsx("span",{className:"material-symbols-outlined text-green-500",children:"check_circle"})]})]}),E.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/10",children:[E.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2",children:"Equipment & Experience"}),E.jsxs("select",{className:"w-full bg-black/30 border border-white/10 rounded-xl p-3 mb-3 text-white",value:y.experience,onChange:M=>v({...y,experience:M.target.value}),children:[E.jsx("option",{value:"",children:"Years of Experience..."}),E.jsx("option",{value:"0-1",children:"0-1 Years"}),E.jsx("option",{value:"2-5",children:"2-5 Years"}),E.jsx("option",{value:"5+",children:"5+ Years"})]}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsxs("button",{type:"button",onClick:()=>A("equipmentImage"),className:"flex-1 cursor-pointer bg-black/30 border border-dashed border-white/20 rounded-xl p-3 flex items-center justify-center gap-2 hover:bg-white/5 transition-colors",children:[E.jsx("span",{className:"material-symbols-outlined text-slate-400",children:"home_repair_service"}),E.jsx("span",{className:"text-xs text-slate-300",children:y.equipmentImage?"Photo Uploaded":"Upload Equipment"})]}),y.equipmentImage&&E.jsx("span",{className:"material-symbols-outlined text-green-500",children:"check_circle"})]})]}),E.jsxs("div",{className:"flex gap-3 pt-2",children:[E.jsx("button",{type:"button",onClick:()=>d(1),className:"flex-1 bg-white/5 py-3 rounded-xl font-bold hover:bg-white/10",children:"Back"}),E.jsx("button",{type:"submit",disabled:f,className:"flex-[2] bg-primary text-black font-bold py-3 rounded-xl hover:bg-primary-dark disabled:opacity-50 shadow-lg shadow-primary/20",children:f?"Submitting Application...":"Submit Application"})]})]}),c===3&&E.jsxs("div",{className:"text-center py-10 animate-in zoom-in",children:[E.jsx("span",{className:"material-symbols-outlined text-6xl text-green-500 mb-4",children:"check_circle"}),E.jsx("h2",{className:"text-xl font-bold mb-2",children:"Application Sent!"}),E.jsx("p",{className:"text-slate-400 mb-6",children:"Our admin team will review your details."}),E.jsx("button",{onClick:()=>t?t():a(Oe.LOGIN),className:"w-full bg-white/10 hover:bg-white/20 text-white font-bold py-3 rounded-xl transition-colors",children:"Back to Home"})]})]})]})};function aA(a){a.CapacitorUtils.Synapse=new Proxy({},{get(t,s){return new Proxy({},{get(r,c){return(d,f,g)=>{const m=a.Capacitor.Plugins[s];if(m===void 0){g(new Error(`Capacitor plugin ${s} not found`));return}if(typeof m[c]!="function"){g(new Error(`Method ${c} not found in Capacitor plugin ${s}`));return}(async()=>{try{const y=await m[c](d);f(y)}catch(y){g(y)}})()}}})}})}function sA(a){a.CapacitorUtils.Synapse=new Proxy({},{get(t,s){return a.cordova.plugins[s]}})}function rA(a=!1){typeof window>"u"||(window.CapacitorUtils=window.CapacitorUtils||{},window.Capacitor!==void 0&&!a?aA(window):window.cordova!==void 0&&sA(window))}const oA=Fs("Geolocation",{web:()=>jt(()=>import("./web-CJt9qvOY-1769119750716.js"),__vite__mapDeps([5,1,2,3])).then(a=>new a.GeolocationWeb)});rA();const ny=Fs("BackgroundGeolocation"),ua=class ua{static async startTracking(t,s){if(console.log(" LocationService.startTracking called for:",{washerId:t,orderId:s}),this.isTracking){console.log(" Location tracking already active (watchId:",this.watchId,")"),console.log(" Updating tracking IDs instead..."),this.updateTrackingIds(t,s);return}this.isTracking=!0,this.currentWasherId=t,this.currentOrderId=s||null;const r=async(c,d)=>{const f=ua.currentWasherId,g=ua.currentOrderId;if(d){console.error(" [GPS] Geolocation error:",d);return}if(!c||!f)return;const m={lat:c.coords.latitude,lng:c.coords.longitude,timestamp:c.timestamp,accuracy:c.coords.accuracy,heading:c.coords.heading||null,speed:c.coords.speed||null};try{if(console.log(" [GPS] Processing location update...",m),console.log(" [GPS] Current IDs:",{washerId:f,orderId:g}),g){const v=Se(re,"orders",g);console.log(" [GPS] Updating order location in Firestore:",g),await Tt(v,{washerLocation:m,lastLocationUpdate:Ha.now()},{merge:!0}),console.log(" [GPS] Order location updated successfully")}const y=Se(re,"users",f);console.log(" [GPS] Updating washer global profile:",f),await Tt(y,{currentLocation:m,lastLocationUpdate:Ha.now()},{merge:!0}),console.log(" [GPS] Washer profile updated successfully"),console.log(" [GPS] All Firestore updates completed")}catch(y){console.error(" [GPS] Firestore update error:",y),console.error(" [GPS] Error details:",{washerId:f,orderId:g,error:y})}};if(Za.isNativePlatform()){console.log(" Using Capacitor Background Geolocation (Native)");try{console.log(" [GPS] Starting Background Geolocation watcher..."),this.watchId=await ny.addWatcher({backgroundMessage:"Your location is being tracked to update the client.",backgroundTitle:"Washer Tracking Active",requestPermissions:!0,stale:!1,distanceFilter:5},(d,f)=>{if(console.log(" [GPS] Callback de Background",{position:d,err:f}),f){r(null,f);return}const g={coords:{latitude:d==null?void 0:d.latitude,longitude:d==null?void 0:d.longitude,accuracy:d==null?void 0:d.accuracy,heading:d==null?void 0:d.bearing,speed:d==null?void 0:d.speed,altitude:d==null?void 0:d.altitude},timestamp:(d==null?void 0:d.time)||Date.now()};r(g)});const c=setInterval(async()=>{if(!this.isTracking){clearInterval(c);return}console.log(" [GPS] Latido: Forzando actualizacin de ubicacin");try{const d=await this.getCurrentLocation();r({coords:{latitude:d.lat,longitude:d.lng,accuracy:d.accuracy},timestamp:d.timestamp})}catch(d){console.warn("Fallo el heartbeat",d)}},6e4);console.log(" [GPS] Watcher activo. ID:",this.watchId)}catch(c){console.error(" Native Background Geolocation error:",c),this.isTracking=!1}}else{if(console.log(" Using Browser Geolocation (Web)"),!navigator.geolocation){console.error("Geolocation not supported"),this.isTracking=!1;return}this.watchId=navigator.geolocation.watchPosition(c=>{console.log(" [GPS] Browser callback fired"),r(c)},c=>{console.error(" [GPS] Web Geolocation error:",c)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}}static updateTrackingIds(t,s){this.currentWasherId=t,this.currentOrderId=s||null,console.log(" [GPS] Tracking IDs updated:",{washerId:t,orderId:s})}static async stopTracking(){this.watchId!==null&&(Za.isNativePlatform()?await ny.removeWatcher({id:this.watchId.toString()}):typeof this.watchId=="number"&&navigator.geolocation.clearWatch(this.watchId),this.watchId=null,this.isTracking=!1,console.log(" Location tracking stopped"))}static async getCurrentLocation(){if(Za.isNativePlatform()){const t=await oA.getCurrentPosition({enableHighAccuracy:!0,timeout:5e3});return{lat:t.coords.latitude,lng:t.coords.longitude,timestamp:t.timestamp,accuracy:t.coords.accuracy,heading:t.coords.heading||null,speed:t.coords.speed||null}}else return new Promise((t,s)=>{if(!navigator.geolocation){s(new Error("Geolocation is not supported"));return}navigator.geolocation.getCurrentPosition(r=>{t({lat:r.coords.latitude,lng:r.coords.longitude,timestamp:r.timestamp,accuracy:r.coords.accuracy,heading:r.coords.heading||null,speed:r.coords.speed||null})},r=>s(r),{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})})}static subscribeToWasherLocation(t,s){const r=Se(re,"users",t);return Ct(r,d=>{if(d.exists()){const f=d.data();s(f.currentLocation||null)}else s(null)})}static subscribeToOrderLocation(t,s){const r=Se(re,"orders",t);return Ct(r,d=>{if(d.exists()){const f=d.data();s(f.washerLocation||null)}else s(null)})}static calculateDistance(t,s,r,c){const f=this.toRad(r-t),g=this.toRad(c-s),m=Math.sin(f/2)*Math.sin(f/2)+Math.cos(this.toRad(t))*Math.cos(this.toRad(r))*Math.sin(g/2)*Math.sin(g/2);return 6371*(2*Math.atan2(Math.sqrt(m),Math.sqrt(1-m)))}static calculateETA(t,s,r,c,d=40){const f=this.calculateDistance(t,s,r,c);return Math.round(f/d*60)}static async getRouteETA(t,s,r,c){try{const{functions:d}=await jt(async()=>{const{functions:v}=await Promise.resolve().then(()=>Gd);return{functions:v}},void 0),{httpsCallable:f}=await jt(async()=>{const{httpsCallable:v}=await import("./firebase-Dp89RMPZ-1769119750716.js").then(w=>w.ad);return{httpsCallable:v}},[]),y=(await f(d,"calculateRouteETA")({originLat:t,originLon:s,destLat:r,destLon:c})).data;if(y.status==="OK")return{duration:y.duration,distance:y.distance};{console.warn("Route calculation returned non-OK status:",y);const v=this.calculateDistance(t,s,r,c);return{duration:Math.round(v/40*60),distance:v}}}catch(d){console.error("Error fetching Google Maps ETA via proxy:",d);const f=this.calculateDistance(t,s,r,c);return{duration:Math.round(f/40*60),distance:f}}}static toRad(t){return t*(Math.PI/180)}static async checkPermissions(){if(!navigator.permissions)return!1;try{return(await navigator.permissions.query({name:"geolocation"})).state==="granted"}catch{return!1}}static async requestPermissions(){try{return!!await this.getCurrentLocation()}catch{return!1}}};ua.watchId=null,ua.isTracking=!1,ua.currentWasherId=null,ua.currentOrderId=null;let Va=ua;const lA=({currentUser:a,orders:t})=>{console.log(" [LocationTracker] Rendering...",{hasUser:!!a,role:a==null?void 0:a.role,ordersCount:t.length});const s=t.find(r=>r.washerId===(a==null?void 0:a.id)&&r.washerId===(a==null?void 0:a.id)&&["Assigned","En Route","Arrived","In Progress"].includes(r.status));return h.useEffect(()=>{if(!a||a.role!=="washer"){console.log(" [LocationTracker] Not a washer or no user. Stopping tracking."),Va.stopTracking();return}s?(console.log(" [GPS Tracker] Active order found:",s.id),Va.startTracking(a.id,s.id).catch(()=>{console.log(" [GPS Tracker] Tracking already active, updating order ID"),Va.updateTrackingIds(a.id,s.id)})):(console.log(" [GPS Tracker] No active order, tracking global location only"),Va.startTracking(a.id).catch(()=>{console.log(" [GPS Tracker] Tracking already active, clearing order ID"),Va.updateTrackingIds(a.id)}))},[a==null?void 0:a.id,s==null?void 0:s.id]),null},Rb=h.createContext(void 0),cA=()=>{const a=h.useContext(Rb);if(!a)throw new Error("useToast must be used within a ToastProvider");return a},uA=({children:a})=>{const[t,s]=h.useState([]),r=h.useCallback((d,f)=>{var g;if(typeof window<"u"&&((g=window.Android)!=null&&g.showToast)){window.Android.showToast(d);return}s(m=>{if(m.some(A=>A.message===d&&A.type===f))return m;const v=Date.now().toString(),w={id:v,message:d,type:f},L=m.length>=3?[...m.slice(1),w]:[...m,w];return setTimeout(()=>{s(A=>A.filter(C=>C.id!==v))},3e3),L})},[]),c=d=>{s(f=>f.filter(g=>g.id!==d))};return E.jsxs(Rb.Provider,{value:{showToast:r},children:[a,E.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 flex flex-col gap-2 pointer-events-none",children:t.map(d=>E.jsxs("div",{className:`pointer-events-auto min-w-[300px] p-4 rounded-xl shadow-2xl flex items-center gap-3 animate-in slide-in-from-top-2 fade-in duration-300 ${d.type==="success"?"bg-green-500 text-black":d.type==="error"?"bg-red-500 text-white":d.type==="warning"?"bg-amber-500 text-white":"bg-blue-500 text-white"}`,children:[E.jsx("span",{className:"material-symbols-outlined font-bold",children:d.type==="success"?"check_circle":d.type==="error"?"error":d.type==="warning"?"warning":"info"}),E.jsx("p",{className:"font-bold text-sm flex-1",children:d.message}),E.jsx("button",{onClick:()=>c(d.id),className:"opacity-70 hover:opacity-100",children:E.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})})]},d.id))})]})},iy=({message:a="Loading..."})=>E.jsxs("div",{className:"fixed inset-0 bg-background-dark flex flex-col items-center justify-center z-50",children:[E.jsxs("div",{className:"relative w-16 h-16",children:[E.jsx("div",{className:"absolute inset-0 border-4 border-primary/20 rounded-full"}),E.jsx("div",{className:"absolute inset-0 border-4 border-transparent border-t-primary rounded-full animate-spin"})]}),E.jsx("p",{className:"mt-4 text-white/60 text-sm",children:a})]}),Il="app_error_logs",Bl={log:(a,t,s)=>{const r={timestamp:new Date().toISOString(),level:a,message:t,details:s?JSON.stringify(s):void 0};console.log(`[${a.toUpperCase()}] ${t}`,s||"");try{const c=JSON.parse(localStorage.getItem(Il)||"[]");c.unshift(r),localStorage.setItem(Il,JSON.stringify(c.slice(0,50)))}catch(c){console.error("Failed to save log",c)}},info:(a,t)=>Bl.log("info",a,t),warn:(a,t)=>Bl.log("warn",a,t),error:(a,t)=>Bl.log("error",a,t),getLogs:()=>{try{return JSON.parse(localStorage.getItem(Il)||"[]")}catch{return[]}},clearLogs:()=>{localStorage.removeItem(Il)}};class dA extends h.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,s){console.error("Uncaught error:",t,s),Bl.error("Global Crash Caught",{error:t.toString(),info:s})}render(){var s;if(this.state.hasError)return E.jsx("div",{className:"min-h-screen bg-slate-900 text-white flex items-center justify-center p-6",children:E.jsxs("div",{className:"max-w-md w-full bg-slate-800 p-8 rounded-2xl border border-white/10 text-center",children:[E.jsx("span",{className:"material-symbols-outlined text-6xl text-red-500 mb-4",children:"error_outline"}),E.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Something went wrong"}),E.jsx("p",{className:"text-slate-400 mb-6",children:"We encountered an unexpected error. Please try reloading the page."}),E.jsx("button",{onClick:()=>window.location.reload(),className:"bg-primary text-black font-bold py-3 px-6 rounded-xl hover:bg-primary-dark transition-colors",children:"Reload Application"}),this.state.error&&E.jsxs("div",{className:"mt-8 p-4 bg-black/50 rounded-lg text-left overflow-auto max-h-40 w-full",children:[E.jsx("p",{className:"text-xs font-mono text-red-300 break-words",children:this.state.error.toString()}),E.jsxs("p",{className:"text-[10px] font-mono text-slate-500 mt-2 break-all",children:[(s=this.state.error.stack)==null?void 0:s.slice(0,200),"..."]})]})]})});const{children:t}=this.props;return t}}class fA{constructor(){this.analytics=null,this.isEnabled=!1,this.initializeAnalytics()}async initializeAnalytics(){try{await cS()?(this.analytics=cy(ya),this.isEnabled=!0,console.log(" Firebase Analytics initialized successfully")):console.warn(" Firebase Analytics not supported in this environment")}catch(t){console.warn(" Analytics not available:",t),this.isEnabled=!1}}setUser(t,s){if(this.isEnabled)try{uS(this.analytics,t),s&&dS(this.analytics,s)}catch(r){console.error("Error setting user:",r)}}trackOrderCreated(t,s,r){this.logEvent("order_created",{order_id:t,value:s,currency:"USD",package_name:r})}trackOrderCompleted(t,s,r,c){this.logEvent("order_completed",{order_id:t,value:s,currency:"USD",washer_id:r,rating:c})}trackOrderCancelled(t,s){this.logEvent("order_cancelled",{order_id:t,reason:s})}trackPaymentSuccess(t,s,r){this.logEvent("payment_success",{order_id:t,value:s,currency:"USD",payment_method:r})}trackPaymentFailed(t,s){this.logEvent("payment_failed",{order_id:t,error:s})}trackCouponApplied(t,s){this.logEvent("coupon_applied",{coupon_code:t,discount_value:s})}trackScreenView(t){this.logEvent("screen_view",{screen_name:t})}trackButtonClick(t,s){this.logEvent("button_click",{button_name:t,location:s})}trackSearch(t){this.logEvent("search",{search_term:t})}trackWasherApplication(t){this.logEvent("washer_application_submitted",{washer_id:t})}trackWasherApproved(t){this.logEvent("washer_approved",{washer_id:t})}trackLoyaltyPointsEarned(t,s,r){this.logEvent("loyalty_points_earned",{user_id:t,points:s,source:r})}trackLoyaltyTierUpgrade(t,s){this.logEvent("loyalty_tier_upgrade",{user_id:t,new_tier:s})}trackError(t,s,r){this.logEvent("error_occurred",{error_name:t,error_message:s,location:r})}trackLoadTime(t,s){this.logEvent("page_load_time",{page_name:t,load_time_ms:s})}trackSignUp(t){this.logEvent("sign_up",{method:t})}trackLogin(t){this.logEvent("login",{method:t})}logEvent(t,s){if(this.isEnabled)try{fS(this.analytics,t,s)}catch(r){console.error("Error logging event:",r)}}trackPurchase(t,s,r){this.logEvent("purchase",{transaction_id:t,value:s,currency:"USD",items:r})}trackAddToCart(t,s,r){this.logEvent("add_to_cart",{item_id:t,item_name:s,price:r,currency:"USD"})}trackDailyActive(){this.logEvent("daily_active_user",{timestamp:new Date().toISOString()})}trackWeeklyActive(){this.logEvent("weekly_active_user",{timestamp:new Date().toISOString()})}trackFeatureUsed(t){this.logEvent("feature_used",{feature_name:t})}trackNotificationReceived(t){this.logEvent("notification_received",{notification_type:t})}trackNotificationClicked(t){this.logEvent("notification_clicked",{notification_type:t})}trackShare(t,s){this.logEvent("share",{content_type:t,method:s})}trackRatingGiven(t,s){this.logEvent("rating_given",{rating:t,order_id:s})}}const Us=new fA,Ba=Fs("PushNotifications",{});class hA{constructor(){this.isNative=Za.isNativePlatform(),this.userId=null,this.initialized=!1,this.webInitAttempted=!1}setUserId(t){this.userId=t}async initialize(t){if(t&&(this.userId=t),!(this.initialized&&!t))return this.isNative?this.initializeNative():this.webInitAttempted?(console.log(" Skipping FCM init (already attempted)"),null):(this.webInitAttempted=!0,this.initializeWeb())}async initializeNative(){console.log(" Initializing native push notifications...");let t=await Ba.checkPermissions();return t.receive==="prompt"&&(t=await Ba.requestPermissions()),t.receive!=="granted"?(console.log(" Push notification permission denied"),null):(await Ba.register(),this.initialized||(await Ba.addListener("registration",s=>{console.log(" Native Push registration success, token:",s.value),this.saveToken(s.value)}),await Ba.addListener("registrationError",s=>{console.error(" Error on registration:",s)}),await Ba.addListener("pushNotificationReceived",s=>{console.log(" Push notification received:",s),this.handleNotificationReceived(s)}),await Ba.addListener("pushNotificationActionPerformed",s=>{console.log(" Push notification action performed:",s),this.handleNotificationTapped(s)}),this.initialized=!0),!0)}async initializeWeb(){return console.log(" Web push notifications disabled (use native app for notifications)"),null}async saveToken(t){if(!this.userId){console.warn(" Cannot save FCM token: No User ID set");return}console.log(" Saving FCM token to Firestore for user:",this.userId);try{const s=Se(re,"users",this.userId);await Tn(s,{fcmToken:t}),console.log(" FCM token saved successfully")}catch(s){console.error(" Error saving FCM token to Firestore:",s)}}async clearToken(){if(!this.userId){console.warn(" Cannot clear FCM token: No User ID set");return}console.log(" Clearing FCM token for user:",this.userId);try{const t=Se(re,"users",this.userId);await Tn(t,{fcmToken:null}),console.log(" FCM token cleared successfully"),this.userId=null}catch(t){console.error(" Error clearing FCM token:",t)}}handleNotificationReceived(t){console.log("Notification data:",t.data);const s=new CustomEvent("fcm-message",{detail:{notification:{title:t.title,body:t.body},data:t.data}});window.dispatchEvent(s)}handleNotificationTapped(t){const s=t.notification.data;console.log("Notification tapped with data:",s),s.type==="new_message"?window.location.hash=`/chat/${s.orderId}`:s.type==="order_update"&&(window.location.hash=`/order/${s.orderId}`)}async sendNotification(t,s,r,c){!this.isNative&&"Notification"in window&&Notification.permission==="granted"&&new Notification(s,{body:r,icon:"/logo.png",data:c})}}const kb=new hA,pA=Object.freeze(Object.defineProperty({__proto__:null,pushNotificationService:kb},Symbol.toStringTag,{value:"Module"})),Wn={isIOS:()=>/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,isAndroid:()=>{var a;return/Android/i.test(navigator.userAgent)||((a=window.Capacitor)==null?void 0:a.getPlatform())==="android"},isMobile:()=>Wn.isIOS()||Wn.isAndroid(),isStandalone:()=>window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0,getPlatform:()=>Wn.isIOS()?"ios":Wn.isAndroid()?"android":"web",hasNotch:()=>{if(!Wn.isIOS())return!1;const a=window.devicePixelRatio||1,t={width:window.screen.width*a,height:window.screen.height*a};return t.width===1125&&t.height===2436||t.width===828&&t.height===1792||t.width===1242&&t.height===2688||t.width===1170&&t.height===2532||t.width===1179&&t.height===2556||t.width===1284&&t.height===2778||t.width===1290&&t.height===2796},getSafeAreaInsets:()=>{if(typeof window>"u")return{top:0,bottom:0,left:0,right:0};const a=getComputedStyle(document.documentElement);return{top:parseInt(a.getPropertyValue("--sat")||"0"),bottom:parseInt(a.getPropertyValue("--sab")||"0"),left:parseInt(a.getPropertyValue("--sal")||"0"),right:parseInt(a.getPropertyValue("--sar")||"0")}},optimizeForMobile:()=>{if(!Wn.isMobile())return;document.body.classList.add("mobile-device");let a=0;document.addEventListener("touchend",t=>{const s=Date.now();s-a<=300&&t.preventDefault(),a=s},!1)}},gA=()=>{const[a,t]=Xn.useState("web"),[s,r]=Xn.useState(!1),[c,d]=Xn.useState(!1);return Xn.useEffect(()=>{t(Wn.getPlatform()),r(Wn.isMobile()),d(Wn.hasNotch()),Wn.optimizeForMobile()},[]),{platform:a,isMobile:s,hasNotch:c,isIOS:a==="ios",isAndroid:a==="android"}},mA=Xn.lazy(()=>jt(()=>import("./Client-CsgBpAQx-1769119750716.js"),__vite__mapDeps([6,1,2,7,3,8,9])).then(a=>({default:a.ClientScreens}))),vA=Xn.lazy(()=>jt(()=>import("./Washer-BCQgBh0o-1769119750716.js"),__vite__mapDeps([10,1,2,8,7,3,4,11])).then(a=>({default:a.WasherScreens}))),yA=Xn.lazy(()=>jt(()=>import("./AdminPanel-CJFLs9U7-1769119750716.js"),__vite__mapDeps([12,1,2,7,3,11,13,9])).then(a=>({default:a.AdminScreens}))),bA=Xn.lazy(()=>jt(()=>import("./NativeTest-Buq7TnYY-1769119750716.js"),__vite__mapDeps([14,1,2,3])).then(a=>({default:a.NativeTest}))),EA=["places","geometry","marker"],wA=()=>{const{showToast:a}=cA(),{platform:t,isMobile:s,isIOS:r,isAndroid:c,hasNotch:d}=gA();h.useEffect(()=>{console.log(` VERSION 3.0.8 LOADED - Platform: ${t.toUpperCase()} ${d?"(Notch)":""} `),console.log(` UserAgent: ${navigator.userAgent}`),console.log(` Capacitor available: ${!!window.Capacitor}`),console.log(` CURRENT USER ROLE: ${(v==null?void 0:v.role)||"Guest"}`),s&&document.documentElement.classList.add("platform-mobile"),c&&document.documentElement.classList.add("platform-android"),r&&document.documentElement.classList.add("platform-ios"),Us.logEvent("app_platform_detected",{platform:t,isMobile:s,isIOS:r,isAndroid:c,hasNotch:d,userAgent:navigator.userAgent}),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(Q=>{console.log(" Service Worker registered for PWA:",Q),Us.logEvent("pwa_sw_registered",{platform:t})}).catch(Q=>console.error(" SW registration failed:",Q))}),Us.trackScreenView("App_Loaded")},[t,s,r,c,d]);const[f,g]=h.useState(null),[m,y]=h.useState(!1),[v,w]=h.useState(null),{orders:L,clients:A,team:C,packages:M,packagesError:R,addons:K,vehicleTypes:Y,discounts:X,bonuses:j,payments:I,issues:B,messages:F,notifications:ne,serviceArea:H,washerApplications:ce,loading:ue}=tA(f,v==null?void 0:v.role),{createOrder:te,updateOrder:de,cancelOrder:pe,savePackage:ve,deletePackage:D,saveAddon:$,deleteAddon:se,updateUserProfile:fe,deleteUser:ge,saveVehicleType:_e,deleteVehicleType:ye,createDiscount:oe,updateDiscount:x,deleteDiscount:S,createBonus:P,updateBonus:ae,deleteBonus:V,createPayment:ee,approveWasherApplication:J,rejectWasherApplication:le,createIssue:we,sendMessage:Re,addNotification:ke,submitOrderRating:be,saveServiceArea:et,grabOrder:qe}=Mb(),[Ce,zt]=h.useState(Oe.ONBOARDING);wT({id:"google-map-script",googleMapsApiKey:"AIzaSyAJsxt6sbl2mwtXehLgB6cF1rjiOD8x2PU",libraries:EA}),h.useEffect(()=>{window.history.replaceState({screen:Ce},"");const Q=ie=>{ie.state&&ie.state.screen&&(console.log("Navigating back to:",ie.state.screen),zt(ie.state.screen))};return window.addEventListener("popstate",Q),()=>window.removeEventListener("popstate",Q)},[]);const Ye=Q=>{Ce!==Q&&(typeof window<"u"&&(window.scrollTo(0,0),window.history.pushState({screen:Q},"",`?screen=${Q}`)),zt(Q))};h.useEffect(()=>{let Q;return(async()=>{Q=await om.addListener("backButton",({canGoBack:he})=>{[Oe.ONBOARDING,Oe.LOGIN,Oe.REGISTER,Oe.CLIENT_HOME,Oe.WASHER_DASHBOARD,Oe.ADMIN_DASHBOARD].includes(Ce)?(console.log("Minimizing app from root screen:",Ce),om.minimizeApp()):(console.log("Navigating back from:",Ce),window.history.back())})})(),()=>{Q&&Q.remove()}},[Ce]);const[Bt,Ri]=h.useState([]),[Lt,At]=h.useState([]),[Bn,ba]=h.useState([]),[hn,ei]=h.useState([]),[On,Ea]=h.useState([]),[ti,Ja]=h.useState([]),[tn,Ot]=h.useState([]),[Gt,Mt]=h.useState([]),[ki,$a]=h.useState([]),[ni,ii]=h.useState(null),[ai,si]=h.useState([{name:"App Commission",percentage:20}]);h.useEffect(()=>{(async()=>{try{const ie=Se(re,"settings","fees"),he=await qa(ie);he.exists()&&he.data().globalFees&&(si(he.data().globalFees),console.log(" Global Fees loaded:",he.data().globalFees))}catch(ie){console.error("Error loading fees",ie)}})()},[]),h.useEffect(()=>{ue||(Ri(L||[]),At(C||[]),ba(A||[]),ei(M||[]),Ea(K||[]),Ja(Y||[]),Ot(X||[]),Mt(j||[]),$a(I||[]),po(B||[]),oi(F||[]),Ni(ne||[]),ii(H||null))},[L,C,A,M,K,Y,X,j,I,B,F,ne,H,ue]),h.useEffect(()=>{if(v!=null&&v.id)if(v.role==="client"){const Q=Bn.find(ie=>ie.id===v.id);Q&&JSON.stringify(Q)!==JSON.stringify(v)&&(console.log(" Auto-syncing currentUser data from Firestore..."),w(Q))}else{const Q=Lt.find(ie=>ie.id===v.id);Q&&JSON.stringify(Q)!==JSON.stringify(v)&&(console.log(" Auto-syncing teamMember data from Firestore..."),w(Q))}},[Bn,Lt,v]);const[Vt,ri]=h.useState(""),[pn,es]=h.useState(""),[Hn,Ni]=h.useState([]),[Gn,oi]=h.useState([]),[Me,po]=h.useState([]),[go,ts]=h.useState({}),[mo,Qs]=h.useState(!1);h.useEffect(()=>{try{const ie=localStorage.getItem("app_user_cache");if(ie){const he=JSON.parse(ie);if(console.log(" OPTIMISTIC LOAD: Found cached profile",he.email),!he.id||!he.role)throw new Error("Invalid cached profile structure");w(he),he.role==="client"&&Ye(Oe.CLIENT_HOME),he.role==="washer"&&Ye(Oe.WASHER_DASHBOARD),he.role==="admin"&&Ye(Oe.ADMIN_DASHBOARD)}}catch(ie){console.warn("Optimistic load failed, clearing cache:",ie),localStorage.removeItem("app_user_cache"),w(null)}window.onFCMTokenReceived=async ie=>{if(console.log(" FCM Token Received from Android:",ie),Un.currentUser)try{const{doc:he,setDoc:xe}=await jt(async()=>{const{doc:De,setDoc:yt}=await import("./firebase-Dp89RMPZ-1769119750716.js").then(Qe=>Qe.ac);return{doc:De,setDoc:yt}},[]),{db:Ze}=await jt(async()=>{const{db:De}=await Promise.resolve().then(()=>Gd);return{db:De}},void 0);await xe(he(Ze,"users",Un.currentUser.uid),{fcmToken:ie,lastTokenUpdate:new Date().toISOString()},{merge:!0}),console.log(" FCM Token saved via Web App successfully"),localStorage.setItem("fcm_token",ie)}catch(he){console.error(" Error saving FCM token from Web:",he)}else console.warn(" Received FCM token but no user is logged in. Storing locally for later."),localStorage.setItem("pending_fcm_token",ie)};const Q=localStorage.getItem("pending_fcm_token");return Q&&Un.currentUser&&(window.onFCMTokenReceived(Q),localStorage.removeItem("pending_fcm_token")),()=>{window.onFCMTokenReceived=()=>{}}},[f]),h.useEffect(()=>{const Q=P0(Un,async ie=>{var he,xe;if(g(ie),y(!0),ie){typeof window<"u"&&((he=window.Android)!=null&&he.setUserId)&&(window.Android.setUserId(ie.uid),(xe=window.Android)!=null&&xe.requestFCMToken&&(console.log(" Requesting FCM token update from Android..."),window.Android.requestFCMToken()));const Ze=ie.email;if(!Ze)return;let De=null;try{De=await Fa.getCurrentUserProfile(ie.uid)}catch(Qe){console.error(" CRITICAL ERROR: Failed to fetch user profile. Aborting to protect data.",Qe),a("Connection error loading profile. Please refresh.","error");return}if(!De){console.warn("User document does not exist. Creating fallback profile..."),De={id:ie.uid,name:ie.displayName||"App User",email:Ze,role:"client",createdAt:new Date().toISOString(),phone:"",address:"",savedVehicles:[]};try{const{doc:Qe,setDoc:at}=await jt(async()=>{const{doc:Rn,setDoc:Ft}=await import("./firebase-Dp89RMPZ-1769119750716.js").then(gn=>gn.ac);return{doc:Rn,setDoc:Ft}},[]),{db:kt}=await jt(async()=>{const{db:Rn}=await Promise.resolve().then(()=>Gd);return{db:Rn}},void 0);await at(Qe(kt,"users",ie.uid),De,{merge:!0}),console.log(" User profile created/merged successfully in Firestore")}catch(Qe){console.error("Failed to create user profile:",Qe)}}const yt=De.role||"client";if(yt==="admin"){const at=Lt.find(kt=>kt.email.toLowerCase()===Ze.toLowerCase())||{id:ie.uid,name:De.name||"Admin",email:Ze,role:"admin",status:"Active",joinedDate:De.createdAt||new Date().toISOString(),avatar:De.avatar||ie.photoURL||"",completedJobs:0};w(at),Us.setUser(ie.uid,{role:"admin",email:Ze}),Us.trackLogin("email"),(Ce.startsWith("ONBOARDING")||Ce.startsWith("LOGIN")||Ce.startsWith("REGISTER"))&&(console.log("Redirecting Admin to Dashboard"),Ye(Oe.ADMIN_DASHBOARD))}else if(yt==="washer"){const at=Lt.find(kt=>kt.email.toLowerCase()===Ze.toLowerCase())||{id:ie.uid,name:De.name||"Washer",email:Ze,role:"washer",status:"Active",joinedDate:De.createdAt||new Date().toISOString(),avatar:De.avatar||ie.photoURL||"",completedJobs:0,rating:5};if(at.status==="Blocked"){a("Access Denied: Your account has been blocked.","error"),Fa.logout();return}if(w(at),Ce.startsWith("ONBOARDING")||Ce.startsWith("LOGIN")||Ce.startsWith("REGISTER")){if(!ie.emailVerified){console.warn(" Washer not verified. Enforcing email verification."),await Un.signOut(),w(null),localStorage.removeItem("app_user_cache"),Ye(Oe.LOGIN),a("Please verify your email before logging in as a washer.","warning");return}console.log("Redirecting Washer to Dashboard"),Ye(Oe.WASHER_DASHBOARD)}}else{const Qe={id:ie.uid,email:Ze,name:De.name||ie.displayName||"Client",role:"client",phone:De.phone||"",address:De.address||"",avatar:De.avatar||ie.photoURL||"",savedVehicles:De.savedVehicles||[],savedAddresses:De.savedAddresses||[],savedCards:De.savedCards||[]};if(w(Qe),Us.setUser(ie.uid,{role:"client",email:Ze}),Ce.startsWith("ONBOARDING")||Ce.startsWith("LOGIN")||Ce.startsWith("REGISTER")){if(!ie.emailVerified){console.warn(" User not verified. Enforcing email verification."),await Un.signOut(),w(null),localStorage.removeItem("app_user_cache"),Ye(Oe.LOGIN),a("Account created! Please verify your email before logging in. Check your inbox.","warning");return}console.log("Redirecting Client to Home"),Ye(Oe.CLIENT_HOME)}}}else v&&(console.log("User signed out, clearing cache"),w(null),localStorage.removeItem("app_user_cache"))});return()=>Q()},[Lt,Bn,Ce]),h.useEffect(()=>{var Q;if(f&&v){jt(async()=>{const{pushNotificationService:he}=await Promise.resolve().then(()=>pA);return{pushNotificationService:he}},void 0).then(({pushNotificationService:he})=>{he.initialize(v.id)}),window.onFCMTokenReceived=async he=>{console.log(" FCM Token Received from Native Android:",he);try{const{doc:xe,updateDoc:Ze,setDoc:De}=await jt(async()=>{const{doc:Qe,updateDoc:at,setDoc:kt}=await import("./firebase-Dp89RMPZ-1769119750716.js").then(Rn=>Rn.ac);return{doc:Qe,updateDoc:at,setDoc:kt}},[]),yt=xe(re,"users",v.id);await De(yt,{fcmToken:he},{merge:!0}),console.log(" FCM Token saved successfully to Firestore (Native Bridge)")}catch(xe){console.error(" Error saving native FCM token:",xe)}},(Q=window.Android)!=null&&Q.requestFCMToken&&(console.log(" Requesting FCM Token from Native Bridge..."),window.Android.requestFCMToken());const ie=he=>{var Ze,De,yt,Qe,at;const xe=he.detail;if(xe.notification){const kt=xe.notification.title||"Notification",Rn=xe.notification.body||"",Ft=((Ze=xe.data)==null?void 0:Ze.targetUserId)||((De=xe.data)==null?void 0:De.userId)||((yt=xe.data)==null?void 0:yt.recipientId),gn=((Qe=xe.data)==null?void 0:Qe.targetRole)||((at=xe.data)==null?void 0:at.role);if(console.log(` Filtering Notification: targetUser=${Ft}, targetRole=${gn} (Current: ${v==null?void 0:v.id}, ${v==null?void 0:v.role})`),Ft&&v&&Ft!==v.id){console.warn(` Ignoring notification for different user: ${Ft}`);return}if(gn&&v&&gn!==v.role){console.warn(` Ignoring notification for different role: ${gn}`);return}if((v==null?void 0:v.role)!=="admin"&&gn==="admin"){console.warn(" Blocking Admin notification for non-admin user");return}console.log(` Foreground Notification Confirmed for ${v==null?void 0:v.role}: ${kt}`),a(`${kt}: ${Rn}`,"info")}};return window.addEventListener("fcm-message",ie),()=>{window.removeEventListener("fcm-message",ie)}}},[f,v]);const[Js,Mn]=h.useState(null);h.useEffect(()=>{if(typeof window<"u"){const Q=new URLSearchParams(window.location.search),ie=Q.get("screen"),he=Q.get("orderId");ie&&Object.values(Oe).includes(ie)&&(console.log(" Deep Link Detected (Cold Start):",ie,he),Ye(ie),he&&Mn(he)),window.handleDeepLink=(xe,Ze)=>{console.log(" Deep Link Received (Native Bridge):",xe,Ze),Object.values(Oe).includes(xe)&&(Ye(xe),Ze&&Mn(Ze))}}},[]),h.useEffect(()=>{if(!f||!v)return;console.log(" Setting up real-time listener for user:",v.id);const Q=Ct(Se(re,"users",v.id),ie=>{if(ie.exists()){const he={id:ie.id,...ie.data()};console.log(" User document updated from Firestore:",he),console.log("   savedVehicles:",he.savedVehicles||[]),w(he),localStorage.setItem("app_user_cache",JSON.stringify(he))}else console.warn(" User document does not exist:",v.id)},ie=>{console.error(" Error listening to user document:",ie)});return()=>{console.log(" Cleaning up user listener"),Q()}},[f,v==null?void 0:v.id]);const pt=async()=>{console.log(" Logging out user:",v==null?void 0:v.id,v==null?void 0:v.role);try{v!=null&&v.id&&(console.log(" Clearing FCM token from Firestore..."),await fe(v.id,{fcmToken:null}),console.log(" FCM token cleared from Firestore")),await kb.clearToken(),console.log(" FCM token cleared from service")}catch(Q){console.error(" Error clearing FCM token on logout:",Q)}await Fa.logout(),w(null),localStorage.removeItem("app_user_cache"),Ye(Oe.ONBOARDING),a("Logged out successfully","info")},Ht=async Q=>{if(v)try{await fe(v.id,Q),w({...v,...Q}),a("Profile updated","success")}catch{a("Error updating profile","error")}},Di=async Q=>{if(v)try{console.log(" handleUpdateClientProfile START"),console.log("   currentUser.id:",v.id),console.log("   updates:",JSON.stringify(Q,null,2)),console.log("   Calling updateUserProfile..."),await fe(v.id,Q),console.log(" Firestore updated successfully - waiting for listener to update UI"),a("Profile updated","success"),console.log(" handleUpdateClientProfile END")}catch(ie){console.error(" Error in handleUpdateClientProfile:",ie),a("Error updating profile","error")}},$s=async Q=>{Qs(!0);try{let ie=Q.price||0;ie===0&&Q.vehicleConfigs&&Q.vehicleConfigs.length>0&&(console.log(" Calculating price from vehicleConfigs..."),ie=Q.vehicleConfigs.reduce((Ze,De)=>{const yt=hn.find(kt=>kt.id===De.packageId),Qe=(yt==null?void 0:yt.price[De.vehicleType])||0,at=(De.addonIds||[]).reduce((kt,Rn)=>{const Ft=On.find(ns=>ns.id===Rn),gn=(Ft==null?void 0:Ft.price[De.vehicleType])||0;return kt+gn},0);return console.log(`  ${De.vehicleModel}: Package $${Qe} + Addons $${at}`),Ze+Qe+at},0),console.log(` Total calculated price: $${ie}`));const he={clientName:(v==null?void 0:v.name)||"Client",clientId:v==null?void 0:v.id,vehicle:Q.vehicle||(Q.vehicleConfigs&&Q.vehicleConfigs.length>0?Q.vehicleConfigs[0].vehicleModel:"Unknown Vehicle"),vehicleType:Q.vehicleType||(Q.vehicleConfigs&&Q.vehicleConfigs.length>0?Q.vehicleConfigs[0].vehicleType:"Sedan"),service:Q.service||"Ultimate Shine",addons:Q.addons||[],vehicleConfigs:Q.vehicleConfigs||[],date:Q.date||"Today",time:Q.time||"10:00 AM",address:Q.address||(v==null?void 0:v.address)||"123 Main St, Springfield",price:ie,basePrice:ie,status:"Pending",location:Q.location,cardId:Q.cardId};console.log(" Creating order with price:",ie);const xe=await te(he);return ts({}),Ye(Oe.CLIENT_HOME),a("Order created successfully!","success"),xe}catch(ie){throw a("Failed to create order","error"),ie}finally{Qs(!1)}},er=async(Q,ie)=>{try{await de(Q,ie),a("Order updated","success")}catch{a("Failed to update order","error")}},cc=async(Q,ie=!1)=>{try{await pe(Q,ie);const he=Bt.find(xe=>xe.id===Q);if(he&&he.clientId){const xe=Bn.find(Ze=>Ze.id===he.clientId);if(xe){const Ze=typeof xe.rating=="number"?xe.rating:5,De=Math.max(0,parseFloat((Ze-.5).toFixed(1))),yt=(xe.cancellationCount||0)+1;await fe(xe.id,{rating:De,cancellationCount:yt}),console.log(`Penalty applied to Client ${xe.name}: Rating ${Ze} -> ${De}`)}}}catch(he){throw console.error("handleCancelOrder failed",he),he}},vo=async(Q,ie)=>{const he=Lt.find(xe=>xe.id===ie);await de(Q,{washerId:ie,washerName:(he==null?void 0:he.name)||"Unknown",status:"Assigned"}),a("Order assigned successfully","success")},wa=async Q=>{a("Team member creation requires Admin API integration","info")},tr=async Q=>{const ie=Lt.find(xe=>xe.id===Q),he=(ie==null?void 0:ie.status)==="Blocked"?"Active":"Blocked";await fe(Q,{status:he}),a(`User ${he==="Blocked"?"blocked":"unblocked"}`,"success")},Ii=async Q=>{if(window.confirm(" Are you sure you want to delete this user? This action cannot be undone."))try{await ge(Q),a("User deleted successfully","success")}catch{a("Error deleting user","error")}},Ui=async Q=>{await ve(Q),a("Package saved","success")},Sa=async Q=>{await D(Q),a("Package deleted","info")},ji=async Q=>{await $(Q),a("Addon saved","success")},vt=async Q=>{await se(Q),a("Addon deleted","info")},yo=async Q=>{await _e(Q),a("Vehicle Type saved","success")},bo=async Q=>{await ye(Q),a("Vehicle Type deleted","info")},Vn=async(Q,ie,he,xe,Ze)=>{await Re(Q,ie,he,xe,Ze)};return h.useEffect(()=>{var Q;if(c&&typeof window<"u"){console.log(" Initializing Native Android Bridge Callbacks"),window.onFCMTokenReceived=async he=>{if(console.log(" FCM Token Received from Native Android:",he),v&&v.id){if(v.fcmToken===he){console.log(" FCM Token already up to date. Skipping save.");return}try{await fe(v.id,{fcmToken:he}),console.log(" FCM Token saved successfully to Firestore")}catch(xe){console.error(" Error saving native FCM token:",xe)}}else console.warn(" Received FCM token but no user is logged in. Storing in localStorage."),localStorage.setItem("pendingFCMToken",he)},v&&!v.fcmToken&&((Q=window.Android)!=null&&Q.requestFCMToken)&&(console.log(" Requesting FCM token from Android native app (Missing token)..."),window.Android.requestFCMToken());const ie=localStorage.getItem("pendingFCMToken");ie&&v&&v.id&&(console.log(" Found pending FCM token, saving now..."),fe(v.id,{fcmToken:ie}).then(()=>{console.log(" Pending FCM token saved"),localStorage.removeItem("pendingFCMToken")}).catch(he=>console.error(" Error saving pending FCM token:",he)))}},[c,v==null?void 0:v.id,v==null?void 0:v.fcmToken]),h.useEffect(()=>{var Q;c&&v&&((Q=window.Android)!=null&&Q.setUserId)&&(console.log(" Syncing UserID with Native bridge:",v.id),window.Android.setUserId(v.id))},[c,v==null?void 0:v.id]),m?E.jsxs("div",{className:"h-screen w-screen overflow-hidden bg-background-dark text-white font-sans",children:[E.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none z-0",children:[E.jsx("div",{className:"absolute -top-20 -right-20 w-96 h-96 bg-primary/10 rounded-full blur-3xl opacity-10"}),E.jsx("div",{className:"absolute bottom-0 left-0 w-80 h-80 bg-blue-500/5 rounded-full blur-3xl opacity-10"})]}),E.jsx(lA,{currentUser:v&&v.role==="washer"?v:null,orders:Bt}),E.jsxs("div",{className:`relative z-10 w-full h-full mx-auto bg-background-dark shadow-2xl overflow-hidden flex flex-col ${Ce.startsWith("ADMIN")?"max-w-full":"max-w-md"}`,children:[(Ce.startsWith("ONBOARDING")||Ce===Oe.LOGIN||Ce===Oe.REGISTER||Ce===Oe.RECOVER_PASSWORD)&&E.jsx(eA,{screen:Ce,navigate:Ye}),Ce===Oe.WASHER_REGISTRATION&&E.jsx(iA,{navigate:Ye,onBack:()=>{v?v.role==="client"?Ye(Oe.CLIENT_PROFILE):v.role==="washer"?Ye(Oe.WASHER_DASHBOARD):v.role==="admin"?Ye(Oe.ADMIN_DASHBOARD):Ye(Oe.LOGIN):Ye(Oe.LOGIN)},initialData:v?{name:v.name,email:v.email,phone:v.phone,address:v.address}:void 0}),f&&v&&Ce!==Oe.WASHER_REGISTRATION&&E.jsx(h.Suspense,{fallback:E.jsx(iy,{message:"Loading..."}),children:(()=>{var Q;switch(!0){case Ce.startsWith("CLIENT"):const ie=v;return console.log(" Passing user to ClientScreens:",{id:ie.id,savedCards:ie.savedCards,savedVehicles:(Q=ie.savedVehicles)==null?void 0:Q.length}),E.jsx(mA,{screen:Ce,navigate:Ye,orders:Bt.filter(xe=>xe.clientId===v.id),updateOrder:er,cancelOrder:cc,createOrder:$s,user:ie,team:Lt,updateProfile:Di,notifications:Hn,addNotification:ke,messages:Gn,sendMessage:Vn,packages:hn,packagesError:R||null,addons:On,vehicleTypes:ti,logout:pt,targetOrderId:Js,newOrderDraft:go,setNewOrderDraft:ts,createIssue:we,submitOrderRating:be,serviceArea:ni,globalFees:ai,discounts:tn});case Ce.startsWith("WASHER"):const he=v;return E.jsx(vA,{screen:Ce,navigate:Ye,orders:Bt,updateOrder:er,currentWasherId:v.id,currentWasher:he,updateWasherProfile:Ht,supportPhone:Vt,notifications:Hn,addNotification:ke,messages:Gn,sendMessage:Vn,packages:hn,addons:On,logout:pt,grabOrder:qe,showToast:a,initialOrderId:Js});case Ce.startsWith("ADMIN"):return E.jsx(yA,{screen:Ce,navigate:Ye,orders:Bt,team:Lt,clients:Bn,packages:hn,addons:On,vehicleTypes:ti,supportPhone:Vt,setSupportPhone:ri,assignOrder:vo,updateOrder:er,cancelOrder:pe,addTeamMember:wa,toggleBlockUser:tr,deleteUser:Ii,updateUserProfile:fe,onSavePackage:Ui,onDeletePackage:Sa,onSaveAddon:ji,onDeleteAddon:vt,onSaveVehicleType:yo,onDeleteVehicleType:bo,washerApplications:ce||[],approveWasher:async(xe,Ze)=>{await J(xe,Ze),a("Washer Approved!","success")},rejectWasher:async xe=>{await le(xe),a("Application Rejected","info")},issues:Me,bonuses:Gt,discounts:tn,payments:ki,createBonus:P,updateBonus:ae,deleteBonus:V,createDiscount:oe,updateDiscount:x,deleteDiscount:S,createPayment:ee,showToast:a,currentUser:v,logout:pt,reportEmail:pn,setReportEmail:es,saveServiceArea:et,serviceArea:ni,addNotification:ke});case Ce===Oe.NATIVE_TEST:return E.jsx(bA,{navigate:Ye});default:return null}})()})]})]}):E.jsx(iy,{message:"Authenticating..."})},SA=()=>E.jsx(dA,{children:E.jsx(uA,{children:E.jsx(wA,{})})}),Nb=document.getElementById("root");if(!Nb)throw new Error("Could not find root element to mount to");const LA=ES.createRoot(Nb);LA.render(E.jsx(Xn.StrictMode,{children:E.jsx(SA,{})}));export{Qd as A,eL as B,Ld as C,h0 as D,no as E,da as F,RA as G,P0 as H,U0 as I,kS as J,FS as K,Va as L,RT as M,ym as N,Wa as O,R0 as P,M0 as Q,N0 as R,Oe as S,pa as T,z0 as U,I0 as V,uy as W,Gd as X,jt as _,MA as a,xA as b,AA as c,re as d,Un as e,wT as f,OA as g,_x as h,QC as i,E as j,Xd as k,Ws as l,ha as m,fa as n,j0 as o,G0 as p,VL as q,Fs as r,XC as s,zy as t,cA as u,g0 as v,k0 as w,XL as x,YS as y,fm as z};
